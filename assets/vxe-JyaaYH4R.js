import{g as Jw}from"./antd-DuJ4DLpV.js";import{h as E,a as Fo,j as qe,i as to,p as _o,P as mt,d as Qw,w as _t,r as Ye,o as El,f as Mn,n as ue,O as kg,E as Ca,Q as ey,R as ty,S as ry,l as oy}from"./vue-B71fNrMB.js";const ny="4.2.12",Rl={coreVersion:ny,uiVersion:"",tableVersion:"",designVersion:"",ganttVersion:""};var ss,Lg;function bn(){if(Lg)return ss;Lg=1;var e={keyId:1,cookies:{path:"/"},treeOptions:{parentKey:"parentId",key:"id",children:"children"},parseDateFormat:"yyyy-MM-dd HH:mm:ss",firstDayOfWeek:1};return ss=e,ss}var cs,Hg;function po(){if(Hg)return cs;Hg=1;function e(t,o,l){if(t)if(t.forEach)t.forEach(o,l);else for(var d=0,a=t.length;d<a;d++)o.call(l,t[d],d,t)}return cs=e,cs}var us,$g;function Yb(){if($g)return us;$g=1;var e=Object.prototype.toString;return us=e,us}var ds,Pg;function Ni(){if(Pg)return ds;Pg=1;var e=Yb();function t(o){return function(l){return"[object "+o+"]"===e.call(l)}}return ds=t,ds}var fs,_g;function xr(){if(_g)return fs;_g=1;var e=Ni(),t=Array.isArray||e("Array");return fs=t,fs}var gs,qg;function Xo(){if(qg)return gs;qg=1;function e(t,o){return t&&t.hasOwnProperty?t.hasOwnProperty(o):!1}return gs=e,gs}var ps,Ng;function Bi(){if(Ng)return ps;Ng=1;var e=Xo();function t(o,l,d){if(o)for(var a in o)e(o,a)&&l.call(d,o[a],a,o)}return ps=t,ps}var hs,Bg;function ro(){if(Bg)return hs;Bg=1;var e=xr(),t=po(),o=Bi();function l(d,a,p){return d&&(e(d)?t:o)(d,a,p)}return hs=l,hs}var vs,Gg;function ni(){if(Gg)return vs;Gg=1;function e(t){return function(o){return typeof o===t}}return vs=e,vs}var ms,Vg;function xo(){if(Vg)return ms;Vg=1;var e=ni(),t=e("function");return ms=t,ms}var bs,zg;function Pf(){if(zg)return bs;zg=1;var e=ro();function t(o,l){var d=Object[o];return function(a){var p=[];if(a){if(d)return d(a);e(a,l>1?function(b){p.push([""+b,a[b]])}:function(){p.push(arguments[l])})}return p}}return bs=t,bs}var xs,Wg;function In(){if(Wg)return xs;Wg=1;var e=Pf(),t=e("keys",1);return xs=t,xs}var Cs,jg;function _f(){if(jg)return Cs;jg=1;var e=Yb(),t=Bi(),o=po();function l(b,v){var y=b.__proto__.constructor;return v?new y(v):new y}function d(b,v){return v?a(b,v):b}function a(b,v){if(b)switch(e.call(b)){case"[object Object]":{var y=Object.create(Object.getPrototypeOf(b));return t(b,function(I,h){y[h]=d(I,v)}),y}case"[object Date]":case"[object RegExp]":return l(b,b.valueOf());case"[object Array]":case"[object Arguments]":{var m=[];return o(b,function(I){m.push(d(I,v))}),m}case"[object Set]":{var R=l(b);return R.forEach(function(I){R.add(d(I,v))}),R}case"[object Map]":{var D=l(b);return D.forEach(function(I,h){D.set(h,d(I,v))}),D}}return b}function p(b,v){return b&&a(b,v)}return Cs=p,Cs}var ws,Ug;function Io(){if(Ug)return ws;Ug=1;var e=po(),t=In(),o=xr(),l=_f(),d=Object.assign;function a(b,v,y){for(var m=v.length,R,D=1;D<m;D++)R=v[D],e(t(v[D]),y?function(I){b[I]=l(R[I],y)}:function(I){b[I]=R[I]});return b}var p=function(b){if(b){var v=arguments;if(b===!0){if(v.length>1)return b=o(b[1])?[]:{},a(b,v,!0)}else return d?d.apply(Object,v):a(b,v)}return b};return ws=p,ws}var ys,Yg;function ly(){if(Yg)return ys;Yg=1;var e=bn(),t=po(),o=ro(),l=xo(),d=Io(),a=function(){};function p(){t(arguments,function(m){o(m,function(R,D){a[D]=l(R)?function(){var I=R.apply(a.$context,arguments);return a.$context=null,I}:R})})}function b(m){return d(e,m)}function v(){return e}var y="3.7.9";return a.VERSION=y,a.version=y,a.mixin=p,a.setup=b,a.setConfig=b,a.getConfig=v,ys=a,ys}var Es,Xg;function qf(){if(Xg)return Es;Xg=1;function e(t,o,l){for(var d=t.length-1;d>=0;d--)o.call(l,t[d],d,t)}return Es=e,Es}var Rs,Kg;function Xb(){if(Kg)return Rs;Kg=1;var e=qf(),t=In();function o(l,d,a){e(t(l),function(p){d.call(a,l[p],p,l)})}return Rs=o,Rs}var Ss,Zg;function An(){if(Zg)return Ss;Zg=1;function e(t){return t===null}return Ss=e,Ss}var Os,Jg;function li(){if(Jg)return Os;Jg=1;var e=An();function t(o,l){return function(d){return e(d)?l:d[o]}}return Os=t,Os}var Ds,Qg;function iy(){if(Qg)return Ds;Qg=1;var e=ro(),t=xo(),o=li();function l(d,a,p){var b={};if(d)if(a)t(a)||(a=o(a)),e(d,function(v,y){b[y]=a.call(p,v,y,d)});else return d;return b}return Ds=l,Ds}var Ts,ep;function ii(){if(ep)return Ts;ep=1;function e(t){return t?t.constructor===Object:!1}return Ts=e,Ts}var Fs,tp;function Kb(){if(tp)return Fs;tp=1;function e(t){return t!=="__proto__"&&t!=="constructor"}return Fs=e,Fs}var Ms,rp;function ay(){if(rp)return Ms;rp=1;var e=xr(),t=ii(),o=xo(),l=ro(),d=Kb();function a(b,v){return t(b)&&t(v)||e(b)&&e(v)?(l(v,function(y,m){d(m)&&(b[m]=o(v)?y:a(b[m],y))}),b):v}var p=function(b){b||(b={});for(var v=arguments,y=v.length,m,R=1;R<y;R++)m=v[R],m&&a(b,m);return b};return Ms=p,Ms}var Is,op;function Sl(){if(op)return Is;op=1;var e=ro();function t(o,l,d){var a=[];if(o&&arguments.length>1){if(o.map)return o.map(l,d);e(o,function(){a.push(l.apply(d,arguments))})}return a}return Is=t,Is}var As,np;function Fa(){if(np)return As;np=1;var e=Xo(),t=xr();function o(l,d,a,p,b){return function(v,y,m){if(v&&y){if(l&&v[l])return v[l](y,m);if(d&&t(v)){for(var R=0,D=v.length;R<D;R++)if(!!y.call(m,v[R],R,v)===p)return[!0,!1,R,v[R]][a]}else for(var I in v)if(e(v,I)&&!!y.call(m,v[I],I,v)===p)return[!0,!1,I,v[I]][a]}return b}}return As=o,As}var ks,lp;function Zb(){if(lp)return ks;lp=1;var e=Fa(),t=e("some",1,0,!0,!1);return ks=t,ks}var Ls,ip;function Jb(){if(ip)return Ls;ip=1;var e=Fa(),t=e("every",1,1,!1,!0);return Ls=t,Ls}var Hs,ap;function ai(){if(ap)return Hs;ap=1;var e=Xo();function t(o,l){if(o){if(o.includes)return o.includes(l);for(var d in o)if(e(o,d)&&l===o[d])return!0}return!1}return Hs=t,Hs}var $s,sp;function Qb(){if(sp)return $s;sp=1;var e=xr(),t=ai();function o(l,d){var a,p=0;if(e(l)&&e(d)){for(a=d.length;p<a;p++)if(!t(l,d[p]))return!1;return!0}return t(l,d)}return $s=o,$s}var Ps,cp;function ex(){if(cp)return Ps;cp=1;var e=ro(),t=ai(),o=xo(),l=li();function d(a,p,b){var v=[];if(p){o(p)||(p=l(p));var y,m={};e(a,function(R,D){y=p.call(b,R,D,a),m[y]||(m[y]=1,v.push(R))})}else e(a,function(R){t(v,R)||v.push(R)});return v}return Ps=d,Ps}var _s,up;function Nf(){if(up)return _s;up=1;var e=Sl();function t(o){return e(o,function(l){return l})}return _s=t,_s}var qs,dp;function sy(){if(dp)return qs;dp=1;var e=ex(),t=Nf();function o(){for(var l=arguments,d=[],a=0,p=l.length;a<p;a++)d=d.concat(t(l[a]));return e(d)}return qs=o,qs}var Ns,fp;function Ko(){if(fp)return Ns;fp=1;var e="undefined";return Ns=e,Ns}var Bs,gp;function xn(){if(gp)return Bs;gp=1;var e=Ko(),t=ni(),o=t(e);return Bs=o,Bs}var Gs,pp;function kn(){if(pp)return Gs;pp=1;var e=An(),t=xn();function o(l){return e(l)||t(l)}return Gs=o,Gs}var Vs,hp;function tx(){if(hp)return Vs;hp=1;var e=/(.+)?\[(\d+)\]$/;return Vs=e,Vs}var zs,vp;function Bf(){if(vp)return zs;vp=1;function e(t){return t?t.splice&&t.join?t:(""+t).replace(/(\[\d+\])\.?/g,"$1.").replace(/\.$/,"").split("."):[]}return zs=e,zs}var Ws,mp;function Gi(){if(mp)return Ws;mp=1;var e=tx(),t=Bf(),o=Xo(),l=xn(),d=kn();function a(v,y,m){if(d(v))return m;var R=b(v,y);return l(R)?m:R}function p(v,y){var m=y?y.match(e):"";return m?m[1]?v[m[1]]?v[m[1]][m[2]]:void 0:v[m[2]]:v[y]}function b(v,y){if(v){var m,R,D,I=0;if(v[y]||o(v,y))return v[y];if(R=t(y),D=R.length,D){for(m=v;I<D;I++)if(m=p(m,R[I]),d(m))return I===D-1?m:void 0}return m}}return Ws=a,Ws}var js,bp;function Gf(){if(bp)return js;bp=1;var e=po(),t=Nf(),o=Sl(),l=xr(),d=xo(),a=ii(),p=xn(),b=An(),v=kn(),y=Gi(),m=li(),R="asc",D="desc";function I(k,_){return p(k)?1:b(k)?p(_)?-1:1:k&&k.localeCompare?k.localeCompare(_):k>_?1:-1}function h(k,_,U){return function(W,te){var X=W[k],F=te[k];return X===F?U?U(W,te):0:_.order===D?I(F,X):I(X,F)}}function f(k,_,U,W){var te=[];return U=l(U)?U:[U],e(U,function(X,F){if(X){var M=X,H;l(X)?(M=X[0],H=X[1]):a(X)&&(M=X.field,H=X.order),te.push({field:M,order:H||R}),e(_,d(M)?function(j,N){j[F]=M.call(W,j.data,N,k)}:function(j){j[F]=M?y(j.data,M):j.data})}}),te}function $(k,_,U){if(k){if(v(_))return t(k).sort(I);for(var W,te=o(k,function(M){return{data:M}}),X=f(k,te,_,U),F=X.length-1;F>=0;)W=h(F,X[F],W),F--;return W&&(te=te.sort(W)),o(te,m("data"))}return[]}return js=$,js}var Us,xp;function cy(){if(xp)return Us;xp=1;var e=Gf(),t=e;return Us=t,Us}var Ys,Cp;function rx(){if(Cp)return Ys;Cp=1;function e(t,o){return t>=o?t:(t=t>>0)+Math.round(Math.random()*((o||9)-t))}return Ys=e,Ys}var Xs,wp;function si(){if(wp)return Xs;wp=1;var e=Pf(),t=e("values",0);return Xs=t,Xs}var Ks,yp;function ox(){if(yp)return Ks;yp=1;var e=rx(),t=si();function o(l){for(var d,a=[],p=t(l),b=p.length-1;b>=0;b--)d=b>0?e(0,b):0,a.push(p[d]),p.splice(d,1);return a}return Ks=o,Ks}var Zs,Ep;function uy(){if(Ep)return Zs;Ep=1;var e=ox();function t(o,l){var d=e(o);return arguments.length<=1?d[0]:(l<d.length&&(d.length=l||0),d)}return Zs=t,Zs}var Js,Rp;function nx(){if(Rp)return Js;Rp=1;function e(t){return function(o){if(o){var l=t(o&&o.replace?o.replace(/,/g,""):o);if(!isNaN(l))return l}return 0}}return Js=e,Js}var Qs,Sp;function Ol(){if(Sp)return Qs;Sp=1;var e=nx(),t=e(parseFloat);return Qs=t,Qs}var ec,Op;function Dl(){if(Op)return ec;Op=1;var e=Ol();function t(o,l,d){var a=[],p=arguments.length;if(o){if(l=p>=2?e(l):0,d=p>=3?e(d):o.length,o.slice)return o.slice(l,d);for(;l<d;l++)a.push(o[l])}return a}return ec=t,ec}var tc,Dp;function dy(){if(Dp)return tc;Dp=1;var e=ro();function t(o,l,d){var a=[];if(o&&l){if(o.filter)return o.filter(l,d);e(o,function(p,b){l.call(d,p,b,o)&&a.push(p)})}return a}return tc=t,tc}var rc,Tp;function fy(){if(Tp)return rc;Tp=1;var e=Fa(),t=e("",0,2,!0);return rc=t,rc}var oc,Fp;function gy(){if(Fp)return oc;Fp=1;var e=Fa(),t=e("find",1,3,!0);return oc=t,oc}var nc,Mp;function py(){if(Mp)return nc;Mp=1;var e=xr(),t=si();function o(l,d,a){if(l){e(l)||(l=t(l));for(var p=l.length-1;p>=0;p--)if(d.call(a,l[p],p,l))return l[p]}}return nc=o,nc}var lc,Ip;function hy(){if(Ip)return lc;Ip=1;var e=In();function t(o,l,d){if(o){var a,p,b=0,v=null,y=d,m=arguments.length>2,R=e(o);if(o.length&&o.reduce)return p=function(){return l.apply(v,arguments)},m?o.reduce(p,y):o.reduce(p);for(m&&(b=1,y=o[R[0]]),a=R.length;b<a;b++)y=l.call(v,y,o[R[b]],b,o);return y}}return lc=t,lc}var ic,Ap;function vy(){if(Ap)return ic;Ap=1;var e=xr();function t(o,l,d,a){if(e(o)&&o.copyWithin)return o.copyWithin(l,d,a);var p,b,v=l>>0,y=d>>0,m=o.length,R=arguments.length>3?a>>0:m;if(v<m&&(v=v>=0?v:m+v,v>=0&&(y=y>=0?y:m+y,R=R>=0?R:m+R,y<R)))for(p=0,b=o.slice(y,R);v<m&&!(b.length<=p);v++)o[v]=b[p++];return o}return ic=t,ic}var ac,kp;function my(){if(kp)return ac;kp=1;var e=xr();function t(o,l){var d,a=[],p=l>>0||1;if(e(o))if(p>=0&&o.length>p)for(d=0;d<o.length;)a.push(o.slice(d,d+p)),d+=p;else a=o.length?[o]:o;return a}return ac=t,ac}var sc,Lp;function lx(){if(Lp)return sc;Lp=1;var e=Sl(),t=li();function o(l,d){return e(l,t(d))}return sc=o,sc}var cc,Hp;function ix(){if(Hp)return cc;Hp=1;var e=xo(),t=kn(),o=Gi(),l=po();function d(a){return function(p,b){if(p&&p.length){var v,y;return l(p,function(m,R){b&&(m=e(b)?b(m,R,p):o(m,b)),!t(m)&&(t(v)||a(v,m))&&(y=R,v=m)}),p[y]}return v}}return cc=d,cc}var uc,$p;function ax(){if($p)return uc;$p=1;var e=ix(),t=e(function(o,l){return o<l});return uc=t,uc}var dc,Pp;function sx(){if(Pp)return dc;Pp=1;var e=lx(),t=ax();function o(l){var d,a,p,b=[];if(l&&l.length)for(d=0,a=t(l,function(v){return v?v.length:0}),p=a?a.length:0;d<p;d++)b.push(e(l,d));return b}return dc=o,dc}var fc,_p;function by(){if(_p)return fc;_p=1;var e=sx();function t(){return e(arguments)}return fc=t,fc}var gc,qp;function xy(){if(qp)return gc;qp=1;var e=si(),t=ro();function o(l,d){var a={};return d=d||[],t(e(l),function(p,b){a[p]=d[b]}),a}return gc=o,gc}var pc,Np;function Cy(){if(Np)return pc;Np=1;var e=xr(),t=po();function o(d,a){var p=[];return t(d,function(b){p=p.concat(e(b)?a?o(b,a):b:[b])}),p}function l(d,a){return e(d)?o(d,a):[]}return pc=l,pc}var hc,Bp;function wy(){if(Bp)return hc;Bp=1;var e=Sl(),t=xr();function o(d,a){for(var p=0,b=a.length;d&&p<b;)d=d[a[p++]];return b&&d?d:0}function l(d,a){for(var p,b=arguments,v=[],y=[],m=2,R=b.length;m<R;m++)v.push(b[m]);if(t(a)){for(R=a.length-1,m=0;m<R;m++)y.push(a[m]);a=a[R]}return e(d,function(D){if(y.length&&(D=o(D,y)),p=D[a]||a,p&&p.apply)return p.apply(D,v)})}return hc=l,hc}var vc,Gp;function yy(){if(Gp)return vc;Gp=1;function e(t,o){return(console[t]||console.log)(o)}return vc=e,vc}var mc,Vp;function cx(){if(Vp)return mc;Vp=1;function e(t,o){try{delete t[o]}catch{t[o]=void 0}}return mc=e,mc}var bc,zp;function ux(){if(zp)return bc;zp=1;var e=xr(),t=qf(),o=Xb();function l(d,a,p){return d&&(e(d)?t:o)(d,a,p)}return bc=l,bc}var xc,Wp;function Ma(){if(Wp)return xc;Wp=1;var e=ni(),t=e("object");return xc=t,xc}var Cc,jp;function dx(){if(jp)return Cc;jp=1;var e=cx(),t=ii(),o=Ma(),l=xr(),d=An(),a=Io(),p=Bi();function b(v,y,m){if(v){var R,D=arguments.length>1&&(d(y)||!o(y)),I=D?m:y;if(t(v))p(v,D?function(h,f){v[f]=y}:function(h,f){e(v,f)}),I&&a(v,I);else if(l(v)){if(D)for(R=v.length;R>0;)R--,v[R]=y;else v.length=0;I&&v.push.apply(v,I)}}return v}return Cc=b,Cc}var wc,Up;function fx(){if(Up)return wc;Up=1;var e=cx(),t=xo(),o=xr(),l=ro(),d=po(),a=ux(),p=dx(),b=kn();function v(m){return function(R,D){return D===m}}function y(m,R,D){if(m){if(!b(R)){var I=[],h=[];return t(R)||(R=v(R)),l(m,function(f,$,k){R.call(D,f,$,k)&&I.push($)}),o(m)?a(I,function(f,$){h.push(m[f]),m.splice(f,1)}):(h={},d(I,function(f){h[f]=m[f],e(m,f)})),h}return p(m)}return m}return wc=y,wc}var yc,Yp;function Ey(){if(Yp)return yc;Yp=1;var e=bn(),t=yy(),o=Gf(),l=_f(),d=kn(),a=ro(),p=fx(),b=Io();function v(m,R){a(m,function(D){D[R]&&!D[R].length&&p(D,R)})}function y(m,R){var D=b({},e.treeOptions,R),I=D.strict,h=D.key,f=D.parentKey,$=D.children,k=D.mapChildren,_=D.sortKey,U=D.reverse,W=D.data,te=[],X={},F={},M,H,j;return _&&(m=o(l(m),_),U&&(m=m.reverse())),a(m,function(N){M=N[h],F[M]&&t("warn","Duplicate primary key="+M),F[M]=!0}),a(m,function(N){M=N[h],W?(H={},H[W]=N):H=N,j=N[f],X[M]=X[M]||[],H[h]=M,H[f]=j,M===j&&(j=null,t("warn","Error infinite Loop. key="+M+" parentKey="+M)),X[j]=X[j]||[],X[j].push(H),H[$]=X[M],k&&(H[k]=X[M]),(!I||I&&d(j))&&(F[j]||te.push(H))}),I&&v(m,$),te}return yc=y,yc}var Ec,Xp;function Ry(){if(Xp)return Ec;Xp=1;var e=bn(),t=po(),o=Io();function l(a,p,b,v){var y=v.key,m=v.parentKey,R=v.children,D=v.data,I=v.updated,h=v.clear;return t(b,function(f){var $=f[R];D&&(f=f[D]),I!==!1&&(f[m]=p?p[y]:null),a.push(f),$&&$.length&&l(a,f,$,v),h&&delete f[R]}),a}function d(a,p){return l([],null,a,o({},e.treeOptions,p))}return Ec=d,Ec}var Rc,Kp;function Ia(){if(Kp)return Rc;Kp=1;function e(t){return function(o,l,d,a){var p=d||{},b=p.children||"children";return t(null,o,l,a,[],[],b,p)}}return Rc=e,Rc}var Sc,Zp;function Sy(){if(Zp)return Sc;Zp=1;var e=Ia();function t(l,d,a,p,b,v,y,m){if(d){var R,D,I,h,f,$;for(D=0,I=d.length;D<I;D++){if(R=d[D],h=b.concat([""+D]),f=v.concat([R]),a.call(p,R,D,d,h,l,f))return{index:D,item:R,path:h,items:d,parent:l,nodes:f};if(y&&R&&($=t(R,R[y],a,p,h.concat([y]),f,y),$))return $}}}var o=e(t);return Sc=o,Sc}var Oc,Jp;function gx(){if(Jp)return Oc;Jp=1;var e=Ia(),t=ro();function o(d,a,p,b,v,y,m,R){var D,I;t(a,function(h,f){D=v.concat([""+f]),I=y.concat([h]),p.call(b,h,f,a,D,d,I),h&&m&&(D.push(m),o(h,h[m],p,b,D,I,m))})}var l=e(o);return Oc=l,Oc}var Dc,Qp;function Oy(){if(Qp)return Dc;Qp=1;var e=Ia(),t=Sl();function o(d,a,p,b,v,y,m,R){var D,I,h,f=R.mapChildren||m;return t(a,function($,k){return D=v.concat([""+k]),I=y.concat([$]),h=p.call(b,$,k,a,D,d,I),h&&$&&m&&$[m]&&(h[f]=o($,$[m],p,b,D,I,m,R)),h})}var l=e(o);return Dc=l,Dc}var Tc,eh;function Dy(){if(eh)return Tc;eh=1;var e=gx();function t(o,l,d,a){var p=[];return o&&l&&e(o,function(b,v,y,m,R,D){l.call(a,b,v,y,m,R,D)&&p.push(b)},d),p}return Tc=t,Tc}var Fc,th;function Ty(){if(th)return Fc;th=1;var e=Ia(),t=po(),o=Io();function l(a,p,b,v,y,m,R,D,I){var h,f,$,k,_,U=[],W=I.original,te=I.data,X=I.mapChildren||D,F=I.isEvery;return t(b,function(M,H){h=m.concat([""+H]),f=R.concat([M]),k=a&&!F||v.call(y,M,H,b,h,p,f),_=D&&M[D],k||_?(W?$=M:($=o({},M),te&&($[te]=M)),$[X]=l(k,M,M[D],v,y,h,f,D,I),(k||$[X].length)&&U.push($)):k&&U.push($)}),U}var d=e(function(a,p,b,v,y,m,R,D){return l(0,a,p,b,v,y,m,R,D)});return Fc=d,Fc}var Mc,rh;function px(){if(rh)return Mc;rh=1;function e(t,o){if(t.indexOf)return t.indexOf(o);for(var l=0,d=t.length;l<d;l++)if(o===t[l])return l}return Mc=e,Mc}var Ic,oh;function hx(){if(oh)return Ic;oh=1;function e(t,o){if(t.lastIndexOf)return t.lastIndexOf(o);for(var l=t.length-1;l>=0;l--)if(o===t[l])return l;return-1}return Ic=e,Ic}var Ac,nh;function Cn(){if(nh)return Ac;nh=1;var e=ni(),t=e("number");return Ac=t,Ac}var kc,lh;function Fy(){if(lh)return kc;lh=1;var e=Cn();function t(o){return e(o)&&isNaN(o)}return kc=t,kc}var Lc,ih;function Ln(){if(ih)return Lc;ih=1;var e=ni(),t=e("string");return Lc=t,Lc}var Hc,ah;function Jn(){if(ah)return Hc;ah=1;var e=Ni(),t=e("Date");return Hc=t,Hc}var $c,sh;function Vi(){if(sh)return $c;sh=1;var e=parseInt;return $c=e,$c}var Pc,ch;function My(){if(ch)return Pc;ch=1;function e(t){return Date.UTC(t.y,t.M||0,t.d||1,t.H||0,t.m||0,t.s||0,t.S||0)}return Pc=e,Pc}var _c,uh;function qo(){if(uh)return _c;uh=1;function e(t){return t.getTime()}return _c=e,_c}var qc,dh;function Co(){if(dh)return qc;dh=1;var e=Vi(),t=My(),o=qo(),l=Ln(),d=Jn();function a(q){return"(\\d{"+q+"})"}function p(q){return q<10?q*100:q<100?q*10:q}function b(q){return isNaN(q)?q:e(q)}for(var v=a(2),y=a("1,2"),m=a("1,7"),R=a("3,4"),D=".{1}",I=D+y,h="(([zZ])|([-+]\\d{2}:?\\d{2}))",f=[R,I,I,I,I,I,D+m,h],$=[],k=f.length-1;k>=0;k--){for(var _="",U=0;U<k+1;U++)_+=f[U];$.push(new RegExp("^"+_+"$"))}function W(q){for(var se,pe={},ge=0,ve=$.length;ge<ve;ge++)if(se=q.match($[ge]),se){pe.y=se[1],pe.M=se[2],pe.d=se[3],pe.H=se[4],pe.m=se[5],pe.s=se[6],pe.S=se[7],pe.Z=se[8];break}return pe}for(var te=[["yyyy",R],["yy",v],["MM",v],["M",y],["dd",v],["d",y],["HH",v],["H",y],["mm",v],["m",y],["ss",v],["s",y],["SSS",a(3)],["S",m],["Z",h]],X={},F=["\\[([^\\]]+)\\]"],U=0;U<te.length;U++){var M=te[U];X[M[0]]=M[1]+"?",F.push(M[0])}var H=new RegExp(F.join("|"),"g"),j={};function N(q,se){var pe=j[se];if(!pe){var ge=[],ve=se.replace(/([$(){}*+.?\\^|])/g,"\\$1").replace(H,function(de,me){var be=de.charAt(0);return be==="["?me:(ge.push(be),X[de])});pe=j[se]={_i:ge,_r:new RegExp(ve)}}var Oe={},ae=q.match(pe._r);if(ae){for(var oe=pe._i,ie=1,ce=ae.length;ie<ce;ie++)Oe[oe[ie-1]]=ae[ie];return Oe}return Oe}function B(q){if(/^[zZ]/.test(q.Z))return new Date(t(q));var se=q.Z.match(/([-+])(\d{2}):?(\d{2})/);return se?new Date(t(q)-(se[1]==="-"?-1:1)*e(se[2])*36e5+e(se[3])*6e4):new Date("")}function Z(q,se){if(q){var pe=d(q);if(pe||!se&&/^[0-9]{11,15}$/.test(q))return new Date(pe?o(q):e(q));if(l(q)){var ge=se?N(q,se):W(q);if(ge.y)return ge.M&&(ge.M=b(ge.M)-1),ge.S&&(ge.S=p(b(ge.S.substring(0,3)))),ge.Z?B(ge):new Date(ge.y,ge.M||0,ge.d||1,ge.H||0,ge.m||0,ge.s||0,ge.S||0)}}return new Date("")}return qc=Z,qc}var Nc,fh;function Aa(){if(fh)return Nc;fh=1;function e(){return new Date}return Nc=e,Nc}var Bc,gh;function vx(){if(gh)return Bc;gh=1;var e=Jn(),t=Co(),o=Aa();function l(d){var a,p=d?t(d):o();return e(p)?(a=p.getFullYear(),a%4===0&&(a%100!==0||a%400===0)):!1}return Bc=l,Bc}var Gc,ph;function Iy(){if(ph)return Gc;ph=1;var e=xr(),t=Xo();function o(l,d,a){if(l){if(e(l))for(var p=0,b=l.length;p<b&&d.call(a,l[p],p,l)!==!1;p++);else for(var v in l)if(t(l,v)&&d.call(a,l[v],v,l)===!1)break}}return Gc=o,Gc}var Vc,hh;function Ay(){if(hh)return Vc;hh=1;var e=xr(),t=Xo();function o(l,d,a){if(l){var p,b;if(e(l))for(p=l.length-1;p>=0&&d.call(a,l[p],p,l)!==!1;p--);else for(b=t(l),p=b.length-1;p>=0&&d.call(a,l[b[p]],b[p],l)!==!1;p--);}}return Vc=o,Vc}var zc,vh;function mx(){if(vh)return zc;vh=1;var e=xr(),t=Ln(),o=Xo();function l(d,a){return function(p,b){if(p){if(p[d])return p[d](b);if(t(p)||e(p))return a(p,b);for(var v in p)if(o(p,v)&&b===p[v])return v}return-1}}return zc=l,zc}var Wc,mh;function ky(){if(mh)return Wc;mh=1;var e=mx(),t=px(),o=e("indexOf",t);return Wc=o,Wc}var jc,bh;function bx(){if(bh)return jc;bh=1;var e=mx(),t=hx(),o=e("lastIndexOf",t);return jc=o,jc}var Uc,xh;function xx(){if(xh)return Uc;xh=1;var e=xr(),t=Ln(),o=ro();function l(d){var a=0;return t(d)||e(d)?d.length:(o(d,function(){a++}),a)}return Uc=l,Uc}var Yc,Ch;function Ly(){if(Ch)return Yc;Ch=1;var e=Cn();function t(o){return e(o)&&isFinite(o)}return Yc=t,Yc}var Xc,wh;function Cx(){if(wh)return Xc;wh=1;var e=xr(),t=An(),o=function(l){return!t(l)&&!isNaN(l)&&!e(l)&&l%1===0};return Xc=o,Xc}var Kc,yh;function Hy(){if(yh)return Kc;yh=1;var e=xr(),t=Cx(),o=An();function l(d){return!o(d)&&!isNaN(d)&&!e(d)&&!t(d)}return Kc=l,Kc}var Zc,Eh;function wx(){if(Eh)return Zc;Eh=1;var e=ni(),t=e("boolean");return Zc=t,Zc}var Jc,Rh;function Vf(){if(Rh)return Jc;Rh=1;var e=Ni(),t=e("RegExp");return Jc=t,Jc}var Qc,Sh;function yx(){if(Sh)return Qc;Sh=1;var e=Ni(),t=e("Error");return Qc=t,Qc}var eu,Oh;function $y(){if(Oh)return eu;Oh=1;function e(t){return t?t.constructor===TypeError:!1}return eu=e,eu}var tu,Dh;function Ex(){if(Dh)return tu;Dh=1;function e(t){for(var o in t)return!1;return!0}return tu=e,tu}var ru,Th;function Rx(){if(Th)return ru;Th=1;var e=Ko(),t=typeof Symbol!==e;function o(l){return t&&Symbol.isSymbol?Symbol.isSymbol(l):typeof l=="symbol"}return ru=o,ru}var ou,Fh;function Py(){if(Fh)return ou;Fh=1;var e=Ni(),t=e("Arguments");return ou=t,ou}var nu,Mh;function _y(){if(Mh)return nu;Mh=1;var e=Ln(),t=Cn();function o(l){return!!(l&&e(l.nodeName)&&t(l.nodeType))}return nu=o,nu}var lu,Ih;function zf(){if(Ih)return lu;Ih=1;var e=Ko(),t=typeof document===e?0:document;return lu=t,lu}var iu,Ah;function qy(){if(Ah)return iu;Ah=1;var e=zf();function t(o){return!!(o&&e&&o.nodeType===9)}return iu=t,iu}var au,kh;function Sx(){if(kh)return au;kh=1;var e=Ko(),t=typeof window===e?0:window;return au=t,au}var su,Lh;function Ny(){if(Lh)return su;Lh=1;var e=Sx();function t(o){return!!(e&&(o&&o===o.window))}return su=t,su}var cu,Hh;function By(){if(Hh)return cu;Hh=1;var e=Ko(),t=typeof FormData!==e;function o(l){return t&&l instanceof FormData}return cu=o,cu}var uu,$h;function Gy(){if($h)return uu;$h=1;var e=Ko(),t=typeof Map!==e;function o(l){return t&&l instanceof Map}return uu=o,uu}var du,Ph;function Vy(){if(Ph)return du;Ph=1;var e=Ko(),t=typeof WeakMap!==e;function o(l){return t&&l instanceof WeakMap}return du=o,du}var fu,_h;function zy(){if(_h)return fu;_h=1;var e=Ko(),t=typeof Set!==e;function o(l){return t&&l instanceof Set}return fu=o,fu}var gu,qh;function Wy(){if(qh)return gu;qh=1;var e=Ko(),t=typeof WeakSet!==e;function o(l){return t&&l instanceof WeakSet}return gu=o,gu}var pu,Nh;function Ox(){if(Nh)return pu;Nh=1;var e=xo(),t=Ln(),o=xr(),l=Xo();function d(a){return function(p,b,v){if(p&&e(b)){if(o(p)||t(p))return a(p,b,v);for(var y in p)if(l(p,y)&&b.call(v,p[y],y,p))return y}return-1}}return pu=d,pu}var hu,Bh;function Wf(){if(Bh)return hu;Bh=1;var e=Ox(),t=e(function(o,l,d){for(var a=0,p=o.length;a<p;a++)if(l.call(d,o[a],a,o))return a;return-1});return hu=t,hu}var vu,Gh;function Dx(){if(Gh)return vu;Gh=1;var e=Cn(),t=xr(),o=Ln(),l=Vf(),d=Jn(),a=wx(),p=xn(),b=In(),v=Jb();function y(m,R,D,I,h,f,$){if(m===R)return!0;if(m&&R&&!e(m)&&!e(R)&&!o(m)&&!o(R)){if(l(m))return D(""+m,""+R,h,f,$);if(d(m)||a(m))return D(+m,+R,h,f,$);var k,_,U,W=t(m),te=t(R);if(W||te?W&&te:m.constructor===R.constructor)return _=b(m),U=b(R),I&&(k=I(m,R,h)),_.length===U.length?p(k)?v(_,function(X,F){return X===U[F]&&y(m[X],R[U[F]],D,I,W||te?F:X,m,R)}):!!k:!1}return D(m,R,h,f,$)}return vu=y,vu}var mu,Vh;function Tx(){if(Vh)return mu;Vh=1;function e(t,o){return t===o}return mu=e,mu}var bu,zh;function Fx(){if(zh)return bu;zh=1;var e=Dx(),t=Tx();function o(l,d){return e(l,d,t)}return bu=o,bu}var xu,Wh;function jy(){if(Wh)return xu;Wh=1;var e=In(),t=Wf(),o=Fx(),l=Zb(),d=Qb();function a(p,b){var v=e(p),y=e(b);if(y.length){if(d(v,y))return l(y,function(m){return t(v,function(R){return R===m&&o(p[R],b[m])})>-1})}else return!0;return o(p,b)}return xu=a,xu}var Cu,jh;function Uy(){if(jh)return Cu;jh=1;var e=Dx(),t=Tx(),o=xo(),l=xn();function d(a,p,b){return o(b)?e(a,p,function(v,y,m,R,D){var I=b(v,y,m,R,D);return l(I)?t(v,y):!!I},b):e(a,p,t)}return Cu=d,Cu}var wu,Uh;function Yy(){if(Uh)return wu;Uh=1;var e=Rx(),t=Jn(),o=xr(),l=Vf(),d=yx(),a=An();function p(b){return a(b)?"null":e(b)?"symbol":t(b)?"date":o(b)?"array":l(b)?"regexp":d(b)?"error":typeof b}return wu=p,wu}var yu,Yh;function Xy(){if(Yh)return yu;Yh=1;var e=bn(),t=kn();function o(l){return""+(t(l)?"":l)+e.keyId++}return yu=o,yu}var Eu,Xh;function Ky(){if(Xh)return Eu;Xh=1;var e=Ox(),t=e(function(o,l,d){for(var a=o.length-1;a>=0;a--)if(l.call(d,o[a],a,o))return a;return-1});return Eu=t,Eu}var Ru,Kh;function Zy(){if(Kh)return Ru;Kh=1;var e=ii(),t=Ln();function o(l){if(e(l))return l;if(t(l))try{return JSON.parse(l)}catch{}return{}}return Ru=o,Ru}var Su,Zh;function Jy(){if(Zh)return Su;Zh=1;var e=kn();function t(o){return e(o)?"":JSON.stringify(o)}return Su=t,Su}var Ou,Jh;function Qy(){if(Jh)return Ou;Jh=1;var e=Pf(),t=e("entries",2);return Ou=t,Ou}var Du,Qh;function Mx(){if(Qh)return Du;Qh=1;var e=xo(),t=xr(),o=ro(),l=Wf();function d(a,p){return function(b,v){var y,m,R={},D=[],I=this,h=arguments,f=h.length;if(!e(v)){for(m=1;m<f;m++)y=h[m],D.push.apply(D,t(y)?y:[y]);v=0}return o(b,function($,k){((v?v.call(I,$,k,b):l(D,function(_){return _===k})>-1)?a:p)&&(R[k]=$)}),R}}return Du=d,Du}var Tu,ev;function eE(){if(ev)return Tu;ev=1;var e=Mx(),t=e(1,0);return Tu=t,Tu}var Fu,tv;function tE(){if(tv)return Fu;tv=1;var e=Mx(),t=e(0,1);return Fu=t,Fu}var Mu,rv;function rE(){if(rv)return Mu;rv=1;var e=si();function t(o){return e(o)[0]}return Mu=t,Mu}var Iu,ov;function oE(){if(ov)return Iu;ov=1;var e=si();function t(o){var l=e(o);return l[l.length-1]}return Iu=t,Iu}var Au,nv;function nE(){if(nv)return Au;nv=1;var e=tx(),t=Bf(),o=Xo();function l(d,a){if(d){if(o(d,a))return!0;var p,b,v,y,m,R,D=t(a),I=0,h=D.length;for(m=d;I<h&&(R=!1,p=D[I],y=p?p.match(e):"",y?(b=y[1],v=y[2],b?m[b]&&o(m[b],v)&&(R=!0,m=m[b][v]):o(m,v)&&(R=!0,m=m[v])):o(m,p)&&(R=!0,m=m[p]),R);I++)if(I===h-1)return!0}return!1}return Au=l,Au}var ku,lv;function lE(){if(lv)return ku;lv=1;var e=Vi(),t=Bf(),o=Kb(),l=Xo(),d=/(.+)?\[(\d+)\]$/;function a(v,y,m,R,D){if(v[y])m&&(v[y]=D);else{var I,h,f=y?y.match(d):null;if(m)h=D;else{var $=R?R.match(d):null;$&&!$[1]?h=new Array(e($[2])+1):h={}}return f?f[1]?(I=e(f[2]),v[f[1]]?m?v[f[1]][I]=h:v[f[1]][I]?h=v[f[1]][I]:v[f[1]][I]=h:(v[f[1]]=new Array(I+1),v[f[1]][I]=h)):v[f[2]]=h:v[y]=h,h}return v[y]}function p(v,y,m){if(v&&o(y)){if((v[y]||l(v,y))&&!b(y))v[y]=m;else for(var R=v,D=t(y),I=D.length,h=0;h<I;h++)if(!b(D[h])){var f=h===I-1;R=a(R,D[h],f,f?null:D[h+1],m)}}return v}function b(v){return v==="__proto__"||v==="constructor"||v==="prototype"}return ku=p,ku}var Lu,iv;function Ix(){if(iv)return Lu;iv=1;var e=Ex(),t=Ma(),o=xo(),l=li(),d=ro();function a(b){return function(){return e(b)}}function p(b,v,y){var m,R={};return b&&(v&&t(v)?v=a(v):o(v)||(v=l(v)),d(b,function(D,I){m=v?v.call(y,D,I,b):D,R[m]?R[m].push(D):R[m]=[D]})),R}return Lu=p,Lu}var Hu,av;function iE(){if(av)return Hu;av=1;var e=Ix(),t=Bi();function o(l,d,a){var p=e(l,d,a||this);return t(p,function(b,v){p[v]=b.length}),p}return Hu=o,Hu}var $u,sv;function Ax(){if(sv)return $u;sv=1;function e(t,o,l){var d,a,p=[],b=arguments;if(b.length<2&&(o=b[0],t=0),d=t>>0,a=o>>0,d<o)for(l=l>>0||1;d<a;d+=l)p.push(d);return p}return $u=e,$u}var Pu,cv;function aE(){if(cv)return Pu;cv=1;var e=In(),t=Dl(),o=ai(),l=po(),d=Io();function a(p,b){if(p&&b){var v=d.apply(this,[{}].concat(t(arguments,1))),y=e(v);l(e(p),function(m){o(y,m)&&(p[m]=v[m])})}return p}return Pu=a,Pu}var _u,uv;function sE(){if(uv)return _u;uv=1;var e=ix(),t=e(function(o,l){return o>l});return _u=t,_u}var qu,dv;function ka(){if(dv)return qu;dv=1;function e(t){return(t.split(".")[1]||"").length}return qu=e,qu}var Nu,fv;function zi(){if(fv)return Nu;fv=1;var e=Vi();function t(o,l){if(o.repeat)return o.repeat(l);var d=isNaN(l)?[]:new Array(e(l));return d.join(o)+(d.length>0?o:"")}return Nu=t,Nu}var Bu,gv;function kx(){if(gv)return Bu;gv=1;function e(t,o){return t.substring(0,o)+"."+t.substring(o,t.length)}return Bu=e,Bu}var Gu,pv;function Qn(){if(pv)return Gu;pv=1;var e=zi(),t=kx();function o(l){var d=""+l,a=d.match(/^([-+]?)((\d+)|((\d+)?[.](\d+)?))e([-+]{1})([0-9]+)$/);if(a){var p=l<0,b=p?"-":"",v=a[3]||"",y=a[5]||"",m=a[6]||"",R=a[7],D=a[8],I=D-m.length,h=D-v.length,f=D-y.length;return R==="+"?v?b+v+e("0",D):I>0?b+y+m+e("0",I):b+y+t(m,D):v?h>0?b+"0."+e("0",Math.abs(h))+v:b+t(v,h):f>0?b+"0."+e("0",Math.abs(f))+y+m:b+t(y,f)+m}return d}return Gu=o,Gu}var Vu,hv;function Lx(){if(hv)return Vu;hv=1;var e=ka(),t=Qn();function o(l,d){var a=t(l),p=t(d);return parseInt(a.replace(".",""))*parseInt(p.replace(".",""))/Math.pow(10,e(a)+e(p))}return Vu=o,Vu}var zu,vv;function jf(){if(vv)return zu;vv=1;var e=Lx(),t=Ol(),o=Qn();function l(d){return function(a,p){var b=t(a),v=b;if(b){p=p>>0;var y=o(b),m=y.split("."),R=m[0],D=m[1]||"",I=D.substring(0,p+1),h=R+(I?"."+I:"");if(p>=D.length)return t(h);if(h=b,p>0){var f=Math.pow(10,p);v=Math[d](e(h,f))/f}else v=Math[d](h)}return v}}return zu=l,zu}var Wu,mv;function Uf(){if(mv)return Wu;mv=1;var e=jf(),t=e("round");return Wu=t,Wu}var ju,bv;function Hx(){if(bv)return ju;bv=1;var e=jf(),t=e("ceil");return ju=t,ju}var Uu,xv;function $x(){if(xv)return Uu;xv=1;var e=jf(),t=e("floor");return Uu=t,Uu}var Yu,Cv;function wo(){if(Cv)return Yu;Cv=1;var e=kn(),t=Cn(),o=Qn();function l(d){return t(d)?o(d):""+(e(d)?"":d)}return Yu=l,Yu}var Xu,wv;function Yf(){if(wv)return Xu;wv=1;var e=Uf(),t=wo(),o=zi(),l=kx();function d(a,p){p=p>>0;var b=t(e(a,p)),v=b.split("."),y=v[0],m=v[1]||"",R=p-m.length;return p?R>0?y+"."+m+o("0",R):y+l(m,Math.abs(R)):y}return Xu=d,Xu}var Ku,yv;function cE(){if(yv)return Ku;yv=1;var e=bn(),t=Uf(),o=Hx(),l=$x(),d=Cn(),a=wo(),p=Yf(),b=Qn(),v=Io();function y(m,R){var D=v({},e.commafyOptions,R),I=D.digits,h=d(m),f,$,k,_,U;return h?(f=(D.ceil?o:D.floor?l:t)(m,I),$=b(I?p(f,I):f).split("."),_=$[0],U=$[1],k=_&&f<0,k&&(_=_.substring(1,_.length))):(f=a(m).replace(/,/g,""),$=f?[f]:[],_=$[0]),$.length?(k?"-":"")+_.replace(new RegExp("(?=(?!(\\b))(.{"+(D.spaceNumber||3)+"})+$)","g"),D.separator||",")+(U?"."+U:""):f}return Ku=y,Ku}var Zu,Ev;function uE(){if(Ev)return Zu;Ev=1;var e=Vi(),t=nx(),o=t(e);return Zu=o,Zu}var Ju,Rv;function Xf(){if(Rv)return Ju;Rv=1;var e=Lx(),t=Ol();function o(l,d){var a=t(l),p=t(d);return e(a,p)}return Ju=o,Ju}var Qu,Sv;function Px(){if(Sv)return Qu;Sv=1;var e=ka(),t=Qn(),o=Xf();function l(d,a){var p=t(d),b=t(a),v=Math.pow(10,Math.max(e(p),e(b)));return(o(d,v)+o(a,v))/v}return Qu=l,Qu}var ed,Ov;function dE(){if(Ov)return ed;Ov=1;var e=Px(),t=Ol();function o(l,d){return e(t(l),t(d))}return ed=o,ed}var td,Dv;function fE(){if(Dv)return td;Dv=1;var e=ka(),t=Qn(),o=Ol(),l=Yf();function d(a,p){var b=o(a),v=o(p),y=t(b),m=t(v),R=e(y),D=e(m),I=Math.pow(10,Math.max(R,D)),h=R>=D?R:D;return parseFloat(l((b*I-v*I)/I,h))}return td=d,td}var rd,Tv;function _x(){if(Tv)return rd;Tv=1;var e=ka(),t=Qn(),o=Xf();function l(d,a){var p=t(d),b=t(a),v=e(p),y=e(b),m=y-v,R=m<0,D=Math.pow(10,R?Math.abs(m):m);return o(p.replace(".","")/b.replace(".",""),R?1/D:D)}return rd=l,rd}var od,Fv;function gE(){if(Fv)return od;Fv=1;var e=_x(),t=Ol();function o(l,d){return e(t(l),t(d))}return od=o,od}var nd,Mv;function qx(){if(Mv)return nd;Mv=1;var e=Px(),t=xo(),o=xr(),l=ro(),d=Gi();function a(p,b,v){var y=0;return l(p&&p.length>2&&o(p)?p.sort():p,b?t(b)?function(){y=e(y,b.apply(v,arguments))}:function(m){y=e(y,d(m,b))}:function(m){y=e(y,m)}),y}return nd=a,nd}var ld,Iv;function pE(){if(Iv)return ld;Iv=1;var e=_x(),t=xx(),o=qx();function l(d,a,p){return e(o(d,a,p),t(d))}return ld=l,ld}var id,Av;function Wi(){if(Av)return id;Av=1;var e="first";return id=e,id}var ad,kv;function La(){if(kv)return ad;kv=1;var e="last";return ad=e,ad}var sd,Lv;function ji(){if(Lv)return sd;Lv=1;function e(t){return t.getFullYear()}return sd=e,sd}var cd,Hv;function ci(){if(Hv)return cd;Hv=1;var e=864e5;return cd=e,cd}var ud,$v;function Ha(){if($v)return ud;$v=1;function e(t){return t.getMonth()}return ud=e,ud}var dd,Pv;function No(){if(Pv)return dd;Pv=1;var e=Jn(),t=qo();function o(l){return e(l)&&!isNaN(t(l))}return dd=o,dd}var fd,_v;function Ui(){if(_v)return fd;_v=1;var e=Wi(),t=La(),o=ci(),l=ji(),d=qo(),a=Ha(),p=Co(),b=No(),v=Cn();function y(m,R,D){var I=R&&!isNaN(R)?R:0;if(m=p(m),b(m)){if(D===e)return new Date(l(m),a(m)+I,1);if(D===t)return new Date(d(y(m,I+1,e))-1);if(v(D)&&m.setDate(D),I){var h=m.getDate();if(m.setMonth(a(m)+I),h!==m.getDate())return m.setDate(1),new Date(d(m)-o)}}return m}return fd=y,fd}var gd,qv;function $a(){if(qv)return gd;qv=1;var e=Wi(),t=La(),o=ji(),l=Ui(),d=Co(),a=No();function p(b,v,y){var m;if(b=d(b),a(b)&&(v&&(m=v&&!isNaN(v)?v:0,b.setFullYear(o(b)+m)),y||!isNaN(y))){if(y===e)return new Date(o(b),0,1);if(y===t)return b.setMonth(11),l(b,0,t);b.setMonth(y)}return b}return gd=p,gd}var pd,Nv;function hE(){if(Nv)return pd;Nv=1;var e=Ui(),t=Co(),o=No();function l(a){var p=a.getMonth();return p<3?1:p<6?2:p<9?3:4}function d(a,p,b){var v,y=p&&!isNaN(p)?p*3:0;return a=t(a),o(a)?(v=(l(a)-1)*3,a.setMonth(v),e(a,y,b)):a}return pd=d,pd}var hd,Bv;function Nx(){if(Bv)return hd;Bv=1;var e=Wi(),t=La(),o=Vi(),l=ji(),d=Ha(),a=qo(),p=Co(),b=No();function v(y,m,R){if(y=p(y),b(y)&&!isNaN(m)){if(y.setDate(y.getDate()+o(m)),R===e)return new Date(l(y),d(y),y.getDate());if(R===t)return new Date(a(v(y,1,e))-1)}return y}return hd=v,hd}var vd,Gv;function Bx(){if(Gv)return vd;Gv=1;function e(t){return t.toUpperCase()}return vd=e,vd}var md,Vv;function Gx(){if(Vv)return md;Vv=1;var e=ci(),t=e*7;return md=t,md}var bd,zv;function Vx(){if(zv)return bd;zv=1;var e=bn(),t=ci(),o=Gx(),l=qo(),d=Co(),a=No(),p=Cn();function b(v,y,m,R){if(v=d(v),a(v)){var D=p(m),I=p(R),h=l(v);if(D||I){var f=I?R:e.firstDayOfWeek,$=v.getDay(),k=D?m:$;if($!==k){var _=0;f>$?_=-(7-f+$):f<$&&(_=f-$),k>f?h+=((k===0?7:k)-f+_)*t:k<f?h+=(7-f+k+_)*t:h+=_*t}}return y&&!isNaN(y)&&(h+=y*o),new Date(h)}return v}return bd=b,bd}var xd,Wv;function zx(){if(Wv)return xd;Wv=1;var e=bn(),t=ci(),o=Gx(),l=Cn(),d=ai(),a=Co(),p=No(),b=Vx(),v=Ax(),y=Sl(),m=qo(),R=y(v(0,7),function(h){return[(h+1)%7,(h+2)%7,(h+3)%7]});function D(h,f){var $=new Date(h).getDay();return d(R[f],$)}function I(h,f){return function($,k){var _=l(k)?k:e.firstDayOfWeek,U=a($);if(p(U)){var W=b(U,0,_,_),te=h(W),X=m(te),F=m(W),M=F+t*6,H=new Date(M),j=b(te,0,_,_),N=m(j),B;if(F===N)return 1;if(f(W,H)){for(B=m(h(H));B<M;B+=t)if(D(B,_))return 1}var Z=N+t*6,q=new Date(M),se=1;if(f(j,q)){for(se=0,B=X;B<Z;B+=t)if(D(B,_)){se++;break}}return Math.floor((F-N)/o)+se}return NaN}}return xd=I,xd}var Cd,jv;function Wx(){if(jv)return Cd;jv=1;var e=zx(),t=e(function(o){return new Date(o.getFullYear(),0,1)},function(o,l){return o.getFullYear()!==l.getFullYear()});return Cd=t,Cd}var wd,Uv;function vE(){if(Uv)return wd;Uv=1;var e=ji(),t=Ha();function o(l){return new Date(e(l),t(l),l.getDate())}return wd=o,wd}var yd,Yv;function mE(){if(Yv)return yd;Yv=1;var e=qo(),t=vE();function o(l){return e(t(l))}return yd=o,yd}var Ed,Xv;function jx(){if(Xv)return Ed;Xv=1;var e=ci(),t=Wi(),o=mE(),l=$a(),d=Co(),a=No();function p(b){return b=d(b),a(b)?Math.floor((o(b)-o(l(b,0,t)))/e)+1:NaN}return Ed=p,Ed}var Rd,Kv;function Ux(){if(Kv)return Rd;Kv=1;var e=wo(),t=xn(),o=zi();function l(d,a,p){var b=e(d);return a=a>>0,p=t(p)?" ":""+p,b.padStart?b.padStart(a,p):a>b.length?(a-=b.length,a>p.length&&(p+=o(p,a/p.length)),p.slice(0,a)+b):b}return Rd=l,Rd}var Sd,Zv;function Yx(){if(Zv)return Sd;Zv=1;var e=bn(),t=Bx(),o=ji(),l=Ha(),d=Co(),a=Wx(),p=jx(),b=Io(),v=No(),y=xo(),m=Ux();function R(h,f,$,k){var _=f[$];return _?y(_)?_(k,$,h):_[k]:k}var D=/\[([^\]]+)]|y{2,4}|M{1,2}|d{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|S{1,3}|Z{1,2}|W{1,2}|D{1,3}|[aAeEq]/g;function I(h,f,$){if(h){if(h=d(h),v(h)){var k=f||e.parseDateFormat||e.formatString,_=h.getHours(),U=_<12?"am":"pm",W=b({},e.parseDateRules||e.formatStringMatchs,$?$.formats:null),te=function(ge,ve){return(""+o(h)).substr(4-ve)},X=function(ge,ve){return m(l(h)+1,ve,"0")},F=function(ge,ve){return m(h.getDate(),ve,"0")},M=function(ge,ve){return m(_,ve,"0")},H=function(ge,ve){return m(_<=12?_:_-12,ve,"0")},j=function(ge,ve){return m(h.getMinutes(),ve,"0")},N=function(ge,ve){return m(h.getSeconds(),ve,"0")},B=function(ge,ve){return m(h.getMilliseconds(),ve,"0")},Z=function(ge,ve){var Oe=h.getTimezoneOffset()/60*-1;return R(h,W,ge,(Oe>=0?"+":"-")+m(Oe,2,"0")+(ve===1?":":"")+"00")},q=function(ge,ve){return m(R(h,W,ge,a(h,($?$.firstDay:null)||e.firstDayOfWeek)),ve,"0")},se=function(ge,ve){return m(R(h,W,ge,p(h)),ve,"0")},pe={yyyy:te,yy:te,MM:X,M:X,dd:F,d:F,HH:M,H:M,hh:H,h:H,mm:j,m:j,ss:N,s:N,SSS:B,S:B,ZZ:Z,Z,WW:q,W:q,DDD:se,D:se,a:function(ge){return R(h,W,ge,U)},A:function(ge){return R(h,W,ge,t(U))},e:function(ge){return R(h,W,ge,h.getDay())},E:function(ge){return R(h,W,ge,h.getDay())},q:function(ge){return R(h,W,ge,Math.floor((l(h)+3)/3))}};return k.replace(D,function(ge,ve){return ve||(pe[ge]?pe[ge](ge,ge.length):ge)})}return"Invalid Date"}return""}return Sd=I,Sd}var Od,Jv;function Xx(){if(Jv)return Od;Jv=1;var e=qo(),t=Aa(),o=Date.now||function(){return e(t())};return Od=o,Od}var Dd,Qv;function bE(){if(Qv)return Dd;Qv=1;var e=qo(),t=Xx(),o=Co(),l=Jn(),d=function(a,p){if(a){var b=o(a,p);return l(b)?e(b):b}return t()};return Dd=d,Dd}var Td,em;function xE(){if(em)return Td;em=1;var e=Yx();function t(o,l,d){return o&&l?(o=e(o,d),o!=="Invalid Date"&&o===e(l,d)):!1}return Td=t,Td}var Fd,tm;function CE(){if(tm)return Fd;tm=1;var e=zx(),t=e(function(o){return new Date(o.getFullYear(),o.getMonth(),1)},function(o,l){return o.getMonth()!==l.getMonth()});return Fd=t,Fd}var Md,rm;function wE(){if(rm)return Md;rm=1;var e=$a(),t=Co(),o=No(),l=vx();function d(a,p){return a=t(a),o(a)?l(e(a,p))?366:365:NaN}return Md=d,Md}var Id,om;function yE(){if(om)return Id;om=1;var e=ci(),t=Wi(),o=La(),l=qo(),d=Ui(),a=Co(),p=No();function b(v,y){return v=a(v),p(v)?Math.floor((l(d(v,y,o))-l(d(v,y,t)))/e)+1:NaN}return Id=b,Id}var Ad,nm;function EE(){if(nm)return Ad;nm=1;var e=qo(),t=Aa(),o=Co(),l=No(),d=[["yyyy",31536e6],["MM",2592e6],["dd",864e5],["HH",36e5],["mm",6e4],["ss",1e3],["S",0]];function a(p,b){var v,y,m,R,D,I,h={done:!1,status:!1,time:0};if(p=o(p),b=b?o(b):t(),l(p)&&l(b)&&(v=e(p),y=e(b),v<y))for(R=h.time=y-v,h.done=!0,h.status=!0,I=0,D=d.length;I<D;I++)m=d[I],R>=m[1]?I===D-1?h[m[0]]=R||0:(h[m[0]]=Math.floor(R/m[1]),R-=h[m[0]]*m[1]):h[m[0]]=0;return h}return Ad=a,Ad}var kd,lm;function RE(){if(lm)return kd;lm=1;var e=wo(),t=xn(),o=zi();function l(d,a,p){var b=e(d);return a=a>>0,p=t(p)?" ":""+p,b.padEnd?b.padEnd(a,p):a>b.length?(a-=b.length,a>p.length&&(p+=o(p,a/p.length)),b+p.slice(0,a)):b}return kd=l,kd}var Ld,im;function SE(){if(im)return Ld;im=1;var e=wo(),t=zi();function o(l,d){return t(e(l),d)}return Ld=o,Ld}var Hd,am;function Kx(){if(am)return Hd;am=1;var e=wo();function t(o){return o&&o.trimRight?o.trimRight():e(o).replace(/[\s\uFEFF\xA0]+$/g,"")}return Hd=t,Hd}var $d,sm;function Zx(){if(sm)return $d;sm=1;var e=wo();function t(o){return o&&o.trimLeft?o.trimLeft():e(o).replace(/^[\s\uFEFF\xA0]+/g,"")}return $d=t,$d}var Pd,cm;function Jx(){if(cm)return Pd;cm=1;var e=Kx(),t=Zx();function o(l){return l&&l.trim?l.trim():e(t(l))}return Pd=o,Pd}var _d,um;function Qx(){if(um)return _d;um=1;var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return _d=e,_d}var qd,dm;function eC(){if(dm)return qd;dm=1;var e=wo(),t=In();function o(l){var d=new RegExp("(?:"+t(l).join("|")+")","g");return function(a){return e(a).replace(d,function(p){return l[p]})}}return qd=o,qd}var Nd,fm;function OE(){if(fm)return Nd;fm=1;var e=Qx(),t=eC(),o=t(e);return Nd=o,Nd}var Bd,gm;function DE(){if(gm)return Bd;gm=1;var e=Qx(),t=eC(),o=ro(),l={};o(e,function(a,p){l[e[p]]=p});var d=t(l);return Bd=d,Bd}var Gd,pm;function tC(){if(pm)return Gd;pm=1;function e(t,o,l){return t.substring(o,l)}return Gd=e,Gd}var Vd,hm;function rC(){if(hm)return Vd;hm=1;function e(t){return t.toLowerCase()}return Vd=e,Vd}var zd,vm;function TE(){if(vm)return zd;vm=1;var e=wo(),t=tC(),o=Bx(),l=rC(),d={};function a(p){if(p=e(p),d[p])return d[p];var b=p.length,v=p.replace(/([-]+)/g,function(y,m,R){return R&&R+m.length<b?"-":""});return b=v.length,v=v.replace(/([A-Z]+)/g,function(y,m,R){var D=m.length;return m=l(m),R?D>2&&R+D<b?o(t(m,0,1))+t(m,1,D-1)+o(t(m,D-1,D)):o(t(m,0,1))+t(m,1,D):D>1&&R+D<b?t(m,0,D-1)+o(t(m,D-1,D)):m}).replace(/(-[a-zA-Z])/g,function(y,m){return o(t(m,1,m.length))}),d[p]=v,v}return zd=a,zd}var Wd,mm;function FE(){if(mm)return Wd;mm=1;var e=wo(),t=tC(),o=rC(),l={};function d(a){if(a=e(a),l[a])return l[a];if(/^[A-Z]+$/.test(a))return o(a);var p=a.replace(/^([a-z])([A-Z]+)([a-z]+)$/,function(b,v,y,m){var R=y.length;return R>1?v+"-"+o(t(y,0,R-1))+"-"+o(t(y,R-1,R))+m:o(v+"-"+y+m)}).replace(/^([A-Z]+)([a-z]+)?$/,function(b,v,y){var m=v.length;return o(t(v,0,m-1)+"-"+t(v,m-1,m)+(y||""))}).replace(/([a-z]?)([A-Z]+)([a-z]?)/g,function(b,v,y,m,R){var D=y.length;return D>1&&(v&&(v+="-"),m)?(v||"")+o(t(y,0,D-1))+"-"+o(t(y,D-1,D))+m:(v||"")+(R?"-":"")+o(y)+(m||"")});return p=p.replace(/([-]+)/g,function(b,v,y){return y&&y+v.length<p.length?"-":""}),l[a]=p,p}return Wd=d,Wd}var jd,bm;function ME(){if(bm)return jd;bm=1;var e=wo();function t(o,l,d){var a=e(o);return(arguments.length===1?a:a.substring(d)).indexOf(l)===0}return jd=t,jd}var Ud,xm;function IE(){if(xm)return Ud;xm=1;var e=wo();function t(o,l,d){var a=e(o),p=arguments.length;return p>1&&(p>2?a.substring(0,d).indexOf(l)===d-1:a.indexOf(l)===a.length-1)}return Ud=t,Ud}var Yd,Cm;function oC(){if(Cm)return Yd;Cm=1;var e=bn(),t=wo(),o=Jx(),l=Gi();function d(a,p,b){return t(a).replace((b||e).tmplRE||/\{{2}([.\w[\]\s]+)\}{2}/g,function(v,y){return l(p,o(y))})}return Yd=d,Yd}var Xd,wm;function AE(){if(wm)return Xd;wm=1;var e=oC();function t(o,l){return e(o,l,{tmplRE:/\{([.\w[\]\s]+)\}/g})}return Xd=t,Xd}var Kd,ym;function kE(){if(ym)return Kd;ym=1;function e(){}return Kd=e,Kd}var Zd,Em;function LE(){if(Em)return Zd;Em=1;var e=Dl();function t(o,l){var d=e(arguments,2);return function(){return o.apply(l,e(arguments).concat(d))}}return Zd=t,Zd}var Jd,Rm;function HE(){if(Rm)return Jd;Rm=1;var e=Dl();function t(o,l){var d=!1,a=null,p=e(arguments,2);return function(){return d||(a=o.apply(l,e(arguments).concat(p)),d=!0),a}}return Jd=t,Jd}var Qd,Sm;function $E(){if(Sm)return Qd;Sm=1;var e=Dl();function t(o,l,d){var a=0,p=[];return function(){var b=arguments;a++,a<=o&&p.push(b[0]),a>=o&&l.apply(d,[p].concat(e(b)))}}return Qd=t,Qd}var ef,Om;function PE(){if(Om)return ef;Om=1;var e=Dl();function t(o,l,d){var a=0,p=[];return d=d||this,function(){var b=arguments;a++,a<o&&(p.push(b[0]),l.apply(d,[p].concat(e(b))))}}return ef=t,ef}var tf,Dm;function _E(){if(Dm)return tf;Dm=1;var e=Io();function t(o,l,d){var a=null,p=null,b=!1,v=null,y=e({leading:!0,trailing:!0},d),m=y.leading,R=y.trailing,D=function(){a=null,p=null},I=function(){b=!0,o.apply(p,a),v=setTimeout(h,l),D()},h=function(){if(v=null,b){D();return}if(R===!0){I();return}D()},f=function(){var k=v!==null;return k&&clearTimeout(v),D(),v=null,b=!1,k},$=function(){if(a=arguments,p=this,b=!1,v===null&&m===!0){I();return}R===!0&&(v=setTimeout(h,l))};return $.cancel=f,$}return tf=t,tf}var rf,Tm;function qE(){if(Tm)return rf;Tm=1;var e=Io();function t(o,l,d){var a=null,p=null,b=typeof d=="boolean"?{leading:d,trailing:!d}:e({leading:!1,trailing:!0},d),v=!1,y=null,m=b.leading,R=b.trailing,D=function(){a=null,p=null},I=function(){v=!0,o.apply(p,a),D()},h=function(){if(m===!0&&(y=null),v){D();return}if(R===!0){I();return}D()},f=function(){var k=y!==null;return k&&clearTimeout(y),D(),y=null,v=!1,k},$=function(){v=!1,a=arguments,p=this,y===null?m===!0&&I():clearTimeout(y),y=setTimeout(h,l)};return $.cancel=f,$}return rf=t,rf}var of,Fm;function NE(){if(Fm)return of;Fm=1;var e=Dl();function t(o,l){var d=e(arguments,2),a=this;return setTimeout(function(){o.apply(a,d)},l)}return of=t,of}var nf,Mm;function nC(){if(Mm)return nf;Mm=1;var e=decodeURIComponent;return nf=e,nf}var lf,Im;function lC(){if(Im)return lf;Im=1;var e=nC(),t=po(),o=Ln();function l(d){var a,p={};return d&&o(d)&&t(d.split("&"),function(b){a=b.split("="),p[e(a[0])]=e(a[1]||"")}),p}return lf=l,lf}var af,Am;function iC(){if(Am)return af;Am=1;var e=encodeURIComponent;return af=e,af}var sf,km;function BE(){if(km)return sf;km=1;var e=iC(),t=ro(),o=xr(),l=An(),d=xn(),a=ii();function p(v,y,m){var R,D=[];return t(v,function(I,h){R=o(I),a(I)||R?D=D.concat(p(I,y+"["+h+"]",R)):D.push(e(y+"["+(m?"":h)+"]")+"="+e(l(I)?"":I))}),D}function b(v){var y,m=[];return t(v,function(R,D){d(R)||(y=o(R),a(R)||y?m=m.concat(p(R,D,y)):m.push(e(D)+"="+e(l(R)?"":R)))}),m.join("&").replace(/%20/g,"+")}return sf=b,sf}var cf,Lm;function Pa(){if(Lm)return cf;Lm=1;var e=Ko(),t=typeof location===e?0:location;return cf=t,cf}var uf,Hm;function aC(){if(Hm)return uf;Hm=1;var e=Pa();function t(){return e?e.origin||e.protocol+"//"+e.host:""}return uf=t,uf}var df,$m;function sC(){if($m)return df;$m=1;var e=Pa(),t=lC(),o=aC();function l(a){return t(a.split("?")[1]||"")}function d(a){var p,b,v,y,m=""+a;return m.indexOf("//")===0?m=(e?e.protocol:"")+m:m.indexOf("/")===0&&(m=o()+m),v=m.replace(/#.*/,"").match(/(\?.*)/),y={href:m,hash:"",host:"",hostname:"",protocol:"",port:"",search:v&&v[1]&&v[1].length>1?v[1]:""},y.path=m.replace(/^([a-z0-9.+-]*:)\/\//,function(R,D){return y.protocol=D,""}).replace(/^([a-z0-9.+-]*)(:\d+)?\/?/,function(R,D,I){return b=I||"",y.port=b.replace(":",""),y.hostname=D,y.host=D+b,"/"}).replace(/(#.*)/,function(R,D){return y.hash=D.length>1?D:"",""}),p=y.hash.match(/#((.*)\?|(.*))/),y.pathname=y.path.replace(/(\?|#.*).*/,""),y.origin=y.protocol+"//"+y.host,y.hashKey=p&&(p[2]||p[1])||"",y.hashQuery=l(y.hash),y.searchQuery=l(y.search),y}return df=d,df}var ff,Pm;function GE(){if(Pm)return ff;Pm=1;var e=Pa(),t=aC(),o=bx();function l(){if(e){var d=e.pathname,a=o(d,"/")+1;return t()+(a===d.length?d:d.substring(0,a))}return""}return ff=l,ff}var gf,_m;function VE(){if(_m)return gf;_m=1;var e=Pa(),t=sC();function o(){return e?t(e.href):{}}return gf=o,gf}var pf,qm;function zE(){if(qm)return pf;qm=1;var e=bn(),t=zf(),o=nC(),l=iC(),d=xr(),a=Ma(),p=Jn(),b=xn(),v=ai(),y=In(),m=Io(),R=po(),D=Aa(),I=qo(),h=$a(),f=Ui(),$=Nx();function k(j,N){var B=parseFloat(N),Z=D(),q=I(Z);switch(j){case"y":return I(h(Z,B));case"M":return I(f(Z,B));case"d":return I($(Z,B));case"h":case"H":return q+B*60*60*1e3;case"m":return q+B*60*1e3;case"s":return q+B*1e3}return q}function _(j){return(p(j)?j:new Date(j)).toUTCString()}function U(j,N,B){if(t){var Z,q,se,pe,ge,ve,Oe=[],ae=arguments;return d(j)?Oe=j:ae.length>1?Oe=[m({name:j,value:N},B)]:a(j)&&(Oe=[j]),Oe.length>0?(R(Oe,function(oe){Z=m({},e.cookies,oe),se=[],Z.name&&(q=Z.expires,se.push(l(Z.name)+"="+l(a(Z.value)?JSON.stringify(Z.value):Z.value)),q&&(isNaN(q)?q=q.replace(/^([0-9]+)(y|M|d|H|h|m|s)$/,function(ie,ce,de){return _(k(de,ce))}):/^[0-9]{11,13}$/.test(q)||p(q)?q=_(q):q=_(k("d",q)),Z.expires=q),R(["expires","path","domain","secure"],function(ie){b(Z[ie])||se.push(Z[ie]&&ie==="secure"?ie:ie+"="+Z[ie])})),t.cookie=se.join("; ")}),!0):(pe={},ge=t.cookie,ge&&R(ge.split("; "),function(oe){ve=oe.indexOf("="),pe[o(oe.substring(0,ve))]=o(oe.substring(ve+1)||"")}),ae.length===1?pe[j]:pe)}return!1}function W(j){return v(M(),j)}function te(j){return U(j)}function X(j,N,B){return U(j,N,B),U}function F(j,N){U(j,"",m({expires:-1},e.cookies,N))}function M(){return y(U())}function H(){return U()}return m(U,{has:W,set:X,setItem:X,get:te,getItem:te,remove:F,removeItem:F,keys:M,getJSON:H}),pf=U,pf}var hf,Nm;function WE(){if(Nm)return hf;Nm=1;var e=Ko(),t=zf(),o=Sx(),l=Io(),d=po();function a(v){try{var y="__xe_t";return v.setItem(y,1),v.removeItem(y),!0}catch{return!1}}function p(v){return navigator.userAgent.indexOf(v)>-1}function b(){var v,y,m,R=!1,D=!1,I=!1,h={isNode:!1,isMobile:R,isPC:!1,isDoc:!!t};if(!o&&typeof process!==e)h.isNode=!0;else{m=p("Edge"),y=p("Chrome"),R=/(Android|webOS|iPhone|iPad|iPod|SymbianOS|BlackBerry|Windows Phone)/.test(navigator.userAgent),h.isDoc&&(v=t.body||t.documentElement,d(["webkit","khtml","moz","ms","o"],function(f){h["-"+f]=!!v[f+"MatchesSelector"]}));try{D=a(o.localStorage)}catch{}try{I=a(o.sessionStorage)}catch{}l(h,{edge:m,firefox:p("Firefox"),msie:!m&&h["-ms"],safari:!y&&!m&&p("Safari"),isMobile:R,isPC:!R,isLocalStorage:D,isSessionStorage:I})}return h}return hf=b,hf}var vf,Bm;function jE(){if(Bm)return vf;Bm=1;var e=ly(),t=Io(),o=Bi(),l=Xb(),d=iy(),a=ay(),p=Sl(),b=Zb(),v=Jb(),y=Qb(),m=po(),R=qf(),D=ex(),I=sy(),h=Nf(),f=cy(),$=Gf(),k=ox(),_=uy(),U=Dl(),W=dy(),te=fy(),X=ai(),F=gy(),M=py(),H=hy(),j=vy(),N=my(),B=by(),Z=sx(),q=xy(),se=Cy(),pe=lx(),ge=wy(),ve=Ey(),Oe=Ry(),ae=Sy(),oe=gx(),ie=Oy(),ce=Dy(),de=Ty(),me=px(),be=hx(),le=Xo(),Te=xr(),Le=An(),Fe=Fy(),ot=xn(),De=xo(),Ke=Ma(),we=Ln(),K=ii(),xe=vx(),Re=Jn(),Ae=kn(),He=ro(),We=Iy(),Xe=Ay(),Je=ky(),lt=bx(),Ge=In(),gt=si(),Ve=_f(),je=xx(),nt=ux(),at=fx(),Mt=dx(),ht=Ly(),vt=Hy(),ft=Cx(),xt=wx(),_e=Cn(),St=Vf(),pt=yx(),Ot=$y(),Tt=Ex(),$t=Rx(),ut=Py(),Ut=_y(),Yt=qy(),Ct=Ny(),wt=By(),qt=Gy(),Q=Vy(),re=zy(),Ee=Wy(),ke=jy(),Be=Fx(),Et=Uy(),Dt=Yy(),it=Xy(),Ft=Wf(),Qe=Ky(),kt=Zy(),Xt=Jy(),Ar=Qy(),Cr=eE(),wr=tE(),qr=rE(),fr=oE(),Kr=nE(),yr=Gi(),Vt=lE(),Fr=Ix(),bt=iE(),mr=Ax(),gr=aE(),ir=rx(),ho=ax(),nr=sE(),Nr=cE(),io=Uf(),Sr=Hx(),Zr=$x(),oo=Yf(),Gr=uE(),$r=Ol(),er=Qn(),yt=dE(),Ur=fE(),kr=Xf(),Zo=gE(),Jr=qx(),uo=pE(),Jo=$a(),Qo=hE(),en=Ui(),Bo=Nx(),yo=Co(),Tl=Yx(),el=Xx(),ko=bE(),ui=No(),tl=xE(),u=Vx(),rl=jx(),tn=Wx(),vr=CE(),ol=wE(),vo=yE(),di=EE(),rn=RE(),wn=Ux(),Lo=SE(),mo=Jx(),Hn=Kx(),Fl=Zx(),nl=OE(),$n=DE(),Ml=TE(),Go=FE(),Il=ME(),Al=IE(),on=oC(),fi=AE(),Ho=wo(),Mr=kE(),yn=li(),ll=LE(),Vo=HE(),nn=$E(),En=PE(),gi=_E(),Rn=qE(),kl=NE(),Ll=lC(),ln=BE(),zo=sC(),Eo=GE(),Sn=VE(),Wt=zE(),Ir=WE();return t(e,{assign:t,objectEach:o,lastObjectEach:l,objectMap:d,merge:a,uniq:D,union:I,sortBy:f,orderBy:$,shuffle:k,sample:_,some:b,every:v,slice:U,filter:W,find:F,findLast:M,findKey:te,includes:X,arrayIndexOf:me,arrayLastIndexOf:be,map:p,reduce:H,copyWithin:j,chunk:N,zip:B,unzip:Z,zipObject:q,flatten:se,toArray:h,includeArrays:y,pluck:pe,invoke:ge,arrayEach:m,lastArrayEach:R,toArrayTree:ve,toTreeArray:Oe,findTree:ae,eachTree:oe,mapTree:ie,filterTree:ce,searchTree:de,hasOwnProp:le,eqNull:Ae,isNaN:Fe,isFinite:ht,isUndefined:ot,isArray:Te,isFloat:vt,isInteger:ft,isFunction:De,isBoolean:xt,isString:we,isNumber:_e,isRegExp:St,isObject:Ke,isPlainObject:K,isDate:Re,isError:pt,isTypeError:Ot,isEmpty:Tt,isNull:Le,isSymbol:$t,isArguments:ut,isElement:Ut,isDocument:Yt,isWindow:Ct,isFormData:wt,isMap:qt,isWeakMap:Q,isSet:re,isWeakSet:Ee,isLeapYear:xe,isMatch:ke,isEqual:Be,isEqualWith:Et,getType:Dt,uniqueId:it,getSize:je,indexOf:Je,lastIndexOf:lt,findIndexOf:Ft,findLastIndexOf:Qe,toStringJSON:kt,toJSONString:Xt,keys:Ge,values:gt,entries:Ar,pick:Cr,omit:wr,first:qr,last:fr,each:He,forOf:We,lastForOf:Xe,lastEach:nt,has:Kr,get:yr,set:Vt,groupBy:Fr,countBy:bt,clone:Ve,clear:Mt,remove:at,range:mr,destructuring:gr,random:ir,min:nr,max:ho,commafy:Nr,round:io,ceil:Sr,floor:Zr,toFixed:oo,toNumber:$r,toNumberString:er,toInteger:Gr,add:yt,subtract:Ur,multiply:kr,divide:Zo,sum:Jr,mean:uo,now:el,timestamp:ko,isValidDate:ui,isDateSame:tl,toStringDate:yo,toDateString:Tl,getWhatYear:Jo,getWhatQuarter:Qo,getWhatMonth:en,getWhatWeek:u,getWhatDay:Bo,getYearDay:rl,getYearWeek:tn,getMonthWeek:vr,getDayOfYear:ol,getDayOfMonth:vo,getDateDiff:di,trim:mo,trimLeft:Fl,trimRight:Hn,escape:nl,unescape:$n,camelCase:Ml,kebabCase:Go,repeat:Lo,padStart:wn,padEnd:rn,startsWith:Il,endsWith:Al,template:on,toFormatString:fi,toString:Ho,toValueString:Ho,noop:Mr,property:yn,bind:ll,once:Vo,after:nn,before:En,throttle:gi,debounce:Rn,delay:kl,unserialize:Ll,serialize:ln,parseUrl:zo,getBaseURL:Eo,locat:Sn,browse:Ir,cookie:Wt}),vf=e,vf}var UE=jE();const s=Jw(UE);var Jl=null,mf=null,Bn=null,Gm="z-index-manage",pl=null,Vm="z-index-style",cC="m",uC="s",qi={m:1e3,s:1e3};function Kf(){return Jl||typeof document<"u"&&(Jl=document),Jl}function dC(){return Jl&&!mf&&(mf=Jl.body||Jl.getElementsByTagName("body")[0]),mf}function YE(){var e=0,t=Kf();if(t){var o=dC();if(o)for(var l=o.getElementsByTagName("*"),d=0;d<l.length;d++){var a=l[d];if(a&&a.style&&a.nodeType===1){var p=a.style.zIndex;p&&/^\d+$/.test(p)&&(e=Math.max(e,Number(p)))}}}return e}function XE(){if(!pl){var e=Kf();e&&(pl=e.getElementById(Vm),pl||(pl=e.createElement("style"),pl.id=Vm,e.getElementsByTagName("head")[0].appendChild(pl)))}return pl}function fC(){var e=XE();if(e){var t="--dom-",o="-z-index";e.innerHTML=":root{"+t+"main"+o+":"+_a()+";"+t+"sub"+o+":"+Qf()+"}"}}function gC(){if(!Bn){var e=Kf();if(e&&(Bn=e.getElementById(Gm),!Bn)){var t=dC();t&&(Bn=e.createElement("div"),Bn.id=Gm,Bn.style.display="none",t.appendChild(Bn),Zf(qi.m),Jf(qi.s))}}return Bn}function pC(e){return function(t){if(t){t=Number(t),qi[e]=t;var o=gC();o&&(o.dataset?o.dataset[e]=t+"":o.setAttribute("data-"+e,t+""))}return fC(),qi[e]}}var Zf=pC(cC);function hC(e,t){return function(l){var d,a=gC();if(a){var p=a.dataset?a.dataset[e]:a.getAttribute("data-"+e);p&&(d=Number(p))}return d||(d=qi[e]),l?Number(l)<d?t():l:d}}var _a=hC(cC,vC);function vC(){return Zf(_a()+1)}var Jf=pC(uC),mC=hC(uC,bC);function Qf(){return _a()+mC()}function bC(){return Jf(mC()+1),Qf()}var eg={setCurrent:Zf,getCurrent:_a,getNext:vC,setSubCurrent:Jf,getSubCurrent:Qf,getSubNext:bC,getMax:YE};fC();const ri={size:"",version:1,zIndex:999,resizeInterval:500},xC={theme:""};function tg(e){const t=!e||e==="default"?"light":e;if(xC.theme=t,typeof document<"u"){const o=document.documentElement;o&&o.setAttribute("data-vxe-ui-theme",t)}return Rl}function KE(){return xC.theme}function ZE(e){return e&&(e.zIndex&&eg.setCurrent(e.zIndex),e.theme&&tg(e.theme),s.merge(ri,e)),Rl}function JE(e,t){return arguments.length?s.get(ri,e,t):ri}const QE={},Mf={};function CC(e){return s.isArray(e)?e:e?[e]:[]}function eR(e){return e&&Object.assign(Mf,e),Rl}function wC(e){return arguments.length?s.get(Mf,e):Mf}function tR(e){const t=wC(e);return yC(t,e)}function yC(e,t){return s.isFunction(e)?E("span",{},CC(e({name:t}))):E("i",{class:e})}const bl={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",Control:"Control",R:"R",P:"P",Z:"Z",X:"X",C:"C",V:"V",M:"M"},If=s.browse(),zm={" ":"Spacebar",Apps:bl.CONTEXT_MENU,Del:bl.DELETE,Up:bl.ARROW_UP,Down:bl.ARROW_DOWN,Left:bl.ARROW_LEFT,Right:bl.ARROW_RIGHT},EC=If.firefox?"DOMMouseScroll":"mousewheel",Af=[];function Dn(e){const t=e.type===EC;Af.forEach(({type:o,cb:l})=>{e.cancelBubble||(o===e.type||t&&o==="mousewheel")&&l(e)})}class Wm{constructor(t,o,l){Object.defineProperty(this,"$event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:""}),this.$event=t,t&&(t.type&&(this.type=t.type),t.key&&(this.key=t.key),t.code&&(this.code=t.code)),Object.assign(this,o),s.objectEach(l,(d,a)=>{if(s.isFunction(d)){let p=null,b=!1;Object.defineProperty(this,a,{get(){return b||(b=!0,p=d()),p}})}else this[a]=d})}stopPropagation(){const t=this.$event;t&&t.stopPropagation()}preventDefault(){const t=this.$event;t&&t.preventDefault()}}const rR=(e,t,o)=>(e instanceof Wm&&(e=e.$event),new Wm(e,t,o)),oR={on(e,t,o){Af.push({comp:e,type:t,cb:o})},off(e,t){s.remove(Af,o=>o.comp===e&&o.type===t)},hasKey(e,t){const{key:o}=e;return t=t.toLowerCase(),o?t===o.toLowerCase()||!!(zm[o]&&zm[o].toLowerCase()===t):!1}};If.isDoc&&(If.msie||(window.addEventListener("copy",Dn,!1),window.addEventListener("cut",Dn,!1),window.addEventListener("paste",Dn,!1)),document.addEventListener("keydown",Dn,!1),document.addEventListener("contextmenu",Dn,!1),window.addEventListener("mousedown",Dn,!1),window.addEventListener("blur",Dn,!1),window.addEventListener("resize",Dn,!1),window.addEventListener(EC,s.throttle(Dn,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));let jm;const Cl=[],nR=500;function lR(){Cl.length&&(Cl.forEach(e=>{e.tarList.forEach(t=>{const{target:o,width:l,heighe:d}=t,a=o.clientWidth,p=o.clientHeight;(a&&l!==a||p&&d!==p)&&(t.width=a,t.heighe=p,setTimeout(e.callback))})}),RC())}function RC(){clearTimeout(jm),jm=setTimeout(lR,ri.resizeInterval||nR)}class iR{constructor(t){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=t}observe(t){if(t){const{tarList:o}=this;o.some(l=>l.target===t)||o.push({target:t,width:t.clientWidth,heighe:t.clientHeight}),Cl.length||RC(),Cl.some(l=>l===this)||Cl.push(this)}}unobserve(t){s.remove(Cl,o=>o.tarList.some(l=>l.target===t))}disconnect(){s.remove(Cl,t=>t===this)}}const aR={create(e){return window.ResizeObserver?new window.ResizeObserver(e):new iR(e)}},oi=Fo({language:"",langMaps:{}});let Um=!1,pa={};function SC(e,t){const{langMaps:o,language:l}=oi,{i18n:d}=ri;if(d)return`${d(e,t)||""}`;if(Um||(o[l]||console.error(`[vxe core] 语言包未安装。Language not installed. https://${Rl.uiVersion?"vxeui.com":"vxetable.cn"}/#/start/i18n`),Um=!0),!t&&pa[e])return pa[e];const a=s.toFormatString(s.get(o[l],e,e),t);return t||(pa[e]=a),a}function sR(e){const{language:t}=oi,o=e||"zh-CN";return t!==o&&(oi.language=o,pa={}),Rl}function cR(e,t){return oi.langMaps[e]=Object.assign({},t),Rl}function uR(e){const{langMaps:t}=oi;return!!t[e]}function dR(){const{language:e}=oi;return e}function bf(e,t){return function(o,l){const d=`[vxe ${t||""}] ${SC(o,l)}`;return console[e](d),d}}const Ym="4.2.12",vn={create:bf,warn:bf("warn",`v${Ym}`),err:bf("error",`v${Ym}`)},Ri={},Ul={mixin(e){return s.each(e,(t,o)=>Ul.add(o,t)),Ul},get(e){return Ri[e]||null},add(e,t){if(e&&t){const o=Ri[e];o?(s.each(t,(l,d)=>{!s.eqNull(o[d])&&o[d]!==l&&vn.warn("vxe.error.coverProp",[`Renderer.${e}`,d])}),Object.assign(o,t)):Ri[e]=t}return Ul},forEach(e){return s.objectEach(Ri,e),Ul},delete(e){return delete Ri[e],Ul}};class OC{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return s.each(t,(o,l)=>{this.add(l,o)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,o){const l=this.store[t],d=s.keys(l);return s.each(o,(a,p)=>{d.includes(p)&&vn.warn("vxe.error.coverProp",[t,p])}),this.store[t]=l?s.merge(l,o):o,this}delete(t){delete this.store[t]}forEach(t){s.objectEach(this.store,t)}}const DC=new OC;Object.assign(DC,{_name:"Validators"});class fR{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return s.each(t,(o,l)=>{this.add(l,o)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,o){const l=this.store[t];s.isFunction(o)&&(vn.warn("vxe.error.delProp",["menus -> callback","menuMethod"]),o={menuMethod:o});const d=s.keys(l);return s.each(o,(a,p)=>{d.includes(p)&&vn.warn("vxe.error.coverProp",[t,p])}),this.store[t]=l?s.merge(l,o):o,this}delete(t){delete this.store[t]}forEach(t){s.objectEach(this.store,t)}}const TC=new fR;Object.assign(TC,{_name:"Menus"});class gR{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return s.each(t,(o,l)=>{this.add(l,o)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,o){const l=this.store[t];s.isFunction(o)&&(vn.warn("vxe.error.delProp",["formats -> callback","cellFormatMethod"]),o={cellFormatMethod:o});const d=s.keys(l);return s.each(o,(a,p)=>{d.includes(p)&&vn.warn("vxe.error.coverProp",[t,p])}),this.store[t]=l?s.merge(l,o):o,this}delete(t){delete this.store[t]}forEach(t){s.objectEach(this.store,t)}}const FC=new gR;Object.assign(FC,{_name:"Formats"});class pR{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return s.each(t,(o,l)=>{this.add(l,o)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,o){const l=this.store[t];s.isFunction(o)&&(vn.warn("vxe.error.delProp",["commands -> callback","commandMethod"]),o={commandMethod:o});const d=s.keys(l);return s.each(o,(a,p)=>{d.includes(p)&&vn.warn("vxe.error.coverProp",[t,p])}),this.store[t]=l?s.merge(l,o):o,this}delete(t){delete this.store[t]}forEach(t){s.objectEach(this.store,t)}}const MC=new pR;Object.assign(MC,{_name:"Commands"});const Si={},ha={mixin(e){return s.each(e,(t,o)=>{ha.add(o,t)}),ha},get(e){return Si[e]||[]},add(e,t){s.isFunction(t)&&(t={tableInterceptorMethod:t});const o=t.tableInterceptorMethod;if(o){let l=Si[e];l||(l=Si[e]=[]),l.indexOf(o)>-1&&vn.warn("vxe.error.coverProp",["Interceptor",e]),l.push(o)}return ha},delete(e,t){const o=Si[e];if(o){s.isFunction(t)&&(t={tableInterceptorMethod:t});const l=t?t.tableInterceptorMethod:null;l?s.remove(o,d=>d===l):delete Si[e]}}};let fn;const Oi={text:"",html:""};function hR(e){if(!fn){fn=document.createElement("textarea"),fn.id="$VxeCopy";const t=fn.style;t.width="48px",t.height="24px",t.position="fixed",t.zIndex="0",t.left="-500px",t.top="-500px",document.body.appendChild(fn)}fn.value=e}const vR={getStore(){return Oi},setStore(e){Object.assign(Oi,e||{})},copy(e){let t=!1;try{const o=s.toValueString(e);hR(o),fn.select(),fn.setSelectionRange(0,fn.value.length),t=document.execCommand("copy"),fn.blur(),Oi.text=o,Oi.html=""}catch{}return t},getText(){return Oi.text||""}};function va(e,t){let o=!0,l=!1;const d=t||ri.permissionMethod;if(e&&d){o=!1,l=!0;let p=!1,b=!1;const v=String(e).split("|");for(let y=0;y<v.length;y++){const m=v[y];let R=!0,D=!1;const I=d({code:m});if(s.isBoolean(I)?R=I:I&&(R=!!I.visible,D=!!I.disabled),!D&&!b&&(b=!0,l=D),R&&!p&&(p=!0,o=R),p&&b)break}}return{code:e,visible:o,disabled:l}}const mR={getCheckInfo(e){return va(e)},checkVisible(e){return va(e).visible},checkDisable(e){return va(e).disabled}},bR=new OC;function xR(e){const t=to("xeSizeInfo",null),o=qe(()=>e.size||(t?t.value:null));return _o("xeSizeInfo",o),{computeSize:o}}function CR(e){return{computePermissionInfo:qe(()=>va(e.permissionCode,e.permissionMethod))}}const wR={useSize:xR,usePermission:CR},Xm=[];function yR(e,t){return e&&e.install&&Xm.indexOf(e)===-1&&(e.install(ye,t),Xm.push(e)),ye}const wa={};function ER(e){return wa[e]||null}function RR(e){return!!wa[e]}function SR(e){e&&e.name&&(wa[e.name]=e,wa[s.kebabCase(e.name)]=e)}function OR(){return mt()}function DR(e,t,o){if(e){const l=`${e}`.match(/(\d+).(\d+).(\d+)/);if(l){const d=s.toNumber(l[1]);if(o){const a=s.toNumber(l[2]);return d>=t&&a>=o}return d>=t}}return!1}const ye=Object.assign(Rl,{renderEmptyElement:OR,setTheme:tg,getTheme:KE,setConfig:ZE,getConfig:JE,setIcon:eR,getIcon:wC,renderGlobalIcon:tR,renderCustomIcon:yC,setLanguage:sR,hasLanguage:uR,getLanguage:dR,setI18n:cR,getI18n:SC,globalEvents:oR,GLOBAL_EVENT_KEYS:bl,createEvent:rR,globalResize:aR,renderer:Ul,validators:DC,menus:TC,formats:FC,commands:MC,interceptor:ha,clipboard:vR,log:vn,permission:mR,globalStore:QE,hooks:bR,component:SR,getComponent:ER,hasComponent:RR,useFns:wR,getSlotVNs:CC,checkVersion:DR,use:yR});tg();function It(e){return e&&e.enabled!==!1}function rg(e){return e==null||e===""}function IC(e){const t=e.name,o=s.lastIndexOf(t,"."),l=t.substring(o+1,t.length).toLowerCase();return{filename:t.substring(0,o),type:l}}function AC(){return eg.getNext()}function kC(){return eg.getCurrent()}function Kl(e){return e&&e.children&&e.children.length>0}function mn(e,t){if(e){const o=ye.getConfig().translate;return s.toValueString(o?o(""+e,t):e)}return""}function jr(e,t){return""+(rg(e)?t?ye.getConfig().emptyCell:"":e)}function gn(e){return e===""||s.eqNull(e)}const LC="4.16.21";ye.version=LC;ye.tableVersion=LC;ye.setConfig({emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,resizeConfig:{},resizableConfig:{dragMode:"auto",showDragTip:!0,isSyncAutoHeight:!0,isSyncAutoWidth:!0,minHeight:18},radioConfig:{strict:!0},rowDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},columnDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},headerTooltipConfig:{enterable:!0},footerTooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single",theme:"beautify"},columnConfig:{autoOptions:{isCalcHeader:!0,isCalcBody:!0,isCalcFooter:!0},maxFixedSize:4},cellConfig:{padding:!0},headerCellConfig:{height:"unset"},footerCellConfig:{height:"unset"},menuConfig:{destroyOnClose:!0},customConfig:{allowVisible:!0,allowResizable:!0,allowFixed:!0,allowSort:!0,showFooter:!0,placement:"top-right",storeOptions:{visible:!0,resizable:!0,sort:!0,fixed:!0},modalOptions:{showMaximize:!0,mask:!0,lockView:!0,resize:!0,escClosable:!0},drawerOptions:{mask:!0,lockView:!0,escClosable:!0,resize:!0}},sortConfig:{showIcon:!0,allowClear:!0,allowBtn:!0,iconLayout:"vertical"},filterConfig:{destroyOnClose:!0,multiple:!0,showIcon:!0},aggregateConfig:{padding:!0,rowField:"id",parentField:"_X_ROW_PARENT_KEY",childrenField:"_X_ROW_CHILDREN",mapChildrenField:"_X_ROW_CHILD_LIST",indent:20,showIcon:!0,maxGroupSize:4,showAggFuncTitle:!0},treeConfig:{padding:!0,rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0,mode:"fixed"},editConfig:{showIcon:!0,showAsterisk:!0,autoFocus:!0},importConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},printConfig:{},mouseConfig:{extension:!0},keyboardConfig:{isAll:!0,isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0,selectCellByBody:!0,extendDirection:{top:!0,left:!0,bottom:!0,right:!0}},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},virtualXConfig:{gt:24,preSize:1,oSize:0},virtualYConfig:{gt:100,preSize:1,oSize:0},scrollbarConfig:{x:{visible:!0},y:{visible:!0}}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,showLoading:!0,showResponseMsg:!0,showActionMsg:!0,response:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{},gantt:{}});const Gt="vxe-table-icon-";ye.setIcon({TABLE_SORT_ASC:Gt+"caret-up",TABLE_SORT_DESC:Gt+"caret-down",TABLE_FILTER_NONE:Gt+"funnel",TABLE_FILTER_MATCH:Gt+"funnel",TABLE_EDIT:Gt+"edit",TABLE_TITLE_PREFIX:Gt+"question-circle-fill",TABLE_TITLE_SUFFIX:Gt+"question-circle-fill",TABLE_TREE_LOADED:Gt+"spinner roll",TABLE_TREE_OPEN:Gt+"caret-right rotate90",TABLE_TREE_CLOSE:Gt+"caret-right",TABLE_EXPAND_LOADED:Gt+"spinner roll",TABLE_EXPAND_OPEN:Gt+"arrow-right rotate90",TABLE_EXPAND_CLOSE:Gt+"arrow-right",TABLE_CHECKBOX_CHECKED:Gt+"checkbox-checked-fill",TABLE_CHECKBOX_UNCHECKED:Gt+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:Gt+"checkbox-indeterminate-fill",TABLE_CHECKBOX_DISABLED_UNCHECKED:Gt+"checkbox-unchecked-fill",TABLE_RADIO_CHECKED:Gt+"radio-checked-fill",TABLE_RADIO_UNCHECKED:Gt+"radio-unchecked",TABLE_RADIO_DISABLED_UNCHECKED:Gt+"radio-unchecked-fill",TABLE_CUSTOM_SORT:Gt+"drag-handle",TABLE_MENU_OPTIONS:Gt+"arrow-right",TABLE_DRAG_ROW:Gt+"drag-handle",TABLE_DRAG_COLUMN:Gt+"drag-handle",TABLE_DRAG_STATUS_ROW:Gt+"sort",TABLE_DRAG_STATUS_SUB_ROW:Gt+"add-sub",TABLE_DRAG_STATUS_AGG_GROUP:Gt+"grouping",TABLE_DRAG_STATUS_AGG_VALUES:Gt+"values",TABLE_DRAG_STATUS_COLUMN:Gt+"swap",TABLE_DRAG_DISABLED:Gt+"no-drop",TABLE_ROW_GROUP_OPEN:Gt+"arrow-right rotate90",TABLE_ROW_GROUP_CLOSE:Gt+"arrow-right",TABLE_AGGREGATE_GROUPING:Gt+"grouping",TABLE_AGGREGATE_VALUES:Gt+"values",TABLE_AGGREGATE_SORT:Gt+"drag-handle",TABLE_AGGREGATE_DELETE:Gt+"close",TOOLBAR_TOOLS_REFRESH:Gt+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:Gt+"repeat roll",TOOLBAR_TOOLS_IMPORT:Gt+"upload",TOOLBAR_TOOLS_EXPORT:Gt+"download",TOOLBAR_TOOLS_PRINT:Gt+"print",TOOLBAR_TOOLS_FULLSCREEN:Gt+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:Gt+"minimize",TOOLBAR_TOOLS_CUSTOM:Gt+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:Gt+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:Gt+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:Gt+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:Gt+"fixed-right-fill"});ye.setTheme;ye.getTheme;ye.setConfig;ye.getConfig;ye.setIcon;ye.getIcon;ye.setLanguage;ye.setI18n;ye.getI18n;ye.globalEvents;ye.globalResize;ye.renderer;ye.validators;ye.menus;ye.formats;ye.commands;ye.interceptor;ye.clipboard;ye.log;ye.hooks;ye.use;const TR=e=>ye.setConfig(e);ye.setup=TR;const FR=e=>ye.setConfig(e);ye.config=FR;const MR=(e,t)=>ye.getI18n(e,t);ye.t=MR;const IR=(e,t)=>mn(e,t);ye._t=IR;const Ao=Qw,{log:HC}=ye,$C="table v4.16.21",Ze=HC.create("warn",$C),Ne=HC.create("error",$C),{getI18n:AR,formats:Km}=ye;class kf{constructor(t,o,{renderHeader:l,renderCell:d,renderFooter:a,renderData:p}={}){const b=t.props,v=t.xeGrid,y=t.xeGantt,m=v||y,{field:R,editRender:D}=o,I=o.formatter,h=s.isBoolean(o.visible)?o.visible:!0,f=["seq","checkbox","radio","expand","html"];if(o.type&&f.indexOf(o.type)===-1&&Ze("vxe.error.errProp",[`type=${o.type}`,f.join(", ")]),(s.isBoolean(o.cellRender)||o.cellRender&&!s.isObject(o.cellRender))&&Ze("vxe.error.errProp",[`column.cell-render=${o.cellRender}`,"column.cell-render={}"]),(s.isBoolean(o.editRender)||o.editRender&&!s.isObject(o.editRender))&&Ze("vxe.error.errProp",[`column.edit-render=${o.editRender}`,"column.edit-render={}"]),o.type==="expand"){const{treeConfig:$}=b,{computeTreeOpts:k}=t.getComputeMaps(),_=k.value;$&&(_.showLine||_.line)&&Ne("vxe.error.errConflicts",["tree-config.showLine","column.type=expand"])}if(I){if(s.isString(I)){const $=Km.get(I)||s[I];(!$||!s.isFunction($.tableCellFormatMethod||$.cellFormatMethod))&&Ne("vxe.error.notFormats",[I])}else if(s.isArray(I)){const $=Km.get(I[0])||s[I[0]];(!$||!s.isFunction($.tableCellFormatMethod||$.cellFormatMethod))&&Ne("vxe.error.notFormats",[I[0]])}}if(o.aggFunc&&!t.handlePivotTableAggregateData&&o.aggFunc!==!0&&Ne("vxe.error.errProp",[`column.agg-func=${o.aggFunc}`,"column.agg-func=true"]),R&&D&&(D.startField&&`${D.startField}`.indexOf(R)>=0&&Ne("vxe.error.modelConflicts",[`field=${R}`,`edit-render.startField=${D.startField}`]),D.endField&&`${D.endField}`.indexOf(R)>=0&&Ne("vxe.error.modelConflicts",[`field=${R}`,`edit-render.endField=${D.endField}`])),Object.assign(this,{type:o.type,property:o.field,field:R,title:o.title,width:o.width,minWidth:o.minWidth,maxWidth:o.maxWidth,resizable:o.resizable,fixed:o.fixed,align:o.align,headerAlign:o.headerAlign,footerAlign:o.footerAlign,showOverflow:o.showOverflow,showHeaderOverflow:o.showHeaderOverflow,showFooterOverflow:o.showFooterOverflow,className:o.className,headerClassName:o.headerClassName,footerClassName:o.footerClassName,formatter:I,headerFormatter:o.headerFormatter,footerFormatter:o.footerFormatter,padding:o.padding,verticalAlign:o.verticalAlign,sortable:o.sortable,sortBy:o.sortBy,sortType:o.sortType,filters:ig(o.filters),filterMultiple:s.isBoolean(o.filterMultiple)?o.filterMultiple:!0,filterMethod:o.filterMethod,filterResetMethod:o.filterResetMethod,filterRecoverMethod:o.filterRecoverMethod,filterRender:o.filterRender,rowGroupNode:o.rowGroupNode,treeNode:o.treeNode,dragSort:o.dragSort,rowResize:o.rowResize,cellType:o.cellType,cellRender:o.cellRender,editRender:D,contentRender:o.contentRender,headerExportMethod:o.headerExportMethod,exportMethod:o.exportMethod,footerExportMethod:o.footerExportMethod,titleHelp:o.titleHelp,titlePrefix:o.titlePrefix,titleSuffix:o.titleSuffix,aggFunc:o.aggFunc,params:o.params,id:o.colId||s.uniqueId("col_"),parentId:null,visible:h,defaultParentId:null,halfVisible:!1,defaultVisible:h,defaultFixed:o.fixed,defaultAggGroup:o.aggGroup,defaultAggFunc:o.aggFunc,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderAggFn:"",renderFixed:"",renderVisible:!1,renderWidth:0,renderHeight:0,renderResizeWidth:0,renderAutoWidth:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:l||o.renderHeader,renderCell:d||o.renderCell,renderFooter:a||o.renderFooter,renderData:p,slots:o.slots}),m){const{computeProxyOpts:$}=m.getComputeMaps(),k=$.value;k.beforeColumn&&k.beforeColumn({$table:t,$grid:v,$gantt:y,column:this})}}getTitle(){return mn(this.title||(this.type==="seq"?AR("vxe.table.seqTitle"):""))}getKey(){const{type:t}=this;return this.field||(t?`type=${t}`:null)}update(t,o){t!=="filters"&&(t==="field"&&(this.property=o),this[t]=o)}}const xf={};let Zl;function PC(){return Zl||(Zl=new Image,Zl.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),Zl}function Lf(){return Zl||PC()}function Wn(e,t){return e?s.isFunction(e)?e(t):e:""}function _C(e){return xf[e]||(xf[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),xf[e]}function Hf(e){return e&&/^\d+(px)?$/.test(e)}function Yl(e){return e&&/^\d+%$/.test(e)}function hn(e,t){return!!(e&&e.className&&e.className.match&&e.className.match(_C(t)))}function co(e,t){e&&hn(e,t)&&(e.className=e.className.replace(_C(t),""))}function Do(e,t){e&&!hn(e,t)&&(co(e,t),e.className=`${e.className} ${t}`)}function $i(e){return e.ctrlKey||e.metaKey}function Zn(e,t="px"){return s.isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function Tn(e,t){return e?e.querySelector(t):null}function qa(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function Di(e){return e?e.offsetHeight:0}function $f(e){if(e){const t=getComputedStyle(e),o=s.toNumber(t.paddingTop),l=s.toNumber(t.paddingBottom);return o+l}return 0}function lr(e,t){e&&(e.scrollTop=t)}function sr(e,t){e&&(e.scrollLeft=t)}function og(e,t){const o=t.type==="html"?e.innerText:e.textContent;e.getAttribute("title")!==o&&e.setAttribute("title",o)}function Jt(e,t,o,l){let d,a=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;a&&a.nodeType&&a!==document;){if(o&&hn(a,o)&&(!l||l(a)))d=a;else if(a===t)return{flag:o?!!d:!0,container:t,targetElem:d};a=a.parentNode}return{flag:!1}}function ma(e){const t=e.getBoundingClientRect(),o=t.top,l=t.left,{scrollTop:d,scrollLeft:a,visibleHeight:p,visibleWidth:b}=qa();return{boundingTop:o,top:d+o,boundingLeft:l,left:a+l,visibleHeight:p,visibleWidth:b}}const Zm="scrollIntoViewIfNeeded",Jm="scrollIntoView";function kR(e){e&&(e[Zm]?e[Zm]():e[Jm]&&e[Jm]())}function LR(e,t){e&&e.dispatchEvent(new Event(t))}function Qm(){return{tZindex:0,currKeyField:"",isCurrDeepKey:!1,elemStore:{},scrollXStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},scrollYStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterGroupFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableFullGroupData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},fullDataRowIdData:{},visibleDataRowIdData:{},sourceDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},mergeHeaderList:[],mergeHeaderMaps:{},mergeHeaderCellMaps:{},mergeBodyList:[],mergeBodyMaps:{},mergeBodyCellMaps:{},mergeFooterList:[],mergeFooterMaps:{},mergeFooterCellMaps:{},rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},rowGroupExpandedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},selectCheckboxMaps:{},pendingRowMaps:{},insertRowMaps:{},removeRowMaps:{},cvCacheMaps:{},tHeaderHeight:0,tBodyHeight:0,tFooterHeight:0,teleportToWrapperElem:null,popupToWrapperElem:null,inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1}}const qC=(e,t)=>{const o=[];return e.forEach(l=>{l.parentId=t?t.id:null,l.visible&&(l.children&&l.children.length&&l.children.some(d=>d.visible)?(o.push(l),o.push(...qC(l.children,l))):o.push(l))}),o},HR=e=>{let t=1;const o=(a,p)=>{if(p&&(a.level=p.level+1,t<a.level&&(t=a.level)),a.children&&a.children.length&&a.children.some(b=>b.visible)){let b=0;a.children.forEach(v=>{v.visible&&(o(v,a),b+=v.colSpan)}),a.colSpan=b}else a.colSpan=1};e.forEach(a=>{a.level=1,o(a)});const l=[];for(let a=0;a<t;a++)l.push([]);return qC(e).forEach(a=>{a.children&&a.children.length&&a.children.some(p=>p.visible)?a.rowSpan=1:a.rowSpan=t-a.level+1,l[a.level-1].push(a)}),l};function $R(e){const t=e.length,o=e[0].reduce((a,p)=>a+p.colSpan,0),l=[],d=[];for(let a=0;a<t;a++){const p=[],b=[];for(let v=0;v<o;v++)p.push(!1),b.push("");l.push(p),d.push(b)}for(let a=0;a<t;a++){let p=0;for(const b of e[a]){const{colSpan:v,rowSpan:y}=b;let m=-1;for(let R=p;R<=o-v;R++){let D=!0;for(let I=0;I<v;I++)if(l[a][R+I]){D=!1;break}if(D){m=R;break}}if(m===-1){for(let R=0;R<=o-v;R++){let D=!0;for(let I=0;I<v;I++)if(l[a][R+I]){D=!1;break}if(D){m=R;break}}if(m===-1)break}for(let R=a;R<a+y;R++)for(let D=m;D<m+v;D++)l[R][D]=!0,d[R][D]=b;p=m+v}}return d}function oa(e,t,o){const l=e.internalData;return t||o?(l.intoRunScroll=!1,l.inVirtualScroll=!1,l.inWheelScroll=!1,l.inHeaderScroll=!1,l.inBodyScroll=!1,l.inFooterScroll=!1,l.scrollRenderType="",e.scrollTo(t,o)):e.clearScroll()}function Pi(){return s.uniqueId("row_")}function PR(e){return e.indexOf(".")>-1}function Pl(e){const{currKeyField:t}=e.internalData;return t}function $e(e,t){const o=e.internalData,{isCurrDeepKey:l,currKeyField:d}=o;return t?Na((l?ng:lg)(t,d)):""}function eb(e){const t=e.internalData,{isCurrDeepKey:o,currKeyField:l}=t,d=o?_R:qR;return{rowKey:l,handleUpdateRowId(a){return a?d(a,l):""}}}function Tr(e){const t=e.internalData,{isCurrDeepKey:o,currKeyField:l}=t,d=o?ng:lg;return{rowKey:l,handleGetRowId(a){return a?Na(d(a,l)):""}}}function Na(e){return s.eqNull(e)?"":encodeURIComponent(e)}function ng(e,t){return s.get(e,t)}function _R(e,t){let o=Na(ng(e,t));return gn(o)&&(o=Pi(),s.set(e,t,o)),o}function lg(e,t){return e[t]}function qR(e,t){let o=Na(lg(e,t));return gn(o)&&(o=Pi(),e[t]=o),o}function Er(e,t){return t?s.isString(t)||s.isNumber(t)?e.getColumnByField(`${t}`):t:null}function tb(e,t){if(t){const o=s.isString(t)||s.isNumber(t)?t:$e(e,t);return e.getRowById(o)}return null}function Ql(e,t,o,l){return e.resizeHeight||t.height||o.height||e.height||l}function rb(e){if(e){const t=getComputedStyle(e),o=s.toNumber(t.paddingLeft),l=s.toNumber(t.paddingRight);return o+l}return 0}function Gn(e){if(e){const t=getComputedStyle(e),o=s.toNumber(t.marginLeft),l=s.toNumber(t.marginRight);return e.offsetWidth+o+l}return 0}function ig(e){return e&&s.isArray(e)?e.map(({label:t,value:o,data:l,resetValue:d,checked:a})=>({label:t,value:o,data:l,resetValue:d,checked:!!a,_checked:!!a})):e}function ob(e){return e.map((t,o)=>o%2===0?Number(t)+1:".").join("")}function Pr(e,t){return s.get(e,t.field)}function Yo(e,t,o){return s.set(e,t.field,o)}function ct(e){if(e){const t=e.value;if(t)return t.$el||t}return null}function ya(e){return e==="unset"?0:e||0}function nb(e){const{$table:t,column:o,cell:l}=e,d=t.props,a=t.internalData,{computeResizableOpts:p}=t.getComputeMaps(),b=p.value,{minWidth:v}=b;if(v){const te=s.isFunction(v)?v(e):v;if(te!=="auto")return Math.max(1,s.toNumber(te))}const{elemStore:y}=a,{showHeaderOverflow:m}=d,{showHeaderOverflow:R,minWidth:D}=o,I=s.isUndefined(R)||s.isNull(R)?m:R,k=I==="title"||(I===!0||I==="tooltip")||I==="ellipsis",_=s.floor((s.toNumber(getComputedStyle(l).fontSize)||14)*1.8),U=rb(l)+rb(Tn(l,".vxe-cell"));let W=_+U;if(k){const te=Gn(Tn(l,".vxe-cell--drag-handle")),X=Gn(Tn(l,".vxe-cell--checkbox")),F=Gn(Tn(l,".vxe-cell--required-icon")),M=Gn(Tn(l,".vxe-cell--edit-icon")),H=Gn(Tn(l,".vxe-cell-title-prefix-icon")),j=Gn(Tn(l,".vxe-cell-title-suffix-icon")),N=Gn(Tn(l,".vxe-cell--sort")),B=Gn(Tn(l,".vxe-cell--filter"));W+=te+X+F+M+H+j+B+N}if(D){const te=ct(y["main-body-scroll"]);if(te){if(Yl(D)){const F=(te.clientWidth-1)/100;return Math.max(W,Math.floor(s.toInteger(D)*F))}else if(Hf(D))return Math.max(W,s.toInteger(D))}}return W}function ba(e){return e&&(e.constructor===kf||e instanceof kf)}function _i(e){const t=[];return e.forEach(o=>{t.push(...o.children&&o.children.length?_i(o.children):[o])}),t}function NR(e,t,o){return ba(t)?t:Fo(new kf(e,t,o))}function NC(e,t,o){Object.keys(t).forEach(l=>{_t(()=>t[l],d=>{o.update(l,d),e&&(l==="filters"?(e.setFilter(o,d),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(l)&&e.handleRefreshColumnQueue())})})}function BC(e,t,o,l){const{reactData:d}=e,{staticColumns:a}=d,p=t.parentNode,b=l?l.columnConfig:null,v=b?b.children:a;p&&v&&(o.defaultParentId=b?b.id:null,v.splice(s.arrayIndexOf(p.children,t),0,o),d.staticColumns=a.slice(0))}function GC(e,t){const{reactData:o}=e,{staticColumns:l}=o,d=s.findTree(l,a=>a.id===t.id,{children:"children"});d&&d.items.splice(d.index,1),o.staticColumns=l.slice(0)}function lb(e,t){const{internalData:o}=e,{fullColumnIdData:l}=o;if(!t)return null;let d=t.parentId;for(;l[d];){const a=l[d].column;if(d=a.parentId,!d)return a}return t}function VC(e){const{children:t}=e;return t&&t.length?VC(s.first(t)):e}function BR(e){const{children:t}=e;return t&&t.length?VC(s.last(t)):e}const GR={mini:3,small:2,medium:1,large:0};function zC(e,t){let o=1;if(!e)return o;const{$table:l}=t,d=l.reactData,{treeExpandedFlag:a}=d,p=l.internalData,{treeExpandedMaps:b}=p,{computeTreeOpts:v}=l.getComputeMaps(),y=v.value,{transform:m,mapChildrenField:R}=y,D=y.children||y.childrenField,I=e[m?R:D];if(I&&a&&b[$e(l,e)])for(let h=0;h<I.length;h++)o+=zC(I[h],t);return o}function WC(e){const{computeSize:t}=e.getComputeMaps(),o=t.value;return o&&GR[o]||0}function VR(e,t){const{$table:o,row:l}=e,d=o.props,a=o.reactData,p=o.internalData,{showOverflow:b}=d,{scrollYLoad:v}=a,{fullAllDataRowIdData:y}=p,{computeRowOpts:m,computeCellOpts:R,computeDefaultRowHeight:D}=o.getComputeMaps(),I=m.value,h=R.value,f=D.value,$=$e(o,l),k=y[$],_=k.resizeHeight||h.height||I.height||k.height||f;let U=1;t&&(U=zC(t,e));let W=_;const te=k.height;return v&&(b||(W=te||_)),W*U-(t?1:12-WC(o))}function zR(e){const{props:t,internalData:o}=e;return o.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&t.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}function WR(e){return e.clearFilter&&e.clearFilter(),zR(e)}function ib(e,t){const o=e.props,l=e.reactData,d=e.internalData,{computeLeftFixedWidth:a,computeRightFixedWidth:p,computeRowOpts:b,computeCellOpts:v,computeDefaultRowHeight:y}=e.getComputeMaps(),{showOverflow:m}=o,{scrollYLoad:R,scrollYTop:D}=l,{elemStore:I,afterFullData:h,fullAllDataRowIdData:f,isResizeCellHeight:$}=d,k=b.value,_=v.value,U=y.value,W=a.value,te=p.value,X=ct(I["main-body-scroll"]),F=$e(e,t);if(X){const M=X.clientHeight,H=X.scrollTop,j=X.querySelector(`[rowid="${F}"]`);if(j){const N=j.offsetTop+(R?D:0),B=j.clientHeight;if(N<H||N>H+M)return e.scrollTo(null,N);if(N+B>=M+H)return e.scrollTo(null,H+B)}else if(R){if(!($||_.height||k.height)&&m)return e.scrollTo(null,(e.findRowIndexOf(h,t)-1)*U);const B=f[F]||{},Z=B.resizeHeight||_.height||k.height||B.height||U,q=B.oTop;return q<H?e.scrollTo(null,q-W-1):e.scrollTo(null,q+Z-(M-te-1))}}return Promise.resolve()}function ab(e,t,o){const l=e.reactData,d=e.internalData,{computeLeftFixedWidth:a,computeRightFixedWidth:p}=e.getComputeMaps(),{scrollXLoad:b,scrollXLeft:v}=l,{elemStore:y,visibleColumn:m}=d,R=a.value,D=p.value,I=ct(y["main-body-scroll"]);if(t.fixed)return Promise.resolve();if(I){const h=I.clientWidth,f=I.scrollLeft;let $=null;if(o){const k=$e(e,o);$=I.querySelector(`[rowid="${k}"] .${t.id}`)}if($||($=I.querySelector(`.${t.id}`)),$){const k=$.offsetLeft+(b?v:0),_=$.clientWidth;if(k<f+R)return e.scrollTo(k-R-1);if(k+_-f>h-D)return e.scrollTo(k+_-(h-D-1))}else if(b){let k=0;const _=t.renderWidth;for(let U=0;U<m.length;U++){const W=m[U];if(W===t||W.id===t.id)break;k+=W.renderWidth}return k<f?e.scrollTo(k-R-1):e.scrollTo(k+_-(h-D-1))}}return Promise.resolve()}function Un(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function jC(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function UC(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function _r(e){return e==null?[]:s.isArray(e)?e:[e]}const{getI18n:Ti,getIcon:cr,renderer:Li,formats:sb,renderEmptyElement:jn}=ye;function jR(e){const{$table:t,column:o}=e,l=o.titlePrefix||o.titleHelp;return l?E("span",{class:["vxe-cell-title-prefix-icon",l.iconStatus?`theme--${l.iconStatus}`:""],onMouseenter(d){t.triggerHeaderTitleEvent(d,l,e)},onMouseleave(d){t.handleTargetLeaveEvent(d)}},[E("i",{class:l.icon||cr().TABLE_TITLE_PREFIX})]):jn(t)}function UR(e){const{$table:t,column:o}=e,l=o.titleSuffix;return l?E("span",{class:["vxe-cell-title-suffix-icon",l.iconStatus?`theme--${l.iconStatus}`:""],onMouseenter(d){t.triggerHeaderTitleEvent(d,l,e)},onMouseleave(d){t.handleTargetLeaveEvent(d)}},[E("i",{class:l.icon||cr().TABLE_TITLE_SUFFIX})]):jn(t)}function cb(e){const{$table:t,column:o}=e,{context:l}=t,d=l.slots,a=t.props,{slots:p}=o,{dragConfig:b}=a,{computeRowDragOpts:v}=t.getComputeMaps(),y=v.value,{icon:m,trigger:R,disabledMethod:D}=y,I=D||(b?b.rowDisabledMethod:null),h=I&&I(e),f=(p?p.rowDragIcon||p["row-drag-icon"]:null)||d.rowDragIcon||d["row-drag-icon"],$={};return R!=="cell"&&($.onMousedown=k=>{h||t.handleCellDragMousedownEvent(k,e)},$.onMouseup=t.handleCellDragMouseupEvent),E("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":h}]},$),f?t.callSlot(f,e):[E("i",{class:m||(b?b.rowIcon:"")||cr().TABLE_DRAG_ROW})])}function Wr(e,t){const{$table:o,column:l,level:d}=e,{dragSort:a}=l,p=o.props,{treeConfig:b,dragConfig:v}=p,{computeRowOpts:y,computeRowDragOpts:m,computeTreeOpts:R}=o.getComputeMaps(),D=y.value,I=m.value,h=R.value,{showIcon:f,isPeerDrag:$,isCrossDrag:k,visibleMethod:_}=I,U=_||(v?v.rowVisibleMethod:null),W=[];return a&&D.drag&&(f||v&&v.showRowIcon)&&(!U||U(e))&&(b?h.transform&&($||k||!d)&&W.push(cb(e)):W.push(cb(e))),W.concat(s.isArray(t)?t:[t])}function YR(e){const{$table:t,column:o}=e,{context:l}=t,d=l.slots,{slots:a}=o,{computeColumnOpts:p,computeColumnDragOpts:b}=t.getComputeMaps(),v=p.value,y=b.value,{showIcon:m,icon:R,trigger:D,isPeerDrag:I,isCrossDrag:h,visibleMethod:f,disabledMethod:$}=y;if(v.drag&&m&&(!f||f(e))&&!o.fixed&&(I||h||!o.parentId)){const k=$&&$(e),_=(a?a.columnDragIcon||a["column-drag-icon"]:null)||d.columnDragIcon||d["column-drag-icon"],U={};return D!=="cell"&&(U.onMousedown=W=>{k||t.handleHeaderCellDragMousedownEvent(W,e)},U.onMouseup=t.handleHeaderCellDragMouseupEvent),E("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":k}]},U),_?t.callSlot(_,e):[E("i",{class:R||cr().TABLE_DRAG_COLUMN})])}return jn(t)}function cn(e,t){return[jR(e),YR(e),...s.isArray(t)?t:[t],UR(e)]}function XR(e,t){return e.type==="html"&&s.isString(t)?E("span",{key:"ch",innerHTML:t}):E("span",{key:"ct"},_r(t))}function Vn(e,t){const{$table:o,column:l}=e,d=o.props,a=o.reactData,{computeHeaderTooltipOpts:p}=o.getComputeMaps(),{showHeaderOverflow:b}=d,{isRowGroupStatus:v}=a,{showHeaderOverflow:y}=l,R=p.value.showAll,D=s.eqNull(y)?b:y,I=D==="title",h=D===!0||D==="tooltip",f={};(I||h||R)&&(f.onMouseenter=k=>{a.isDragResize||(I?og(k.currentTarget,l):(h||R)&&o.triggerHeaderTooltipEvent(k,e))}),(h||R)&&(f.onMouseleave=k=>{a.isDragResize||(h||R)&&o.handleTargetLeaveEvent(k)});const $=XR(l,t);return[E("span",Object.assign({class:"vxe-cell--title"},f),v&&l.aggFunc&&o.getPivotTableAggregateRenderColTitles?o.getPivotTableAggregateRenderColTitles(l,$):[$])]}function KR(e){const{$table:t,column:o,_columnIndex:l,items:d,row:a}=e,{slots:p,editRender:b,cellRender:v,footerFormatter:y}=o,m=b||v,R=p?p.footer:null;if(R)return t.callSlot(R,e);let D="";s.isArray(d)?D=d[l]:D=s.get(a,o.field);const I=Object.assign(e,{itemValue:D});if(y){if(s.isFunction(y))return[E("span",{class:"vxe-cell--label"},`${y(I)}`)];const h=s.isArray(y),f=h?sb.get(y[0]):sb.get(y),$=f?f.tableFooterCellFormatMethod:null;return $?[E("span",{class:"vxe-cell--label"},`${h?$(I,...y.slice(1)):$(I)}`)]:[E("span",{class:"vxe-cell--label"},"")]}if(m){const h=Li.get(m.name);if(h){const f=h.renderTableFooter||h.renderFooter;if(f)return _r(f(m,I))}}return[E("span",{class:"vxe-cell--label"},jr(D,1))]}function ub(e){const{$table:t,row:o,column:l}=e;return jr(t.getCellLabel(o,l),1)}function ZR(e){const{column:t,row:o,$table:l}=e,d=l.props,a=l.reactData,{isRowGroupStatus:p}=a,{editConfig:b}=d,{type:v,treeNode:y,rowGroupNode:m,editRender:R}=t,{computeEditOpts:D,computeCheckboxOpts:I,computeAggregateOpts:h}=l.getComputeMaps(),f=h.value,{mode:$}=f,k=I.value,_=D.value,U=y||p&&($==="column"?t.field===o.groupField:m);switch(v){case"seq":return U?Rt.renderDeepIndexCell(e):Rt.renderSeqCell(e);case"radio":return U?Rt.renderDeepRadioCell(e):Rt.renderRadioCell(e);case"checkbox":return k.checkField?U?Rt.renderDeepSelectionCellByProp(e):Rt.renderCheckboxCellByProp(e):U?Rt.renderDeepSelectionCell(e):Rt.renderCheckboxCell(e);case"expand":return Rt.renderExpandCell(e);case"html":return U?Rt.renderDeepHTMLCell(e):Rt.renderHTMLCell(e)}return It(b)&&R?_.mode==="cell"?U?Rt.renderDeepCellEdit(e):Rt.renderCellEdit(e):U?Rt.renderDeepRowEdit(e):Rt.renderRowEdit(e):U?Rt.renderDeepCell(e):Rt.renderDefaultCell(e)}function JR(e){const{column:t,$table:o}=e,l=o.props,{editConfig:d}=l,{type:a,filters:p,sortable:b,editRender:v}=t;switch(a){case"seq":return Rt.renderSeqHeader(e);case"radio":return Rt.renderRadioHeader(e);case"checkbox":return Rt.renderCheckboxHeader(e);case"html":if(p&&b)return Rt.renderSortAndFilterHeader(e);if(b)return Rt.renderSortHeader(e);if(p)return Rt.renderFilterHeader(e);break}return d&&v?Rt.renderEditHeader(e):p&&b?Rt.renderSortAndFilterHeader(e):b?Rt.renderSortHeader(e):p?Rt.renderFilterHeader(e):Rt.renderDefaultHeader(e)}function QR(e){return Rt.renderDefaultFooter(e)}const Rt={createColumn(e,t){const{type:o}=t,l={renderHeader:JR,renderCell:ZR,renderFooter:QR};return o==="expand"&&(l.renderData=Rt.renderExpandData),NR(e,t,l)},renderHeaderTitle(e){const{$table:t,column:o}=e,{slots:l,editRender:d,cellRender:a}=o,p=d||a,b=l?l.header:null;if(b)return Vn(e,t.callSlot(b,e));if(p){const v=Li.get(p.name);if(v){const y=v.renderTableHeader||v.renderHeader;if(y)return Vn(e,_r(y(p,e)))}}return Vn(e,jr(o.getTitle(),1))},renderDefaultHeader(e){return cn(e,Rt.renderHeaderTitle(e))},renderDefaultCell(e){const{$table:t,row:o,column:l}=e,d=t.reactData,a=t.internalData,{isRowGroupStatus:p}=d,{field:b,slots:v,editRender:y,cellRender:m,rowGroupNode:R,aggFunc:D}=l,I=y||m,h=v?v.default:null,f=v?v.groupContent||v["group-content"]:null;let $="";if(p&&b&&o.isAggregate){const _=o,{fullColumnFieldData:U}=a,{computeAggregateOpts:W}=t.getComputeMaps(),te=W.value,{mode:X,showTotal:F,totalMethod:M,countFields:H,contentMethod:j,mapChildrenField:N}=te,B=te.calcValuesMethod||te.countMethod||te.aggregateMethod,Z=_.groupField,q=_.groupContent,se=N?_[N]||[]:[],pe=_.childCount,ge=U[Z]||{},ve={$table:t,groupField:Z,groupColumn:ge?ge.column:null,column:l,groupValue:q,childList:se,childCount:pe,aggValue:null,children:se,totalValue:pe};if(f)return Wr(e,t.callSlot(f,Object.assign({groupField:Z,groupContent:q,childList:se,childCount:pe},e)));(X==="column"?b===_.groupField:R)?($=q,j&&($=`${j(ve)}`),F&&($=Ti("vxe.table.rowGroupContentTotal",[$,M?M(ve):pe,pe]))):t.getPivotTableAggregateCellAggValue?$=t.getPivotTableAggregateCellAggValue(e):(D===!0||H&&H.includes(b))&&B&&(ve.aggValue=pe,$=`${B(ve)}`)}else{if(h)return Wr(e,t.callSlot(h,e));if(I){const _=Li.get(I.name);if(_){const U=_.renderTableCell||_.renderCell,W=_.renderTableDefault||_.renderDefault,te=y?U:W;if(te)return Wr(e,_r(te(I,Object.assign({$type:y?"edit":"cell"},e))))}}$=t.getCellLabel(o,l)}const k=y?y.placeholder:"";return Wr(e,[E("span",{class:"vxe-cell--label"},[y&&gn($)?E("span",{class:"vxe-cell--placeholder"},jr(mn(k),1)):E("span",jr($,1))])])},renderDeepCell(e){return Rt.renderDeepNodeBtn(e,Rt.renderDefaultCell(e))},renderDefaultFooter(e){return KR(e)},renderRowGroupBtn(e,t){const{$table:o}=e,l=o.reactData,d=o.internalData,{row:a,level:p}=e,{computeAggregateOpts:b}=o.getComputeMaps(),{rowGroupExpandedFlag:v}=l,{rowGroupExpandedMaps:y}=d,m=b.value,{mode:R,padding:D,indent:I}=m,h=$e(o,a),f=!!v&&!!y[h];return E("div",{class:["vxe-row-group--tree-node",{"is--expanded":f}],style:R!=="column"&&D&&I?{paddingLeft:`${p*I}px`}:void 0},[a.isAggregate?E("span",{class:"vxe-row-group--node-btn",onClick($){o.triggerRowGroupExpandEvent($,e)}},[E("i",{class:f?cr().TABLE_ROW_GROUP_OPEN:cr().TABLE_ROW_GROUP_CLOSE})]):jn(o),E("div",{class:"vxe-row-group-cell"},t)])},renderTreeNodeBtn(e,t){const{$table:o,isHidden:l}=e,d=o.reactData,a=o.internalData,{row:p,column:b,level:v}=e,{slots:y}=b,m=y?y.icon:null;if(m)return o.callSlot(m,e);const{computeTreeOpts:R}=o.getComputeMaps(),{treeExpandedFlag:D}=d,{fullAllDataRowIdData:I,treeExpandedMaps:h,treeExpandLazyLoadedMaps:f}=a,$=R.value,{padding:k,indent:_,lazy:U,trigger:W,iconLoaded:te,showIcon:X,iconOpen:F,iconClose:M}=$,H=$.children||$.childrenField,j=$.hasChild||$.hasChildField,N=p[H],B=N&&N.length;let Z=!1,q=!1,se=!1,pe=!1;const ge={};if(!l){const ve=$e(o,p);if(q=!!D&&!!h[ve],U){const Oe=I[ve];se=!!f[ve],Z=p[j],pe=!!Oe.treeLoaded}}return(!W||W==="default")&&(ge.onClick=ve=>{o.triggerTreeExpandEvent(ve,e)}),E("div",{class:["vxe-cell--tree-node",{"is--active":q}],style:k&&_?{paddingLeft:`${v*_}px`}:void 0},[X&&(U?pe?B:B||Z:B)?[E("div",Object.assign({class:"vxe-cell--tree-btn"},ge),[E("i",{class:se?te||cr().TABLE_TREE_LOADED:q?F||cr().TABLE_TREE_OPEN:M||cr().TABLE_TREE_CLOSE})])]:null,E("div",{class:"vxe-tree-cell"},t)])},renderDeepNodeBtn(e,t){const{$table:o,row:l,column:d}=e,{rowGroupNode:a}=d,p=o.reactData,{rowGroupList:b}=p;if(b.length){const{computeAggregateOpts:v}=o.getComputeMaps(),y=v.value,{mode:m}=y;if(m==="column"?d.field===l.groupField:a)return[Rt.renderRowGroupBtn(e,t)]}return[Rt.renderTreeNodeBtn(e,t)]},renderSeqHeader(e){const{$table:t,column:o}=e,{slots:l}=o,d=l?l.header:null;return cn(e,Vn(e,d?t.callSlot(d,e):jr(o.getTitle(),1)))},renderSeqCell(e){const{$table:t,column:o}=e,l=t.props,{treeConfig:d}=l,{computeSeqOpts:a}=t.getComputeMaps(),p=a.value,{slots:b}=o,v=b?b.default:null;if(v)return Wr(e,t.callSlot(v,e));const{seq:y}=e,m=p.seqMethod;return Wr(e,[E("span",`${jr(m?m(e):d?y:(p.startIndex||0)+y,1)}`)])},renderDeepIndexCell(e){return Rt.renderDeepNodeBtn(e,Rt.renderSeqCell(e))},renderRadioHeader(e){const{$table:t,column:o}=e,{slots:l}=o,d=l?l.header:null,a=l?l.title:null;return cn(e,Vn(e,d?t.callSlot(d,e):[E("span",{class:"vxe-radio--label"},a?t.callSlot(a,e):jr(o.getTitle(),1))]))},renderRadioCell(e){const{$table:t,column:o,isHidden:l}=e,d=t.reactData,{computeRadioOpts:a}=t.getComputeMaps(),{selectRadioRow:p}=d,b=a.value,{slots:v}=o,{labelField:y,checkMethod:m,visibleMethod:R}=b,{row:D}=e,I=v?v.default:null,h=v?v.radio:null,f=t.eqRow(D,p),$=!R||R({$table:t,row:D});let k=!!m,_;l||(_={onClick(te){!k&&$&&t.triggerRadioRowEvent(te,e)}},m&&(k=!m({$table:t,row:D})));const U=Object.assign(Object.assign({},e),{checked:f,disabled:k,visible:$});if(h)return Wr(e,t.callSlot(h,U));const W=[];return $&&W.push(E("span",{class:["vxe-radio--icon",f?cr().TABLE_RADIO_CHECKED:k?cr().TABLE_RADIO_DISABLED_UNCHECKED:cr().TABLE_RADIO_UNCHECKED]})),(I||y)&&W.push(E("span",{class:"vxe-radio--label"},I?t.callSlot(I,U):s.get(D,y))),Wr(e,[E("span",Object.assign({class:["vxe-cell--radio",{"is--checked":f,"is--disabled":k}]},_),W)])},renderDeepRadioCell(e){return Rt.renderDeepNodeBtn(e,Rt.renderRadioCell(e))},renderCheckboxHeader(e){const{$table:t,column:o,isHidden:l}=e,d=t.reactData,{computeIsAllCheckboxDisabled:a,computeCheckboxOpts:p}=t.getComputeMaps(),{isAllSelected:b,isIndeterminate:v}=d,y=a.value,{slots:m}=o,R=m?m.header:null,D=m?m.title:null,I=p.value,{checkStrictly:h,showHeader:f,headerTitle:$}=I,k=o.getTitle(),_={};l||(_.onClick=W=>{y||t.triggerCheckAllEvent(W,!b)});const U=Object.assign(Object.assign({},e),{checked:b,disabled:y,indeterminate:v});return R?cn(e,Vn(U,t.callSlot(R,U))):(h?!f:f===!1)?cn(e,Vn(U,[E("span",{class:"vxe-checkbox--label"},D?t.callSlot(D,U):k)])):cn(e,Vn(U,[E("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":b,"is--disabled":y,"is--indeterminate":v}],title:s.eqNull($)?Ti("vxe.table.allTitle"):`${$||""}`},_),[E("span",{class:["vxe-checkbox--icon",v?cr().TABLE_CHECKBOX_INDETERMINATE:b?cr().TABLE_CHECKBOX_CHECKED:y?cr().TABLE_CHECKBOX_DISABLED_UNCHECKED:cr().TABLE_CHECKBOX_UNCHECKED]})].concat(D||k?[E("span",{class:"vxe-checkbox--label"},D?t.callSlot(D,U):k)]:[]))]))},renderCheckboxCell(e){const{$table:t,row:o,column:l,isHidden:d}=e,a=t.props,p=t.reactData,b=t.internalData,{treeConfig:v}=a,{updateCheckboxFlag:y,isRowGroupStatus:m}=p,{selectCheckboxMaps:R,treeIndeterminateRowMaps:D}=b,{computeCheckboxOpts:I,computeAggregateOpts:h}=t.getComputeMaps(),f=h.value,{mapChildrenField:$}=f,k=I.value,{labelField:_,checkMethod:U,visibleMethod:W}=k,{slots:te}=l,X=te?te.default:null,F=te?te.checkbox:null;let M=!1,H=!1,j=!0,N=!1;const B={};if(!d){const se=$e(t,o);if(H=!!y&&!!R[se],U&&m&&t.isAggregateRecord(o)){const pe=o[$||""];(!pe||!pe.length||pe.every(ge=>!U({$table:t,row:ge})))&&(N=!0)}else j=!W||W({$table:t,row:o}),N=U?!U({$table:t,row:o}):!!U;(v||m)&&(M=!!D[se]),B.onClick=pe=>{!N&&j&&t.triggerCheckRowEvent(pe,e,!H)}}const Z=Object.assign(Object.assign({},e),{checked:H,disabled:N,visible:j,indeterminate:M});if(F)return Wr(e,t.callSlot(F,Z));const q=[];return j&&q.push(E("span",{class:["vxe-checkbox--icon",M?cr().TABLE_CHECKBOX_INDETERMINATE:H?cr().TABLE_CHECKBOX_CHECKED:N?cr().TABLE_CHECKBOX_DISABLED_UNCHECKED:cr().TABLE_CHECKBOX_UNCHECKED]})),(X||_)&&q.push(E("span",{class:"vxe-checkbox--label"},X?t.callSlot(X,Z):s.get(o,_))),Wr(e,[E("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":H,"is--disabled":N,"is--indeterminate":M,"is--hidden":!j}]},B),q)])},renderDeepSelectionCell(e){return Rt.renderDeepNodeBtn(e,Rt.renderCheckboxCell(e))},renderCheckboxCellByProp(e){const{$table:t,row:o,column:l,isHidden:d}=e,a=t.props,p=t.reactData,b=t.internalData,{treeConfig:v}=a,{updateCheckboxFlag:y,isRowGroupStatus:m}=p,{treeIndeterminateRowMaps:R}=b,{computeCheckboxOpts:D,computeAggregateOpts:I}=t.getComputeMaps(),h=I.value,{mapChildrenField:f}=h,$=D.value,{labelField:k,checkField:_,checkMethod:U,visibleMethod:W}=$,te=$.indeterminateField||$.halfField,{slots:X}=l,F=X?X.default:null,M=X?X.checkbox:null;let H=!1,j=!1,N=!0,B=!1;const Z={};if(!d){const pe=$e(t,o);if(j=!!y&&s.get(o,_),U&&m&&t.isAggregateRecord(o)){const ge=o[f||""];(!ge||!ge.length||ge.every(ve=>!U({$table:t,row:ve})))&&(B=!0)}else N=!W||W({$table:t,row:o}),B=U?!U({$table:t,row:o}):!!U;(v||m)&&(H=!!R[pe]),Z.onClick=ge=>{!B&&N&&t.triggerCheckRowEvent(ge,e,!j)}}const q=Object.assign(Object.assign({},e),{checked:j,disabled:B,visible:N,indeterminate:H});if(M)return Wr(e,t.callSlot(M,q));const se=[];return N&&(se.push(E("span",{class:["vxe-checkbox--icon",H?cr().TABLE_CHECKBOX_INDETERMINATE:j?cr().TABLE_CHECKBOX_CHECKED:B?cr().TABLE_CHECKBOX_DISABLED_UNCHECKED:cr().TABLE_CHECKBOX_UNCHECKED]})),(F||k)&&se.push(E("span",{class:"vxe-checkbox--label"},F?t.callSlot(F,q):s.get(o,k)))),Wr(e,[E("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":j,"is--disabled":B,"is--indeterminate":te&&!j?o[te]:H,"is--hidden":!N}]},Z),se)])},renderDeepSelectionCellByProp(e){return Rt.renderDeepNodeBtn(e,Rt.renderCheckboxCellByProp(e))},renderExpandCell(e){const{$table:t,isHidden:o,row:l,column:d}=e,a=t.reactData,p=t.internalData,{isRowGroupStatus:b}=a,{rowExpandedMaps:v,rowExpandLazyLoadedMaps:y}=p,{computeExpandOpts:m}=t.getComputeMaps(),R=m.value,{lazy:D,labelField:I,iconLoaded:h,showIcon:f,iconOpen:$,iconClose:k,visibleMethod:_}=R,{slots:U}=d,W=U?U.default:null,te=U?U.icon:null;let X=!1,F=!1;if(b&&l.isAggregate)return Wr(e,[]);if(te)return Wr(e,t.callSlot(te,e));if(!o){const M=$e(t,l);X=!!v[M],D&&(F=!!y[M])}return Wr(e,[f&&(!_||_(e))?E("span",{class:["vxe-table--expanded",{"is--active":X}],onMousedown(M){M.stopPropagation()},onClick(M){t.triggerRowExpandEvent(M,e)}},[E("i",{class:["vxe-table--expand-btn",F?h||cr().TABLE_EXPAND_LOADED:X?$||cr().TABLE_EXPAND_OPEN:k||cr().TABLE_EXPAND_CLOSE]})]):jn(t),W||I?E("span",{class:"vxe-table--expand-label"},W?t.callSlot(W,e):s.get(l,I)):jn(t)])},renderExpandData(e){const{$table:t,column:o}=e,{slots:l,contentRender:d}=o,a=l?l.content:null;if(a)return t.callSlot(a,e);if(d){const p=Li.get(d.name);if(p){const b=p.renderTableExpand||p.renderExpand;if(b)return _r(b(d,e))}}return[]},renderHTMLCell(e){const{$table:t,column:o}=e,{slots:l}=o,d=l?l.default:null;return d?Wr(e,t.callSlot(d,e)):Wr(e,[E("span",{class:"vxe-cell--html",innerHTML:ub(e)})])},renderDeepHTMLCell(e){return Rt.renderDeepNodeBtn(e,Rt.renderHTMLCell(e))},renderSortAndFilterHeader(e){return cn(e,Rt.renderHeaderTitle(e).concat(Rt.renderSortIcon(e).concat(Rt.renderFilterIcon(e))))},renderSortHeader(e){return cn(e,Rt.renderHeaderTitle(e).concat(Rt.renderSortIcon(e)))},renderSortIcon(e){const{$table:t,column:o}=e,{computeSortOpts:l}=t.getComputeMaps(),d=l.value,{showIcon:a,allowBtn:p,ascTitle:b,descTitle:v,iconLayout:y,iconAsc:m,iconDesc:R,iconVisibleMethod:D}=d,{order:I}=o;return a&&(!D||D(e))?[E("span",{class:["vxe-cell--sort",`vxe-cell--sort-${y}-layout`]},[E("i",{class:["vxe-sort--asc-btn",m||cr().TABLE_SORT_ASC,{"sort--active":I==="asc"}],title:s.eqNull(b)?Ti("vxe.table.sortAsc"):`${b||""}`,onClick:p?h=>{h.stopPropagation(),t.triggerSortEvent(h,o,"asc")}:void 0}),E("i",{class:["vxe-sort--desc-btn",R||cr().TABLE_SORT_DESC,{"sort--active":I==="desc"}],title:s.eqNull(v)?Ti("vxe.table.sortDesc"):`${v||""}`,onClick:p?h=>{h.stopPropagation(),t.triggerSortEvent(h,o,"desc")}:void 0})])]:[]},renderFilterHeader(e){return cn(e,Rt.renderHeaderTitle(e).concat(Rt.renderFilterIcon(e)))},renderFilterIcon(e){const{$table:t,column:o,hasFilter:l}=e,d=t.reactData,{filterStore:a}=d,{computeFilterOpts:p}=t.getComputeMaps(),b=p.value,{showIcon:v,iconNone:y,iconMatch:m,iconVisibleMethod:R}=b;return v&&(!R||R(e))?[E("span",{class:["vxe-cell--filter",{"is--active":a.visible&&a.column===o}],onClick(D){t.triggerFilterEvent&&t.triggerFilterEvent(D,e.column,e)}},[E("i",{class:["vxe-filter--btn",l?m||cr().TABLE_FILTER_MATCH:y||cr().TABLE_FILTER_NONE],title:Ti("vxe.table.filter")})])]:[]},renderEditHeader(e){const{$table:t,column:o}=e,l=t.props,{computeEditOpts:d}=t.getComputeMaps(),{editConfig:a,editRules:p}=l,b=d.value,{sortable:v,filters:y,editRender:m}=o;let R=!1;if(p){const I=s.get(p,o.field);I&&(R=I.some(h=>h.required))}let D=[];if(It(a)){const{showAsterisk:I,showIcon:h,icon:f}=b;D=[R&&I?E("span",{class:"vxe-cell--required-icon"},[E("i")]):jn(t),It(m)&&h?E("span",{class:"vxe-cell--edit-icon"},s.isFunction(f)?_r(f({})):[E("i",{class:f||cr().TABLE_EDIT})]):jn(t)]}return cn(e,D.concat(Rt.renderHeaderTitle(e)).concat(v?Rt.renderSortIcon(e):[]).concat(y?Rt.renderFilterIcon(e):[]))},renderRowEdit(e){const{$table:t,column:o}=e,l=t.reactData,{editStore:d}=l,{actived:a}=d,{editRender:p}=o;return Rt.runRenderer(e,It(p)&&a&&a.row===e.row)},renderDeepRowEdit(e){return Rt.renderDeepNodeBtn(e,Rt.renderRowEdit(e))},renderCellEdit(e){const{$table:t,column:o}=e,l=t.reactData,{editStore:d}=l,{actived:a}=d,{editRender:p}=o;return Rt.runRenderer(e,It(p)&&a&&a.row===e.row&&a.column===e.column)},renderDeepCellEdit(e){return Rt.renderDeepNodeBtn(e,Rt.renderCellEdit(e))},runRenderer(e,t){const{$table:o,row:l,column:d}=e,a=o.reactData,{isRowGroupStatus:p}=a,{slots:b,field:v,editRender:y,formatter:m}=d,R=b?b.default:null,D=b?b.groupContent||b["group-content"]:null,I=b?b.edit:null,h=Li.get(y.name),f=h?h.renderTableEdit||h.renderEdit:null,$=Object.assign({$type:"",isEdit:t},e);if(t)return $.$type="edit",I?o.callSlot(I,$):f?_r(f(y,$)):[];if(p&&v&&l.isAggregate){const k=l,{computeAggregateOpts:_}=o.getComputeMaps(),U=_.value,{mapChildrenField:W}=U,te=k.groupField,X=k.groupContent,F=W?k[W]||[]:[],M=k.childCount;if(D)return Wr(e,o.callSlot(D,Object.assign({groupField:te,groupContent:X,childList:F,childCount:M},e)))}else if(R)return Wr(e,o.callSlot(R,$));return m?Wr(e,[E("span",{class:"vxe-cell--label"},ub($))]):Rt.renderDefaultCell($)}},YC={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],headerFormatter:[Function,Array,String],footerFormatter:[Function,Array,String],padding:{type:Boolean,default:null},verticalAlign:{type:String,default:null},sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,rowGroupNode:Boolean,treeNode:Boolean,dragSort:Boolean,rowResize:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,aggFunc:[String,Boolean],params:Object},Yn=Ao({name:"VxeColumn",props:YC,setup(e,{slots:t}){const o=Ye(),l=to("$xeTable",null),d=to("$xeColgroup",null);if(!l)return()=>mt();const a=Rt.createColumn(l,e);a.slots=t;const p=()=>E("div",{ref:o}),b={columnConfig:a,renderVN:p};return NC(l,e,a),El(()=>{const v=o.value;v&&BC(l,v,a,d)}),Mn(()=>{GC(l,a)}),_o("$xeColumn",b),_o("$xeGrid",null),_o("$xeGantt",null),p}}),pO=Object.assign({},Yn,{install(e){e.component(Yn.name,Yn),e.component("VxeTableColumn",Yn)}});ye.dynamicApp&&(ye.dynamicApp.component(Yn.name,Yn),ye.dynamicApp.component("VxeTableColumn",Yn));ye.component(Yn);const Xn=Ao({name:"VxeColgroup",props:YC,setup(e,{slots:t}){const o=Ye(),l=to("$xeTable",null),d=to("$xeColgroup",null);if(!l)return()=>mt();const a=Rt.createColumn(l,e),p={};t.header&&(p.header=t.header),a.slots=p,a.children=[],NC(l,e,a),El(()=>{const y=o.value;y&&BC(l,y,a,d)}),Mn(()=>{GC(l,a)});const b=()=>E("div",{ref:o},t.default?t.default():[]);return _o("$xeColgroup",{columnConfig:a}),_o("$xeGrid",null),_o("$xeGantt",null),b}});Object.assign({},Xn,{install(e){e.component(Xn.name,Xn),e.component("VxeTableColgroup",Xn)}});ye.dynamicApp&&(ye.dynamicApp.component(Xn.name,Xn),ye.dynamicApp.component("VxeTableColgroup",Xn));ye.component(Xn);const{getConfig:Dr}=ye,Ea={id:[String,Function],data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>null},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>Dr().table.resizable},stripe:{type:Boolean,default:()=>Dr().table.stripe},border:{type:[Boolean,String],default:()=>Dr().table.border},padding:{type:Boolean,default:null},round:{type:Boolean,default:()=>Dr().table.round},size:{type:String,default:()=>Dr().table.size||Dr().size},fit:{type:Boolean,default:()=>Dr().table.fit},loading:Boolean,align:{type:String,default:()=>Dr().table.align},headerAlign:{type:String,default:()=>Dr().table.headerAlign},footerAlign:{type:String,default:()=>Dr().table.footerAlign},showHeader:{type:Boolean,default:()=>Dr().table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>Dr().table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>Dr().table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>Dr().table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>Dr().table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],showCustomHeader:{type:Boolean,default:()=>Dr().table.showCustomHeader},mergeHeaderCells:Array,mergeCells:Array,mergeFooterCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>Dr().table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>Dr().table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>Dr().table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>Dr().table.rowId},zIndex:Number,emptyText:{type:String,default:()=>Dr().table.emptyText},keepSource:{type:Boolean,default:()=>Dr().table.keepSource},autoResize:{type:Boolean,default:()=>Dr().table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,currentColumnConfig:Object,cellConfig:Object,headerCellConfig:Object,footerCellConfig:Object,rowConfig:Object,aggregateConfig:Object,rowGroupConfig:Object,currentRowConfig:Object,dragConfig:Object,rowDragConfig:Object,columnDragConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,headerTooltipConfig:Object,footerTooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,virtualXConfig:Object,virtualYConfig:Object,scrollbarConfig:Object,animat:{type:Boolean,default:()=>Dr().table.animat},delayHover:{type:Number,default:()=>Dr().table.delayHover},params:Object},{getConfig:db}=ye,eS=Object.assign(Object.assign({},Ea),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>db().grid.size||db().size}}),ag=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","columns-change","data-change","footer-data-change","current-change","current-row-change","current-row-disabled","current-column-change","current-column-disabled","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","cell-backspace-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","clear-all-sort","filter-change","filter-visible","clear-filter","clear-all-filter","resizable-change","column-resizable-change","row-resizable-change","toggle-row-group-expand","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","row-dragstart","row-dragover","row-dragend","row-remove-dragend","row-insert-dragend","column-dragstart","column-dragover","column-dragend","enter-append-row","edit-actived","edit-activated","edit-disabled","valid-error","scroll","scroll-boundary","custom","custom-visible-change","custom-visible-all","custom-fixed-change","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-selection","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],tS=[...ag,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],Ra="row--drag-move",XC="col--drag-move";function na(e,t){s.arrayEach(e,o=>{o.style.transform=`translateY(${t}px)`}),requestAnimationFrame(()=>{s.arrayEach(e,o=>{Do(o,Ra),o.style.transform=""})})}function rS(e,t){setTimeout(()=>{e&&s.arrayEach(e.querySelectorAll(t.map(o=>`${o}.${Ra}`).join(",")),o=>co(o,Ra))},500)}function fb(e,t){s.arrayEach(e,o=>{o.style.transform=`translateX(${t}px)`}),requestAnimationFrame(()=>{s.arrayEach(e,o=>{Do(o,XC),o.style.transform=""})})}function oS(e,t){setTimeout(()=>{e&&s.arrayEach(e.querySelectorAll(t.map(o=>`${o}.${Ra}`).join(",")),o=>co(o,XC))},500)}const nS=Fo({row:null});function lS(){return nS}const{getI18n:iS,renderer:gb,renderEmptyElement:Fi}=ye,la="body",pb=Ao({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:""}},setup(e){const t=to("$xeTable",{}),{xID:o,props:l,context:d,reactData:a,internalData:p}=t,{computeEditOpts:b,computeMouseOpts:v,computeCellOffsetWidth:y,computeAreaOpts:m,computeDefaultRowHeight:R,computeEmptyOpts:D,computeTooltipOpts:I,computeRadioOpts:h,computeExpandOpts:f,computeTreeOpts:$,computeCheckboxOpts:k,computeCellOpts:_,computeValidOpts:U,computeRowOpts:W,computeColumnOpts:te,computeRowDragOpts:X,computeResizableOpts:F,computeVirtualXOpts:M,computeVirtualYOpts:H}=t.getComputeMaps(),j=Ye(),N=Ye(),B=Ye(),Z=Ye(),q=Ye(),se=Ye(),pe=Ye(),ge=Ye(),ve=()=>{const{delayHover:ce}=l,{lastScrollTime:de,isDragResize:me}=a;return!!(me||de&&Date.now()<de+ce)},Oe=(ce,de,me)=>{const{column:be}=de,{afterFullData:le}=p,{treeConfig:Te}=l,Le=$.value,{slots:Fe,treeNode:ot}=be,{fullAllDataRowIdData:De}=p;if(Fe&&Fe.line)return t.callSlot(Fe.line,de);const Ke=De[ce];let we=0,K=null;return Ke&&(we=Ke.level,K=Ke.items[Ke.treeIndex-1]),Te&&ot&&(Le.showLine||Le.line)?[E("div",{key:"tl",class:"vxe-tree--line-wrapper"},[E("div",{class:"vxe-tree--line",style:{height:`${$e(t,le[0])===ce?1:VR(de,K)}px`,bottom:`-${Math.floor(me/2)}px`,left:`${we*Le.indent+(we?2-WC(t):0)+16}px`}})])]:[]},ae=(ce,de,me,be,le,Te,Le,Fe,ot,De,Ke,we,K)=>{const xe=t.xeGrid,Re=t.xeGantt,{columnKey:Ae,resizable:He,showOverflow:We,border:Xe,height:Je,treeConfig:lt,cellClassName:Ge,cellStyle:gt,align:Ve,spanMethod:je,mouseConfig:nt,editConfig:at,editRules:Mt,tooltipConfig:ht,padding:vt}=l,{tableData:ft,tableColumn:xt,dragRow:_e,overflowX:St,overflowY:pt,currentColumn:Ot,scrollXLoad:Tt,scrollYLoad:$t,mergeBodyFlag:ut,calcCellHeightFlag:Ut,resizeHeightFlag:Yt,resizeWidthFlag:Ct,editStore:wt,isAllOverflow:qt,validErrorMaps:Q}=a,{fullAllDataRowIdData:re,fullColumnIdData:Ee,mergeBodyCellMaps:ke,visibleColumn:Be,afterFullData:Et,mergeBodyList:Dt,scrollXStore:it,scrollYStore:Ft}=p,Qe=_.value,kt=U.value,Xt=k.value,Ar=b.value,Cr=I.value,wr=F.value,qr=M.value,fr=H.value,{isAllColumnDrag:Kr,isAllRowDrag:yr}=wr,Vt=W.value,Fr=X.value,bt=R.value,mr=Ut?Qe.height||Vt.height:0,{disabledMethod:gr,isCrossDrag:ir,isPeerDrag:ho}=Fr,nr=te.value,Nr=v.value,io=m.value,Sr=y.value,{selectCellToRow:Zr}=io,{type:oo,cellRender:Gr,editRender:$r,align:er,showOverflow:yt,className:Ur,treeNode:kr,rowResize:Zo,padding:Jr,verticalAlign:uo,slots:Jo}=De,{verticalAlign:Qo}=Qe,{actived:en}=wt,Bo=re[de]||{},yo=De.id,Tl=Ee[yo]||{},el=$r||Gr,ko=el?gb.get(el.name):null,ui=ko?ko.tableCellClassName||ko.cellClassName:null,tl=ko?ko.tableCellStyle||ko.cellStyle:"",u=Cr.showAll,rl=Tl.index,tn=Tl._index,vr=It($r),ol=Yt?Bo.resizeHeight:0;let vo=St&&(me?De.fixed!==me:!!De.fixed);const di=s.eqNull(Jr)?vt===null?Qe.padding:vt:Jr,rn=s.eqNull(yt)?We:yt,wn=rn==="ellipsis",Lo=rn==="title",mo=rn===!0||rn==="tooltip",Hn=qt||Lo||mo||wn,Fl=s.isBoolean(De.resizable)?De.resizable:nr.resizable||He,nl=!!mr,$n=ol>0;let Ml;const Go={},Il=er||(ko?ko.tableCellAlign:"")||Ve,Al=s.eqNull(uo)?Qo:uo,on=Q[`${de}:${yo}`],fi=Mt&&kt.showMessage&&(kt.message==="default"?Je||ft.length>1:kt.message==="inline"),Ho={colid:yo},Mr={$table:t,$grid:xe,$gantt:Re,isEdit:!1,seq:ce,rowid:de,row:Te,rowIndex:Le,$rowIndex:Fe,_rowIndex:ot,column:De,columnIndex:rl,$columnIndex:Ke,_columnIndex:tn,fixed:me,type:la,isHidden:!!vo,level:le,visibleData:Et,data:ft,items:K};let yn=!1,ll=!1;Vt.drag&&(yn=Fr.trigger==="row"||De.dragSort&&Fr.trigger==="cell"),yn&&(ll=!!(gr&&gr(Mr))),(Lo||mo||u||ht)&&(Go.onMouseover=Wt=>{ve()||(Lo?og(Wt.currentTarget,De):(mo||u)&&t.triggerBodyTooltipEvent(Wt,Mr)),t.dispatchEvent("cell-mouseenter",Object.assign({cell:Wt.currentTarget},Mr),Wt)}),(mo||u||ht)&&(Go.onMouseleave=Wt=>{ve()||(mo||u)&&t.handleTargetLeaveEvent(Wt),t.dispatchEvent("cell-mouseleave",Object.assign({cell:Wt.currentTarget},Mr),Wt)}),(yn||Xt.range||nt)&&(Go.onMousedown=Wt=>{t.triggerCellMousedownEvent(Wt,Mr)}),yn&&(Go.onMouseup=t.triggerCellMouseupEvent),Go.onClick=Wt=>{t.triggerCellClickEvent(Wt,Mr)},Go.onDblclick=Wt=>{t.triggerCellDblclickEvent(Wt,Mr)};let Vo=!1,nn=1,En=1;if(ut&&Dt.length){const Wt=ke[`${ot}:${tn}`];if(Wt){const{rowspan:Ir,colspan:Yr}=Wt;if(!Ir||!Yr)return Fi(t);Ir>1&&(Vo=!0,En=Ir,Ho.rowspan=Ir),Yr>1&&(Vo=!0,nn=Yr,Ho.colspan=Yr)}}else if(je){const{rowspan:Wt=1,colspan:Ir=1}=je(Mr)||{};if(!Wt||!Ir)return Fi(t);Wt>1&&(Vo=!0,En=Wt,Ho.rowspan=Wt),Ir>1&&(Vo=!0,nn=Ir,Ho.colspan=Ir)}vo&&Vo&&(Ho.colspan>1||Ho.rowspan>1)&&(vo=!1),!vo&&at&&($r||Gr)&&(Ar.showStatus||Ar.showUpdateStatus)&&(Ml=t.isUpdateByRow(Te,De.field));const gi=!Hn&&($t||Tt);let Rn=Ql(Bo,Qe,Vt,bt);const kl=Ke===we.length-1,Ll=!De.resizeWidth&&(De.minWidth==="auto"||De.width==="auto");let ln=!1;if(Vo||(!_e||$e(t,_e)!==de)&&(pt&&$t&&ft.length>16&&!lt&&!fr.immediate&&(ot<Ft.visibleStartIndex-Ft.preloadSize||ot>Ft.visibleEndIndex+Ft.preloadSize)||St&&Tt&&xt.length>10&&!qr.immediate&&!De.fixed&&(tn<it.visibleStartIndex-it.preloadSize||tn>it.visibleEndIndex+it.preloadSize))&&(ln=!0),En>1){const Wt=Et[ot+En-1];if(Wt){const Ir=re[$e(t,Wt)];Ir&&(Rn+=Ir.oTop+Ql(Ir,Qe,Vt,bt)-Bo.oTop-Ql(Bo,Qe,Vt,bt))}}const zo={};if(Hn&&Ct){let Wt=0;if(nn>1)for(let Ir=1;Ir<nn;Ir++){const Yr=Be[rl+Ir];Yr&&(Wt+=Yr.renderWidth)}zo.width=`${De.renderWidth+Wt-Sr}px`}$t||Tt||Hn||nl||$n?zo.height=`${Rn}px`:zo.minHeight=`${Rn}px`;const Eo=[];if(vo&&qt)Eo.push(E("div",{key:"tc",class:["vxe-cell",{"c--title":Lo,"c--tooltip":mo,"c--ellipsis":wn}],style:zo}));else if(lt&&Eo.push(...Oe(de,Mr,Rn)),Eo.push(E("div",{key:"tc",class:["vxe-cell",{"c--title":Lo,"c--tooltip":mo,"c--ellipsis":wn}],style:zo,title:Lo?t.getCellLabel(Te,De):null},ln?[]:[E("div",{colid:yo,rowid:de,class:"vxe-cell--wrapper vxe-body-cell--wrapper"},De.renderCell(Mr))])),fi&&on){const Wt=on.rule,Ir=Jo?Jo.valid:null,Yr=Object.assign(Object.assign(Object.assign({},Mr),on),{rule:on});Eo.push(E("div",{key:"tcv",class:["vxe-cell--valid-error-tip",Wn(kt.className,Yr)],style:Wt&&Wt.maxWidth?{width:`${Wt.maxWidth}px`}:null},[E("div",{class:`vxe-cell--valid-error-wrapper vxe-cell--valid-error-theme-${kt.theme||"normal"}`},[Ir?t.callSlot(Ir,Yr):[E("span",{class:"vxe-cell--valid-error-msg"},on.content)]])]))}let Sn=!1;return nt&&Nr.area&&!tn&&Zr&&(Sn=!0),!vo&&Fl&&Kr&&Eo.push(E("div",{key:"tcc",class:["vxe-cell--col-resizable",{"is--line":!Xe||Xe==="none"}],onMousedown:Wt=>t.handleColResizeMousedownEvent(Wt,me,Mr),onDblclick:Wt=>t.handleColResizeDblclickEvent(Wt,Mr)})),(Zo||yr)&&Vt.resizable&&Eo.push(E("div",{key:"tcr",class:"vxe-cell--row-resizable",onMousedown:Wt=>t.handleRowResizeMousedownEvent(Wt,Mr),onDblclick:Wt=>t.handleRowResizeDblclickEvent(Wt,Mr)})),E("td",Object.assign(Object.assign(Object.assign({class:["vxe-table--column vxe-body--column",yo,Al?`col--vertical-${Al}`:"",Il?`col--${Il}`:"",oo?`col--${oo}`:"",{"col--last":kl,"col--tree-node":kr,"col--edit":vr,"col--ellipsis":Hn,"col--cs-height":nl,"col--rs-height":$n,"col--to-row":Sn,"col--auto-height":gi,"fixed--width":!Ll,"fixed--hidden":vo,"is--padding":di,"is--progress":vo&&qt||ln,"is--drag-cell":yn&&(ir||ho||!le),"is--drag-disabled":ll,"col--dirty":Ml,"col--active":at&&vr&&en.row===Te&&(en.column===De||Ar.mode==="row"),"col--valid-error":!!on,"col--current":Ot===De},Wn(ui,Mr),Wn(Ur,Mr),Wn(Ge,Mr)],key:Ae||Tt||$t||nr.useKey||Vt.useKey||nr.drag?yo:Ke},Ho),{style:Object.assign({},s.isFunction(tl)?tl(Mr):tl,s.isFunction(gt)?gt(Mr):gt)}),Go),be&&vo?[]:Eo)},oe=(ce,de,me,be)=>{const le=t.xeGrid,Te=t.xeGantt,{stripe:Le,rowKey:Fe,highlightHoverRow:ot,rowClassName:De,rowStyle:Ke,editConfig:we,treeConfig:K}=l,{hasFixedColumn:xe,treeExpandedFlag:Re,scrollXLoad:Ae,scrollYLoad:He,isAllOverflow:We,rowExpandedFlag:Xe,expandColumn:Je,selectRadioRow:lt,pendingRowFlag:Ge,rowExpandHeightFlag:gt,isRowGroupStatus:Ve}=a,{fullAllDataRowIdData:je,fullColumnIdData:nt,treeExpandedMaps:at,pendingRowMaps:Mt,rowExpandedMaps:ht}=p,vt=k.value,ft=h.value,xt=$.value,_e=b.value,St=W.value,pt=te.value,{transform:Ot,seqMode:Tt}=xt,$t=xt.children||xt.childrenField,ut=[],{handleGetRowId:Ut}=Tr(t),Yt=K||Ve;return me.forEach((Ct,wt)=>{const qt=Ut(Ct),Q=je[qt]||{};let re=wt,Ee=0,ke=-1,Be=-1;const Et=Ve&&Ct.isAggregate,Dt={};(St.isHover||ot)&&(Dt.onMouseover=wr=>{ve()||t.triggerHoverEvent(wr,{row:Ct,rowIndex:re})},Dt.onMouseleave=()=>{ve()||t.clearHoverRow()}),Q&&(re=Q.index,Be=Q._index,Ee=Q.level,ke=Q.seq,Et||K&&Ot&&Tt==="increasing"?ke=Q._index+1:K&&Tt==="fixed"&&(ke=Q._tIndex+1));const it={$table:t,seq:ke,rowid:qt,fixed:ce,type:la,level:Ee,row:Ct,rowIndex:re,$rowIndex:wt,_rowIndex:Be},Ft=Je&&!!Xe&&!!ht[qt];let Qe=!1,kt=[],Xt=!1;we&&(Xt=t.isInsertByRow(Ct)),K&&!He&&!Ot&&(kt=Ct[$t],Qe=!!Re&&kt&&kt.length>0&&!!at[qt]),St.drag&&!Ve&&(!K||Ot)&&(Dt.onDragstart=t.handleRowDragDragstartEvent,Dt.onDragend=t.handleRowDragDragendEvent,Dt.onDragover=t.handleRowDragDragoverEvent);const Ar=["vxe-body--row",Yt?`row--level-${Ee}`:"",{"row--stripe":Le&&(Be+1)%2===0,"is--new":Xt,"is--expand-row":Ft,"is--expand-tree":Qe,"row--new":Xt&&(_e.showStatus||_e.showInsertStatus),"row--radio":ft.highlight&&t.eqRow(lt,Ct),"row--checked":vt.highlight&&t.isCheckedByCheckboxRow(Ct),"row--pending":!!Ge&&!!Mt[qt],"row--group":Et},Wn(De,it)],Cr=be.map((wr,qr)=>ae(ke,qt,ce,de,Ee,Ct,re,wt,Be,wr,qr,be,me));if(ut.push(E("tr",Object.assign({class:Ar,rowid:qt,style:Ke?s.isFunction(Ke)?Ke(it):Ke:null,key:Fe||Ae||He||St.useKey||St.drag||pt.drag||Ve||K?qt:wt},Dt),Cr)),Ft){const wr=f.value,{height:qr,padding:fr,mode:Kr}=wr;if(Kr==="fixed")ut.push(E("tr",{class:"vxe-body--row-expanded-place",key:`expand_${qt}`,rowid:qt},[E("td",{class:"vxe-body--row-expanded-place-column",colspan:be.length,style:{height:`${gt?Q.expandHeight||qr:0}px`}})]));else{const yr={};qr&&(yr.height=`${qr}px`),K&&(yr.paddingLeft=`${Ee*xt.indent+30}px`);const{showOverflow:Vt}=Je||{},Fr=Je.id,bt=nt[Fr]||{},mr=s.eqNull(Vt)?We:Vt;let gr=-1,ir=-1,ho=-1;bt&&(gr=bt.index,ir=bt.$index,ho=bt._index);const nr={$table:t,$grid:le,$gantt:Te,seq:ke,column:Je,columnIndex:gr,$columnIndex:ir,_columnIndex:ho,fixed:ce,type:la,level:Ee,row:Ct,rowid:qt,rowIndex:re,$rowIndex:wt,_rowIndex:Be,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};ut.push(E("tr",{class:["vxe-body--expanded-row",{"is--padding":fr}],key:`expand_${qt}`},[E("td",{class:["vxe-body--expanded-column",{"fixed--hidden":ce&&!xe,"col--ellipsis":mr}],colspan:be.length},[E("div",{class:["vxe-body--expanded-cell",{"is--ellipsis":qr}],style:yr},[Je.renderData(nr)])])]))}}Qe&&ut.push(...oe(ce,de,kt,be))}),ut};return El(()=>{ue(()=>{const{fixedType:ce}=e,{elemStore:de}=p,me=`${ce||"main"}-body-`;de[`${me}wrapper`]=j,de[`${me}scroll`]=N,de[`${me}table`]=B,de[`${me}colgroup`]=Z,de[`${me}list`]=q,de[`${me}xSpace`]=se,de[`${me}ySpace`]=pe,de[`${me}emptyBlock`]=ge})}),Mn(()=>{const{fixedType:ce}=e,{elemStore:de}=p,me=`${ce||"main"}-body-`;de[`${me}wrapper`]=null,de[`${me}scroll`]=null,de[`${me}table`]=null,de[`${me}colgroup`]=null,de[`${me}list`]=null,de[`${me}xSpace`]=null,de[`${me}ySpace`]=null,de[`${me}emptyBlock`]=null}),()=>{const{slots:ce}=d,de=t.xeGrid,me=t.xeGantt,{fixedColumn:be,fixedType:le,tableColumn:Te}=e,{spanMethod:Le,footerSpanMethod:Fe,mouseConfig:ot}=l,{isGroup:De,tableData:Ke,isColLoading:we,overflowX:K,scrollXLoad:xe,scrollYLoad:Re,isAllOverflow:Ae,expandColumn:He,dragRow:We,dragCol:Xe}=a,{visibleColumn:Je,fullAllDataRowIdData:lt,fullColumnIdData:Ge}=p,gt=D.value,Ve=v.value,je=f.value;let nt=Ke,at=Te,Mt=!1;if((xe||Re||Ae)&&(He&&je.mode!=="fixed"||Le||Fe||(Mt=!0)),!we&&(le||!K)&&(at=Je),le&&Mt&&(at=be||[]),Re&&We&&nt.length>2){const _e=lt[$e(t,We)];if(_e){const St=_e._index,pt=nt[0],Ot=nt[nt.length-1],Tt=lt[$e(t,pt)],$t=lt[$e(t,Ot)];if(Tt&&$t){const ut=Tt._index,Ut=$t._index;St<ut?nt=[We].concat(nt):St>Ut&&(nt=nt.concat([We]))}}}if(!le&&!De&&xe&&Xe&&at.length>2){const _e=Ge[Xe.id];if(_e){const St=_e._index,pt=at[0],Ot=at[at.length-1],Tt=Ge[pt.id],$t=Ge[Ot.id];if(Tt&&$t){const ut=Tt._index,Ut=$t._index;St<ut?at=[Xe].concat(at):St>Ut&&(at=at.concat([Xe]))}}}let ht;const vt=ce?ce.empty:null,ft={$table:t,$grid:de,$gantt:me};if(vt)ht=t.callSlot(vt,ft);else{const _e=gt.name?gb.get(gt.name):null,St=_e?_e.renderTableEmpty||_e.renderTableEmptyView||_e.renderEmpty:null;St?ht=_r(St(gt,ft)):ht=l.emptyText||iS("vxe.table.emptyText")}const xt={onScroll(_e){t.triggerBodyScrollEvent(_e,le)}};return E("div",{ref:j,class:["vxe-table--body-wrapper",le?`fixed-${le}--wrapper`:"body--wrapper"],xid:o},[E("div",Object.assign({ref:N,class:"vxe-table--body-inner-wrapper"},xt),[le?Fi(t):E("div",{ref:se,class:"vxe-body--x-space"}),E("div",{ref:pe,class:"vxe-body--y-space"}),E("table",{ref:B,class:"vxe-table--body",xid:o,cellspacing:0,cellpadding:0,border:0,xvm:Mt?"1":null},[E("colgroup",{ref:Z},at.map((_e,St)=>E("col",{name:_e.id,key:St,style:{width:`${_e.renderWidth}px`}}))),E("tbody",{ref:q},oe(le,Mt,nt,at))]),E("div",{class:"vxe-table--checkbox-range"}),ot&&Ve.area?E("div",{class:"vxe-table--cell-area",xid:o},[E("span",{class:"vxe-table--cell-main-area"},Ve.extension?[E("span",{class:"vxe-table--cell-main-area-btn",onMousedown(_e){t.triggerCellAreaExtendMousedownEvent&&t.triggerCellAreaExtendMousedownEvent(_e,{$table:t,fixed:le,type:la})}})]:[]),E("span",{class:"vxe-table--cell-clip-area"}),E("span",{class:"vxe-table--cell-extend-area"}),E("span",{class:"vxe-table--cell-multi-area"}),E("span",{class:"vxe-table--cell-active-area"}),E("span",{class:"vxe-table--cell-row-status-area"})]):Fi(t),le?Fi(t):E("div",{class:"vxe-table--empty-block",ref:ge},[E("div",{class:"vxe-table--empty-content"},ht)])])])}}}),{renderer:aS,renderEmptyElement:Cf}=ye,hb="header";function KC(e){const{children:t}=e;return t&&t.length?KC(t[0]):e}function ZC(e){const{children:t}=e;return t&&t.length?ZC(t[t.length-1]):e}const vb=Ao({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=to("$xeTable",{}),{xID:o,props:l,reactData:d,internalData:a}=t,{computeColumnOpts:p,computeColumnDragOpts:b,computeCellOpts:v,computeMouseOpts:y,computeHeaderCellOpts:m,computeDefaultRowHeight:R,computeVirtualXOpts:D}=t.getComputeMaps(),I=Ye([]),h=Ye(),f=Ye(),$=Ye(),k=Ye(),_=Ye(),U=Ye(),W=Ye(),te=()=>{const{showCustomHeader:H}=l,{collectColumn:j,visibleColumn:N}=a,{tableGroupColumn:B}=e,{isGroup:Z}=d;let q=Z?HR(B):[],se=[];H&&q.length>1&&(se=$R(q),q=se),I.value=q,t.dispatchEvent("columns-change",{visibleColgroups:se,collectColumn:j,visibleColumn:N},null)},X=(H,j,N,B,Z)=>{const q=t.xeGrid,se=t.xeGantt,{fixedType:pe}=e,{resizable:ge,columnKey:ve,showCustomHeader:Oe,headerCellClassName:ae,headerCellStyle:oe,showHeaderOverflow:ie,headerAlign:ce,align:de,mouseConfig:me}=l,{currentColumn:be,dragCol:le,scrollXLoad:Te,scrollYLoad:Le,overflowX:Fe,mergeHeadFlag:ot,tableColumn:De}=d,{fullColumnIdData:Ke,scrollXStore:we,mergeHeaderList:K,mergeHeaderCellMaps:xe}=a,Re=D.value,Ae=p.value,He=b.value,We=v.value,Xe=R.value,Je=m.value,lt=ya(Je.height)||Xe,{disabledMethod:Ge,isCrossDrag:gt,isPeerDrag:Ve}=He,je=B===N.length-1;return Z.map((nt,at)=>{const{type:Mt,showHeaderOverflow:ht,headerAlign:vt,align:ft,filters:xt,headerClassName:_e,editRender:St,cellRender:pt}=nt,Ot=nt.id,Tt=Ke[Ot]||{},$t=St||pt,ut=$t?aS.get($t.name):null,Ut=nt.children&&nt.children.length,Yt=Fe&&!Ut&&(pe?nt.fixed!==pe:!!nt.fixed),Ct=s.isBoolean(Je.padding)?Je.padding:We.padding,wt=s.eqNull(ht)?ie:ht,qt=vt||(ut?ut.tableHeaderCellAlign:"")||ce||ft||(ut?ut.tableCellAlign:"")||de,Q=wt==="ellipsis",re=wt==="title",Ee=wt===!0||wt==="tooltip",ke=re||Ee||Q;let Be=!1,Et=null;xt&&(Et=xt[0],Be=xt.some(Vt=>Vt.checked));const Dt=Tt.index,it=Tt._index,Ft={$table:t,$grid:q,$gantt:se,$rowIndex:B,column:nt,columnIndex:Dt,$columnIndex:at,_columnIndex:it,firstFilterOption:Et,fixed:pe,type:hb,isHidden:Yt,hasFilter:Be},Qe={colid:Ot};let kt=!1;if(Oe||(Qe.colspan=nt.colSpan>1?nt.colSpan:null,Qe.rowspan=nt.rowSpan>1?nt.rowSpan:null),ot&&K.length&&(Oe||je)){const Vt=xe[`${B}:${Oe?at:it}`];if(Vt){const{rowspan:Fr,colspan:bt}=Vt;if(!Fr||!bt)return null;Fr>1&&(kt=!0,Qe.rowspan=Fr),bt>1&&(kt=!0,Qe.colspan=bt)}}const Xt={onClick:Vt=>t.triggerHeaderCellClickEvent(Vt,Ft),onDblclick:Vt=>t.triggerHeaderCellDblclickEvent(Vt,Ft)},Ar=Ae.drag&&He.trigger==="cell";let Cr=!1;Ar&&(Cr=!!(Ge&&Ge(Ft))),(me||Ar)&&(Xt.onMousedown=Vt=>t.triggerHeaderCellMousedownEvent(Vt,Ft)),Ae.drag&&(Xt.onDragstart=t.handleHeaderCellDragDragstartEvent,Xt.onDragend=t.handleHeaderCellDragDragendEvent,Xt.onDragover=t.handleHeaderCellDragDragoverEvent,Ar&&(Xt.onMouseup=t.handleHeaderCellDragMouseupEvent));const wr=at===Z.length-1,qr=s.isBoolean(nt.resizable)?nt.resizable:Ae.resizable||ge,fr=!nt.resizeWidth&&(nt.minWidth==="auto"||nt.width==="auto");let Kr=!1;j&&Fe&&!H&&!kt&&(!le||le.id!==Ot)&&Te&&De.length>10&&!nt.fixed&&!Re.immediate&&(it<we.visibleStartIndex-we.preloadSize||it>we.visibleEndIndex+we.preloadSize)&&(Kr=!0);const yr={};if(ke?yr.height=`${lt}px`:yr.minHeight=`${lt}px`,!Oe){if(Ut&&!je){const Vt=KC(nt),Fr=ZC(nt);if(Vt&&Fr&&Vt.id!==Fr.id){const bt=Ke[Vt.id],mr=Ke[Fr.id];bt&&mr&&(yr.width=`${mr.oLeft-bt.oLeft+Fr.renderWidth}px`)}}}return E("th",Object.assign(Object.assign(Object.assign({class:["vxe-table--column vxe-header--column",Ot,Yt?"fixed--hidden":"fixed--visible",{[`col--${qt}`]:qt,[`col--${Mt}`]:Mt,"col--last":wr,"col--fixed":nt.fixed,"col--group":Ut,"col--ellipsis":ke,"fixed--width":!fr,"is--padding":Ct,"is--sortable":nt.sortable,"col--filter":!!xt,"is--filter-active":Be,"is--drag-active":Ae.drag&&!nt.fixed&&!Cr&&(gt||Ve||!nt.parentId),"is--drag-disabled":Ae.drag&&Cr,"col--current":be===nt},_e?s.isFunction(_e)?_e(Ft):_e:"",ae?s.isFunction(ae)?ae(Ft):ae:""],style:oe?s.isFunction(oe)?oe(Ft):oe:null},Qe),Xt),{key:Oe?`${Ot}${at}`:ve||Te||Le||Ae.useKey||Ae.drag||Ut?Ot:at}),[E("div",{class:["vxe-cell",{"c--title":re,"c--tooltip":Ee,"c--ellipsis":Q}],style:yr},Kr||j&&Yt?[]:[E("div",{colid:Ot,class:"vxe-cell--wrapper vxe-header-cell--wrapper"},nt.renderHeader(Ft))]),!Yt&&qr&&(!Oe||je)?E("div",{class:"vxe-cell--col-resizable",onMousedown:Vt=>t.handleColResizeMousedownEvent(Vt,pe,Ft),onDblclick:Vt=>t.handleColResizeDblclickEvent(Vt,Ft)}):Cf(t)])})},F=(H,j,N)=>{const{fixedType:B}=e,{headerRowClassName:Z,headerRowStyle:q}=l;return N.map((se,pe)=>{const ge={$table:t,$rowIndex:pe,fixed:B,type:hb};return E("tr",{key:pe,class:["vxe-header--row",Z?s.isFunction(Z)?Z(ge):Z:""],style:q?s.isFunction(q)?q(ge):q:null},X(H,j,N,pe,se))})},M=()=>{const{fixedType:H,fixedColumn:j,tableColumn:N}=e,{mouseConfig:B,showHeaderOverflow:Z,spanMethod:q,footerSpanMethod:se}=l,{isGroup:pe,isColLoading:ge,overflowX:ve,scrollXLoad:Oe,dragCol:ae}=d,{visibleColumn:oe,fullColumnIdData:ie}=a,ce=y.value;let de=I.value||[],me=N,be=!1;if(pe?me=oe:(Oe&&Z&&(q||se||(be=!0)),(!be||!ge&&(H||!ve))&&(me=oe),H&&be&&(me=j||[]),de=[me]),!H&&!pe&&Oe&&ae&&me.length>2){const le=ie[ae.id];if(le){const Te=le._index,Le=me[0],Fe=me[me.length-1],ot=ie[Le.id],De=ie[Fe.id];if(ot&&De){const Ke=ot._index,we=De._index;Te<Ke?(me=[ae].concat(me),de=[[ae].concat(de[0])].concat(de.slice(1))):Te>we&&(me=me.concat([ae]),de=[de[0].concat([ae])].concat(de.slice(1)))}}}return E("div",{ref:h,class:["vxe-table--header-wrapper",H?`fixed-${H}--wrapper`:"body--wrapper"],xid:o},[E("div",{ref:f,class:"vxe-table--header-inner-wrapper",onScroll(le){t.triggerHeaderScrollEvent(le,H)}},[H?Cf(t):E("div",{ref:U,class:"vxe-body--x-space"}),E("table",{ref:$,class:"vxe-table--header",xid:o,cellspacing:0,cellpadding:0,border:0,xvm:be?"1":null},[E("colgroup",{ref:k},me.map((le,Te)=>E("col",{name:le.id,key:Te,style:{width:`${le.renderWidth}px`}}))),E("thead",{ref:_},F(pe,be,de))]),B&&ce.area?E("div",{class:"vxe-table--cell-area",xid:o},[E("span",{class:"vxe-table--cell-main-area"}),E("span",{class:"vxe-table--cell-clip-area"}),E("span",{class:"vxe-table--cell-extend-area"}),E("span",{class:"vxe-table--cell-multi-area"}),E("span",{class:"vxe-table--cell-active-area"}),E("span",{class:"vxe-table--cell-col-status-area"})]):Cf(t)])])};return _t(()=>e.tableColumn,te),El(()=>{ue(()=>{const{fixedType:H}=e,{internalData:j}=t,{elemStore:N}=j,B=`${H||"main"}-header-`;N[`${B}wrapper`]=h,N[`${B}scroll`]=f,N[`${B}table`]=$,N[`${B}colgroup`]=k,N[`${B}list`]=_,N[`${B}xSpace`]=U,N[`${B}repair`]=W,te()})}),Mn(()=>{const{fixedType:H}=e,{internalData:j}=t,{elemStore:N}=j,B=`${H||"main"}-header-`;N[`${B}wrapper`]=null,N[`${B}scroll`]=null,N[`${B}table`]=null,N[`${B}colgroup`]=null,N[`${B}list`]=null,N[`${B}xSpace`]=null,N[`${B}repair`]=null}),M}}),{renderer:sS,renderEmptyElement:mb}=ye,bb="footer",xb=Ao({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const t=to("$xeTable",{}),{xID:o,props:l,reactData:d,internalData:a}=t,{computeFooterTooltipOpts:p,computeColumnOpts:b,computeCellOpts:v,computeFooterCellOpts:y,computeDefaultRowHeight:m,computeResizableOpts:R,computeVirtualXOpts:D}=t.getComputeMaps(),I=Ye(),h=Ye(),f=Ye(),$=Ye(),k=Ye(),_=Ye(),U=(X,F,M,H,j,N)=>{const B=t.xeGrid,Z=t.xeGantt,{fixedType:q}=e,{resizable:se,border:pe,footerCellClassName:ge,footerCellStyle:ve,footerAlign:Oe,footerSpanMethod:ae,align:oe,columnKey:ie,showFooterOverflow:ce}=l,{scrollXLoad:de,scrollYLoad:me,overflowX:be,currentColumn:le,mergeFootFlag:Te}=d,{fullColumnIdData:Le,mergeFooterList:Fe,mergeFooterCellMaps:ot,scrollXStore:De}=a,Ke=D.value,we=p.value,K=R.value,{isAllColumnDrag:xe}=K,Re=b.value,Ae=m.value,He=v.value,We=y.value,Xe=ya(We.height)||Ae;return F.map((Je,lt)=>{const{type:Ge,showFooterOverflow:gt,footerAlign:Ve,align:je,footerClassName:nt,editRender:at,cellRender:Mt}=Je,ht=Je.id,vt=Le[ht]||{},ft=at||Mt,xt=ft?sS.get(ft.name):null,_e=we.showAll,St=be&&(q?Je.fixed!==q:!!Je.fixed),pt=s.isBoolean(We.padding)?We.padding:He.padding,Ot=s.eqNull(gt)?ce:gt,Tt=Ve||(xt?xt.tableFooterCellAlign:"")||Oe||je||(xt?xt.tableCellAlign:"")||oe,$t=Ot==="ellipsis",ut=Ot==="title",Ut=Ot===!0||Ot==="tooltip",Yt=ut||Ut||$t,Ct=s.isBoolean(Je.resizable)?Je.resizable:Re.resizable||se,wt={colid:ht},qt={},Q=vt.index,re=vt._index,ke={$table:t,$grid:B,$gantt:Z,row:H,rowIndex:N,_rowIndex:N,$rowIndex:j,column:Je,columnIndex:Q,$columnIndex:lt,_columnIndex:re,itemIndex:re,items:H,fixed:q,type:bb,data:M};(ut||Ut||_e)&&(qt.onMouseenter=Qe=>{ut?og(Qe.currentTarget,Je):(Ut||_e)&&t.triggerFooterTooltipEvent(Qe,ke)}),(Ut||_e)&&(qt.onMouseleave=Qe=>{(Ut||_e)&&t.handleTargetLeaveEvent(Qe)}),qt.onClick=Qe=>{t.dispatchEvent("footer-cell-click",Object.assign({cell:Qe.currentTarget},ke),Qe)},qt.onDblclick=Qe=>{t.dispatchEvent("footer-cell-dblclick",Object.assign({cell:Qe.currentTarget},ke),Qe)};let Be=!1;if(Te&&Fe.length){const Qe=ot[`${N}:${re}`];if(Qe){const{rowspan:kt,colspan:Xt}=Qe;if(!kt||!Xt)return null;kt>1&&(Be=!0,wt.rowspan=kt),Xt>1&&(Be=!0,wt.colspan=Xt)}}else if(ae){const{rowspan:Qe=1,colspan:kt=1}=ae(ke)||{};if(!Qe||!kt)return null;Qe>1&&(wt.rowspan=Qe),kt>1&&(wt.colspan=kt)}const Et=lt===F.length-1,Dt=!Je.resizeWidth&&(Je.minWidth==="auto"||Je.width==="auto");let it=!1;X&&be&&!Be&&de&&F.length>10&&!Je.fixed&&!Ke.immediate&&(re<De.visibleStartIndex-De.preloadSize||re>De.visibleEndIndex+De.preloadSize)&&(it=!0);const Ft={};return Yt?Ft.height=`${Xe}px`:Ft.minHeight=`${Xe}px`,E("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-table--column vxe-footer--column",Je.id,{[`col--${Tt}`]:Tt,[`col--${Ge}`]:Ge,"col--last":Et,"fixed--width":!Dt,"fixed--hidden":St,"is--padding":pt,"col--ellipsis":Yt,"col--current":le===Je},Wn(nt,ke),Wn(ge,ke)]},wt),{style:ve?s.isFunction(ve)?ve(ke):ve:null}),qt),{key:ie||de||me||Re.useKey||Re.drag?Je.id:lt}),[E("div",{class:["vxe-cell",{"c--title":ut,"c--tooltip":Ut,"c--ellipsis":$t}],style:Ft},it?[]:[E("div",{colid:ht,class:"vxe-cell--wrapper vxe-footer-cell--wrapper"},Je.renderFooter(ke))]),!St&&Ct&&xe?E("div",{class:["vxe-cell--col-resizable",{"is--line":!pe||pe==="none"}],onMousedown:Qe=>t.handleColResizeMousedownEvent(Qe,q,ke),onDblclick:Qe=>t.handleColResizeDblclickEvent(Qe,ke)}):mb(t)])})},W=(X,F)=>{const{fixedType:M,footerTableData:H}=e,{footerRowClassName:j,footerRowStyle:N}=l;return H.map((B,Z)=>{const q=Z,se={$table:t,row:B,_rowIndex:q,$rowIndex:Z,fixed:M,type:bb};return E("tr",{key:Z,class:["vxe-footer--row",j?s.isFunction(j)?j(se):j:""],style:N?s.isFunction(N)?N(se):N:null},U(X,F,H,B,Z,q))})},te=()=>{const{fixedType:X,fixedColumn:F,tableColumn:M}=e,{spanMethod:H,footerSpanMethod:j,showFooterOverflow:N}=l,{visibleColumn:B,fullColumnIdData:Z}=a,{isGroup:q,isColLoading:se,overflowX:pe,scrollXLoad:ge,dragCol:ve}=d;let Oe=M,ae=!1;if(ge&&N&&(H||j||(ae=!0)),(!ae||!se&&(X||!pe))&&(Oe=B),X&&ae&&(Oe=F||[]),!X&&!q&&ge&&ve&&Oe.length>2){const oe=Z[ve.id];if(oe){const ie=oe._index,ce=Oe[0],de=Oe[Oe.length-1],me=Z[ce.id],be=Z[de.id];if(me&&be){const le=me._index,Te=be._index;ie<le?Oe=[ve].concat(Oe):ie>Te&&(Oe=Oe.concat([ve]))}}}return E("div",{ref:I,class:["vxe-table--footer-wrapper",X?`fixed-${X}--wrapper`:"body--wrapper"],xid:o},[E("div",{ref:h,class:"vxe-table--footer-inner-wrapper",onScroll(oe){t.triggerFooterScrollEvent(oe,X)}},[X?mb(t):E("div",{ref:_,class:"vxe-body--x-space"}),E("table",{ref:f,class:"vxe-table--footer",xid:o,cellspacing:0,cellpadding:0,border:0,xvm:ae?"1":null},[E("colgroup",{ref:$},Oe.map((oe,ie)=>E("col",{name:oe.id,key:ie,style:{width:`${oe.renderWidth}px`}}))),E("tfoot",{ref:k},W(ae,Oe))])])])};return El(()=>{ue(()=>{const{fixedType:X}=e,{elemStore:F}=a,M=`${X||"main"}-footer-`;F[`${M}wrapper`]=I,F[`${M}scroll`]=h,F[`${M}table`]=f,F[`${M}colgroup`]=$,F[`${M}list`]=k,F[`${M}xSpace`]=_})}),Mn(()=>{const{fixedType:X}=e,{elemStore:F}=a,M=`${X||"main"}-footer-`;F[`${M}wrapper`]=null,F[`${M}scroll`]=null,F[`${M}table`]=null,F[`${M}colgroup`]=null,F[`${M}list`]=null,F[`${M}xSpace`]=null}),te}}),{getI18n:ur,getIcon:Hr,renderEmptyElement:_l}=ye;function Cb(){return{}}const cS=Ao({name:"TableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(e,t){const o=s.uniqueId(),l=ye.getComponent("VxeModal"),d=ye.getComponent("VxeDrawer"),a=ye.getComponent("VxeButton"),p=ye.getComponent("VxeNumberInput"),b=ye.getComponent("VxeRadioGroup"),v=to("$xeTable",{}),{props:y,reactData:m,internalData:R}=v,{computeCustomOpts:D,computeColumnDragOpts:I,computeColumnOpts:h,computeIsMaxFixedColumn:f,computeResizableOpts:$}=v.getComputeMaps(),k=Ye(),_=Ye(),U=Ye(),W=Ye(),te=Ye(),X=Fo({dragCol:null,dragGroupField:null,dragAggFnCol:null,dragTipText:""});let F=Cb();const M={refElem:k,refBodyWrapperElem:_,refCustomBodyElem:U,refDragLineElem:W,refDragTipElem:te},H={},j=K=>{const{customStore:xe}=e;xe.activeWrapper=!0,v.customOpenEvent(K)},N=K=>{const{customStore:xe}=e;xe.activeWrapper=!1,setTimeout(()=>{!xe.activeBtn&&!xe.activeWrapper&&v.customCloseEvent(K)},300)},B=({$event:K})=>{m.isCustomStatus=!0,v.saveCustom(),v.closeCustom(),v.emitCustomEvent("confirm",K)},Z=({$event:K})=>{v.closeCustom(),v.emitCustomEvent("close",K)},q=({$event:K})=>{v.cancelCustom(),v.closeCustom(),v.emitCustomEvent("cancel",K)},se=K=>{v.resetCustom(!0),v.closeCustom(),v.emitCustomEvent("reset",K)},pe=({$event:K})=>{ye.modal?ye.modal.confirm({content:ur("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then(xe=>{xe==="confirm"&&se(K)}):se(K)},ge=K=>{const{customColumnList:xe}=m,Re=s.findTree(xe,Ae=>Ae===K);if(Re&&Re.parent){const{parent:Ae}=Re;Ae.children&&Ae.children.length&&(Ae.renderVisible=Ae.children.every(He=>He.renderVisible),Ae.halfVisible=!Ae.renderVisible&&Ae.children.some(He=>He.renderVisible||He.halfVisible),ge(Ae))}},ve=(K,xe)=>{const Re=!K.renderVisible;D.value.immediate?(s.eachTree([K],He=>{He.visible=Re,He.renderVisible=Re,He.halfVisible=!1}),m.isCustomStatus=!0,v.handleCustom(),v.saveCustomStore("update:visible")):s.eachTree([K],He=>{He.renderVisible=Re,He.halfVisible=!1}),ge(K),v.checkCustomStatus(),v.dispatchEvent("custom-visible-change",{column:K,checked:Re},xe)},Oe=K=>{D.value.immediate&&K.renderResizeWidth!==K.renderWidth&&(K.resizeWidth=K.renderResizeWidth,K.renderWidth=K.renderResizeWidth,m.isCustomStatus=!0,v.handleCustom(),v.saveCustomStore("update:width"))},ae=(K,xe,Re)=>{const Ae=f.value,He=D.value;let We=null;He.immediate?(K.renderFixed===xe?(We="",s.eachTree([K],Xe=>{Xe.fixed="",Xe.renderFixed=""})):(!Ae||K.renderFixed)&&(We=xe,s.eachTree([K],Xe=>{Xe.fixed=xe,Xe.renderFixed=xe})),m.isCustomStatus=!0,v.handleCustom(),v.saveCustomStore("update:fixed")):K.renderFixed===xe?(We="",s.eachTree([K],Xe=>{Xe.renderFixed=""})):(!Ae||K.renderFixed)&&(We=xe,s.eachTree([K],Xe=>{Xe.renderFixed=xe})),We!==null&&v.dispatchEvent("custom-fixed-change",{column:K,fixed:We},Re)},oe=K=>{const{customStore:xe}=m,Re=!xe.isAll;v.toggleCustomAllCheckbox(),v.dispatchEvent("custom-visible-all",{checked:Re},K)},ie=(K,xe,Re,Ae)=>{const He=_.value;if(!He)return;const We=U.value;if(!We)return;const{prevDragToChild:Xe}=F,Je=He.getBoundingClientRect(),lt=We.getBoundingClientRect(),Ge=W.value;if(xe){if(Ge)if(Re){const Ve=xe.getBoundingClientRect();Ge.style.display="block",Ge.style.left=`${Math.max(0,lt.x-Je.x)}px`,Ge.style.top=`${Math.max(1,Ve.y+He.scrollTop-Je.y)}px`,Ge.style.height=`${Ve.height}px`,Ge.style.width=`${Ve.width}px`,Ge.setAttribute("drag-pos",Ae),Ge.setAttribute("drag-to-child",Xe?"y":"n")}else Ge.style.display=""}else Ge&&(Ge.style.display="node");const gt=te.value;gt&&(gt.style.display="block",gt.style.top=`${Math.min(He.clientHeight+He.scrollTop-gt.clientHeight,K.clientY+He.scrollTop-Je.y)}px`,gt.style.left=`${Math.min(He.clientWidth+He.scrollLeft-gt.clientWidth,K.clientX+He.scrollLeft-Je.x)}px`,gt.setAttribute("drag-status",Re?Xe?"sub":"normal":"disabled"))},ce=()=>{const{dragCol:K}=X,xe=I.value,{tooltipMethod:Re}=xe;let Ae="";Re?Ae=`${Re({$table:v,column:K})||""}`:Ae=ur("vxe.custom.cstmDragTarget",[K&&K.type!=="html"?K.getTitle():""]),X.dragTipText=Ae},de=()=>{const K=te.value,xe=W.value;K&&(K.style.display=""),xe&&(xe.style.display="")},me=K=>{const He=K.currentTarget.parentElement.parentElement.parentElement,We=He.getAttribute("colid"),Xe=v.getColumnById(We);He.draggable=!0,X.dragCol=Xe,X.dragGroupField=null,X.dragAggFnCol=null,ce(),Do(He,"active--drag-origin")},be=K=>{const He=K.currentTarget.parentElement.parentElement.parentElement;de(),He.draggable=!1,X.dragCol=null,X.dragGroupField=null,X.dragAggFnCol=null,co(He,"active--drag-origin")},le=K=>{K.dataTransfer&&K.dataTransfer.setDragImage(Lf(),0,0),F.prevDragGroupField=null,F.prevDragAggFnColid=null},Te=K=>{const{mouseConfig:xe}=y,{customColumnList:Re}=m,{collectColumn:Ae}=R,He=D.value,{immediate:We}=He,Xe=K.currentTarget,Je=I.value,{isCrossDrag:lt,isSelfToChildDrag:Ge,isToChildDrag:gt,dragEndMethod:Ve}=Je,{dragCol:je}=X,{prevDragCol:nt,prevDragGroupField:at,prevDragAggFnColid:Mt,prevDragPos:ht,prevDragToChild:vt}=F,ft=ht==="bottom"?1:0;if(at||Mt)v.handlePivotTableAggregatePanelDragendEvent&&v.handlePivotTableAggregatePanelDragendEvent(K);else if(nt&&je&&nt!==je){const xt=je,_e=nt;Promise.resolve(Ve?Ve({oldColumn:xt,newColumn:_e,dragColumn:xt,dragPos:ht,dragToChild:!!vt,offsetIndex:ft}):!0).then(St=>{if(!St)return;let pt=-1,Ot=-1;const Tt={};s.eachTree([xt],ut=>{Tt[ut.id]=ut});let $t=!1;if(We){if(xt.parentId&&_e.parentId){if(!lt)return;if(Tt[_e.id]&&($t=!0,!(lt&&Ge))){ye.modal&&ye.modal.message({status:"error",content:ur("vxe.error.treeDragChild")});return}}else if(xt.parentId){if(!lt)return}else if(_e.parentId){if(!lt)return;if(Tt[_e.id]&&($t=!0,!(lt&&Ge))){ye.modal&&ye.modal.message({status:"error",content:ur("vxe.error.treeDragChild")});return}}const ut=s.findTree(Ae,Yt=>Yt.id===xt.id);if($t&&lt&&Ge){if(ut){const{items:Yt,index:Ct}=ut,wt=xt.children||[];wt.forEach(qt=>{qt.parentId=xt.parentId}),Yt.splice(Ct,1,...wt),xt.children=[]}}else if(ut){const{items:Yt,index:Ct,parent:wt}=ut;Yt.splice(Ct,1),wt||(pt=Ct)}const Ut=s.findTree(Ae,Yt=>Yt.id===_e.id);if(Ut){const{items:Yt,index:Ct,parent:wt}=Ut;lt&&gt&&vt?(xt.parentId=_e.id,_e.children=(_e.children||[]).concat([xt])):(xt.parentId=_e.parentId,Yt.splice(Ct+ft,0,xt)),wt||(Ot=Ct)}s.eachTree(Ae,(Yt,Ct,wt,qt,Q)=>{if(!Q){const re=Ct+1;Yt.renderSortNumber=re}})}else pt=s.findIndexOf(Re,ut=>ut.id===xt.id),Re.splice(pt,1),Ot=s.findIndexOf(Re,ut=>ut.id===_e.id),Re.splice(Ot+ft,0,xt);xe&&(v.clearSelected&&v.clearSelected(),v.clearCellAreas&&(v.clearCellAreas(),v.clearCopyCellArea())),v.dispatchEvent("column-dragend",{oldColumn:xt,newColumn:_e,dragColumn:xt,dragPos:ht,offsetIndex:ft,_index:{newIndex:Ot,oldIndex:pt}},K),We&&(m.customColumnList=Ae.slice(0),v.handleColDragSwapColumn())}).catch(()=>{})}de(),X.dragCol=null,X.dragGroupField=null,X.dragAggFnCol=null,F.prevDragGroupField=null,F.prevDragAggFnColid=null,Xe.draggable=!1,Xe.removeAttribute("drag-pos"),co(Xe,"active--drag-target"),co(Xe,"active--drag-origin")},Le=K=>{const xe=D.value,{immediate:Re}=xe,Ae=I.value,{isCrossDrag:He,isToChildDrag:We}=Ae,Xe=K.currentTarget,Je=$i(K),lt=Xe.getAttribute("colid"),Ge=v.getColumnById(lt),{dragCol:gt}=X;if(F.prevDragGroupField=null,F.prevDragAggFnColid=null,Ge&&(He||Ge.level===1)){K.preventDefault();const je=K.clientY-Xe.getBoundingClientRect().y<Xe.clientHeight/2?"top":"bottom";if(!gt||gt&&gt.id===Ge.id||!He&&Ge.level>1||!Re&&Ge.level>1){ie(K,Xe,!1,je);return}F.prevDragToChild=!!(He&&We&&Je&&Re),F.prevDragCol=Ge,F.prevDragPos=je,ie(K,Xe,!0,je)}},Fe=()=>{const{dragTipText:K}=X,xe=I.value;return E("div",{},[E("div",{ref:W,class:["vxe-table-custom-popup--drag-line",{"is--guides":xe.showGuidesStatus}]}),E("div",{ref:te,class:"vxe-table-custom-popup--drag-tip"},[E("div",{class:"vxe-table-custom-popup--drag-tip-wrapper"},[E("div",{class:"vxe-table-custom-popup--drag-tip-status"},[E("span",{class:["vxe-table-custom-popup--drag-tip-normal-status",Hr().TABLE_DRAG_STATUS_ROW]}),E("span",{class:["vxe-table-custom-popup--drag-tip-sub-status",Hr().TABLE_DRAG_STATUS_SUB_ROW]}),E("span",{class:["vxe-table-custom-popup--drag-tip-group-status",Hr().TABLE_DRAG_STATUS_AGG_GROUP]}),E("span",{class:["vxe-table-custom-popup--drag-tip-values-status",Hr().TABLE_DRAG_STATUS_AGG_VALUES]}),E("span",{class:["vxe-table-custom-popup--drag-tip-disabled-status",Hr().TABLE_DRAG_DISABLED]})]),E("div",{class:"vxe-table-custom-popup--drag-tip-content"},`${K||""}`)])])])},ot=()=>{const K=v.xeGrid,xe=v.xeGantt,Re=v.props,{customStore:Ae}=e,{treeConfig:He,rowGroupConfig:We,aggregateConfig:Xe}=Re,{isCustomStatus:Je,customColumnList:lt}=m,Ge=D.value,{immediate:gt}=Ge,Ve=I.value,{maxHeight:je}=Ae,{checkMethod:nt,visibleMethod:at,allowVisible:Mt,allowSort:ht,allowFixed:vt,trigger:ft,placement:xt}=Ge,_e=f.value,{isCrossDrag:St}=Ve,pt=Ge.slots||{},Ot=pt.header,Tt=pt.top,$t=pt.bottom,ut=pt.default,Ut=pt.footer,Yt=[],Ct={},wt=Ae.isAll,qt=Ae.isIndeterminate;ft==="hover"&&(Ct.onMouseenter=j,Ct.onMouseleave=N);const Q={$table:v,$grid:K,$gantt:xe,columns:lt,isAllChecked:wt,isAllIndeterminate:qt,isCustomStatus:Je};return s.eachTree(lt,(re,Ee,ke,Be,Et)=>{if(at?at({$table:v,column:re}):!0){const it=re.renderVisible,Ft=re.halfVisible,Qe=re.children&&re.children.length,kt=jr(re.getTitle(),1),Xt=nt?!nt({$table:v,column:re}):!1,Ar=!it;Yt.push(E("li",{key:re.id,colid:re.id,class:["vxe-table-custom--option",`level--${re.level}`,{"is--hidden":Xt||Ar,"is--group":Qe}],onDragstart:le,onDragend:Te,onDragover:Le},[Mt?E("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":it,"is--indeterminate":Ft,"is--disabled":Xt}],title:ur("vxe.custom.setting.colVisible"),onClick:Cr=>{Xt||ve(re,Cr)}},[E("span",{class:["vxe-checkbox--icon",Ft?Hr().TABLE_CHECKBOX_INDETERMINATE:it?Hr().TABLE_CHECKBOX_CHECKED:Hr().TABLE_CHECKBOX_UNCHECKED]})]):mt(),E("div",{class:"vxe-table-custom--name-option"},[ht&&(St&&gt||re.level===1)?E("div",{class:"vxe-table-custom--sort-option"},[E("span",Object.assign({class:["vxe-table-custom--sort-btn",{"is--disabled":Xt||Ar}],title:ur("vxe.custom.setting.sortHelpTip")},Xt||Ar?{}:{onMousedown:me,onMouseup:be}),[E("i",{class:Hr().TABLE_CUSTOM_SORT})])]):mt(),re.type==="html"?E("div",{key:"1",class:"vxe-table-custom--checkbox-label",innerHTML:kt}):E("div",{key:"0",class:"vxe-table-custom--checkbox-label"},kt)]),!Et&&vt?E("div",{class:"vxe-table-custom--fixed-option"},[a?E(a,{mode:"text",icon:re.renderFixed==="left"?Hr().TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:Hr().TOOLBAR_TOOLS_FIXED_LEFT,status:re.renderFixed==="left"?"primary":"",disabled:Xt||Ar||_e&&!re.renderFixed,title:ur(re.renderFixed==="left"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:({$event:Cr})=>{ae(re,"left",Cr)}}):mt(),a?E(a,{mode:"text",icon:re.renderFixed==="right"?Hr().TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:Hr().TOOLBAR_TOOLS_FIXED_RIGHT,status:re.renderFixed==="right"?"primary":"",disabled:Xt||Ar||_e&&!re.renderFixed,title:ur(re.renderFixed==="right"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:({$event:Cr})=>{ae(re,"right",Cr)}}):mt()]):mt()]))}}),E("div",{ref:k,key:"simple",class:["vxe-table-custom-wrapper",`placement--${xt}`,{"is--active":Ae.visible}],style:je&&!["left","right"].includes(xt||"")?{maxHeight:`${je}px`}:{}},Ae.visible?[E("div",{ref:_,class:"vxe-table-custom-simple--body-wrapper"},[!He&&(Xe||We)&&v.getPivotTableAggregateSimplePanel?E(v.getPivotTableAggregateSimplePanel(),{customStore:Ae}):_l(v),E("div",{ref:U,class:"vxe-table-custom--handle-wrapper"},[E("div",{class:"vxe-table-custom--header"},Ot?v.callSlot(Ot,Q):[E("ul",{class:"vxe-table-custom--panel-list"},[E("li",{class:"vxe-table-custom--option"},[Mt?E("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":wt,"is--indeterminate":qt}],title:ur("vxe.table.allTitle"),onClick:oe},[E("span",{class:["vxe-checkbox--icon",qt?Hr().TABLE_CHECKBOX_INDETERMINATE:wt?Hr().TABLE_CHECKBOX_CHECKED:Hr().TABLE_CHECKBOX_UNCHECKED]}),E("span",{class:"vxe-checkbox--label"},ur("vxe.toolbar.customAll"))]):E("span",{class:"vxe-checkbox--label"},ur("vxe.table.customTitle"))])])]),E("div",{class:"vxe-table-custom--body"},[Tt?E("div",{class:"vxe-table-custom--panel-top"},v.callSlot(Tt,Q)):_l(v),ut?E("div",{class:"vxe-table-custom--panel-body"},v.callSlot(ut,Q)):E(kg,Object.assign({class:"vxe-table-custom--panel-list",name:"vxe-table-custom--list",tag:"ul"},Ct),{default:()=>Yt}),$t?E("div",{class:"vxe-table-custom--panel-bottom"},v.callSlot($t,Q)):_l(v)]),Ge.showFooter?E("div",{class:"vxe-table-custom--footer"},Ut?v.callSlot(Ut,Q):[E("div",{class:"vxe-table-custom--footer-buttons"},[a?E(a,{mode:"text",content:Ge.resetButtonText||ur("vxe.table.customRestore"),disabled:!Je,onClick:pe}):mt(),gt?a?E(a,{mode:"text",content:Ge.closeButtonText||ur("vxe.table.customClose"),onClick:Z}):mt():a?E(a,{mode:"text",content:Ge.cancelButtonText||ur("vxe.table.customCancel"),onClick:q}):mt(),gt?mt():a?E(a,{mode:"text",status:"primary",content:Ge.confirmButtonText||ur("vxe.table.customConfirm"),onClick:B}):mt()])]):null]),Fe()])]:[])},De=()=>{const K=v.xeGrid,xe=v.xeGantt,{customStore:Re}=e,{treeConfig:Ae,rowGroupConfig:He,aggregateConfig:We,resizable:Xe}=y,{isCustomStatus:Je,customColumnList:lt}=m,Ge=D.value,{immediate:gt}=Ge,Ve=I.value,{mode:je,modalOptions:nt,drawerOptions:at,allowVisible:Mt,allowSort:ht,allowFixed:vt,allowResizable:ft,checkMethod:xt,visibleMethod:_e}=Ge,St=h.value,{maxFixedSize:pt}=St,Ot=$.value,{minWidth:Tt,maxWidth:$t}=Ot,ut=Object.assign({},nt),Ut=Object.assign({},at),Yt=f.value,{isCrossDrag:Ct}=Ve,wt=Ge.slots||{},qt=wt.header,Q=wt.top,re=wt.bottom,Ee=wt.default,ke=wt.footer,Be=[],Et=Re.isAll,Dt=Re.isIndeterminate,it={$table:v,$grid:K,$gantt:xe,columns:lt,isAllChecked:Et,isAllIndeterminate:Dt,isCustomStatus:Je};s.eachTree(lt,(Qe,kt,Xt,Ar,Cr)=>{if(_e?_e({$table:v,column:Qe}):!0){let qr=0,fr=0;if(ft){const gr={$table:v,column:Qe,columnIndex:kt,$columnIndex:kt,$rowIndex:-1};Tt&&(qr=s.toNumber(s.isFunction(Tt)?Tt(gr):Tt)),$t&&(fr=s.toNumber(s.isFunction($t)?$t(gr):$t))}const Kr=Qe.renderVisible,yr=Qe.halfVisible,Vt=jr(Qe.getTitle(),1),Fr=Qe.children&&Qe.children.length,bt=xt?!xt({$table:v,column:Qe}):!1,mr=!Kr;Be.push(E("tr",{key:Qe.id,colid:Qe.id,class:[`vxe-table-custom-popup--row level--${Qe.level}`,{"is--group":Fr}],onDragstart:le,onDragend:Te,onDragover:Le},[Mt?E("td",{class:"vxe-table-custom-popup--column-item col--visible"},[E("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":Kr,"is--indeterminate":yr,"is--disabled":bt}],title:ur("vxe.custom.setting.colVisible"),onClick:gr=>{bt||ve(Qe,gr)}},[E("span",{class:["vxe-checkbox--icon",yr?Hr().TABLE_CHECKBOX_INDETERMINATE:Kr?Hr().TABLE_CHECKBOX_CHECKED:Hr().TABLE_CHECKBOX_UNCHECKED]})])]):mt(),E("td",{class:"vxe-table-custom-popup--column-item col--name"},[E("div",{class:"vxe-table-custom-popup--name"},[ht?Ct&&gt||Qe.level===1?E("div",Object.assign({class:["vxe-table-custom-popup--column-sort-btn",{"is--disabled":bt||mr}],title:ur("vxe.custom.setting.sortHelpTip")},bt||mr?{}:{onMousedown:me,onMouseup:be}),[E("i",{class:Hr().TABLE_CUSTOM_SORT})]):E("div",{class:"vxe-table-custom-popup--column-sort-placeholder"}):mt(),Qe.type==="html"?E("div",{key:"1",class:"vxe-table-custom-popup--title",innerHTML:Vt}):E("div",{key:"0",class:"vxe-table-custom-popup--title",title:Vt},Vt)])]),ft?E("td",{class:"vxe-table-custom-popup--column-item col--resizable"},[Qe.children&&Qe.children.length||!(s.isBoolean(Qe.resizable)?Qe.resizable:St.resizable||Xe)?E("span","-"):p?E(p,{type:"integer",immediate:!1,disabled:bt||mr,modelValue:Qe.renderResizeWidth,min:qr||void 0,max:fr||void 0,"onUpdate:modelValue"(gr){const ir=Math.max(0,Number(gr));Qe.renderResizeWidth=ir},onChange(){Oe(Qe)}}):mt()]):mt(),vt?E("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[Cr?E("span","-"):b?E(b,{modelValue:Qe.renderFixed||"",type:"button",size:"mini",disabled:bt||mr,options:[{label:ur("vxe.custom.setting.fixedLeft"),value:"left",disabled:bt||mr||Yt},{label:ur("vxe.custom.setting.fixedUnset"),value:"",disabled:bt||mr},{label:ur("vxe.custom.setting.fixedRight"),value:"right",disabled:bt||mr||Yt}],onChange({label:gr,$event:ir}){ae(Qe,gr,ir)}}):mt()]):mt()]))}});const Ft={default:()=>E("div",{ref:_,class:"vxe-table-custom-popup--body-wrapper"},Ee?v.callSlot(Ee,it):[E("div",{ref:U,class:"vxe-table-custom-popup--handle-wrapper"},[Q?E("div",{class:"vxe-table-custom-popup--table-top"},v.callSlot(Q,it)):_l(v),E("div",{class:"vxe-table-custom-popup--table-wrapper"},[E("table",{},[E("colgroup",{},[Mt?E("col",{class:"vxe-table-custom-popup--table-col-seq"}):mt(),E("col",{class:"vxe-table-custom-popup--table-col-title"}),ft?E("col",{class:"vxe-table-custom-popup--table-col-width"}):mt(),vt?E("col",{class:"vxe-table-custom-popup--table-col-fixed"}):mt()]),E("thead",{},[E("tr",{},[Mt?E("th",{},[E("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":Et,"is--indeterminate":Dt}],title:ur("vxe.table.allTitle"),onClick:oe},[E("span",{class:["vxe-checkbox--icon",Dt?Hr().TABLE_CHECKBOX_INDETERMINATE:Et?Hr().TABLE_CHECKBOX_CHECKED:Hr().TABLE_CHECKBOX_UNCHECKED]}),E("span",{class:"vxe-checkbox--label"},ur("vxe.toolbar.customAll"))])]):mt(),E("th",{},ur("vxe.custom.setting.colTitle")),ft?E("th",{},ur("vxe.custom.setting.colResizable")):mt(),vt?E("th",{},ur(`vxe.custom.setting.${pt?"colFixedMax":"colFixed"}`,[pt])):mt()])]),E(kg,{class:"vxe-table-custom--panel-list",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>Be})])]),re?E("div",{class:"vxe-table-custom-popup--table-bottom"},v.callSlot(re,it)):_l(v),Fe()]),!Ae&&(We||He)&&v.getPivotTableAggregatePopupPanel?E(v.getPivotTableAggregatePopupPanel(),{customStore:Re}):_l(v)]),footer:()=>ke?v.callSlot(ke,it):E("div",{class:"vxe-table-custom-popup--footer"},[a?E(a,{content:Ge.resetButtonText||ur("vxe.custom.cstmRestore"),disabled:!Je,onClick:pe}):mt(),gt?a?E(a,{content:Ge.closeButtonText||ur("vxe.table.customClose"),onClick:Z}):mt():a?E(a,{content:Ge.cancelButtonText||ur("vxe.table.customCancel"),onClick:q}):mt(),gt?mt():a?E(a,{status:"primary",content:Ge.confirmButtonText||ur("vxe.custom.cstmConfirm"),onClick:B}):mt()])};return qt&&(Ft.header=()=>v.callSlot(qt,it)),je==="drawer"?d?E(d,{key:"drawer",className:["vxe-table-custom-drawer-wrapper","vxe-table--ignore-clear",Ut.className||""].join(" "),modelValue:Re.visible,title:Ut.title||ur("vxe.custom.cstmTitle"),width:Ut.width||Math.min(880,Math.floor(document.documentElement.clientWidth*.6)),position:Ut.position,resize:!!Ut.resize,escClosable:!!Ut.escClosable,maskClosable:!!Ut.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(Qe){Re.visible=Qe}},Ft):mt():l?E(l,{key:"modal",className:["vxe-table-custom-modal-wrapper","vxe-table--ignore-clear",ut.className||""].join(" "),modelValue:Re.visible,title:ut.title||ur("vxe.custom.cstmTitle"),width:ut.width||Math.min(880,document.documentElement.clientWidth),minWidth:ut.minWidth||700,height:ut.height||Math.min(680,document.documentElement.clientHeight),minHeight:ut.minHeight||400,showZoom:ut.showZoom,showMaximize:ut.showMaximize,showMinimize:ut.showMinimize,mask:ut.mask,lockView:ut.lockView,resize:ut.resize,escClosable:!!ut.escClosable,maskClosable:!!ut.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(Qe){Re.visible=Qe}},Ft):mt()},Ke=()=>{const K=D.value;return["modal","drawer","popup"].includes(`${K.mode}`)?De():ot()};ue(()=>{const K=D.value,{mode:xe}=K;!l&&xe==="modal"&&Ne("vxe.error.reqComp",["vxe-modal"]),!d&&xe==="drawer"&&Ne("vxe.error.reqComp",["vxe-drawer"]),a||Ne("vxe.error.reqComp",["vxe-button"]),p||Ne("vxe.error.reqComp",["vxe-number-input"]),b||Ne("vxe.error.reqComp",["vxe-radio-group"])});const we={xID:o,props:e,context:t,reactData:X,internalData:F,xeTable:v,getRefMaps:()=>M,getComputeMaps:()=>H,renderVN:Ke};return Mn(()=>{F=Cb()}),_o("$xeTableCustomPanel",we),we},render(){return this.renderVN()}}),{getI18n:ia,getIcon:Mi,renderer:wb}=ye,uS=Ao({name:"VxeTableFilterPanel",props:{filterStore:Object},setup(e,t){const o=s.uniqueId(),l=to("$xeTable",{}),{reactData:d,internalData:a,getComputeMaps:p}=l,{computeFilterOpts:b}=p(),v=Ye(),y={refElem:v},m={xID:o,props:e,context:t,getRefMaps:()=>y},R=qe(()=>{const{filterStore:F}=e;return F&&F.options.some(M=>M.checked)}),D=(F,M)=>{const{filterStore:H}=e;H.options.forEach(j=>{j._checked=M,j.checked=M}),H.isAllSelected=M,H.isIndeterminate=!1},I=F=>{F||Ze("vxe.error.delFunc",["confirmFilter","saveFilterPanelByEvent"]),l.handleFilterConfirmFilter(F||new Event("click"))},h=(F,M,H)=>{l.handleFilterChangeRadioOption(F,M,H)},f=F=>{l.handleFilterResetFilter(F)},$=(F,M,H)=>{l.handleFilterChangeMultipleOption(F,M,H)},k=(F,M,H)=>{l.handleFilterChangeOption(F,M,H)},_=(F,M)=>{const{filterStore:H}=e;H.multiple?D(F,M):f(F)};Object.assign(m,{changeRadioOption:h,changeMultipleOption:$,changeAllOption:_,changeOption:k,confirmFilter:I,resetFilter:f});const W=(F,M)=>{const{filterStore:H}=e,{column:j,multiple:N,maxHeight:B}=H,Z=j?j.slots:null,q=Z?Z.filter:null,se=Object.assign({},a._currFilterParams,{$panel:m,$table:l}),pe=M?M.renderTableFilter||M.renderFilter:null;if(q)return[E("div",{class:"vxe-table--filter-template",style:B?{maxHeight:Zn(B)}:{}},l.callSlot(q,se))];if(pe)return[E("div",{class:"vxe-table--filter-template",style:B?{maxHeight:Zn(B)}:{}},_r(pe(F,se)))];const ge=N?H.isAllSelected:!H.options.some(Oe=>Oe._checked),ve=N&&H.isIndeterminate;return[E("ul",{class:"vxe-table--filter-header"},[E("li",{class:["vxe-table--filter-option",{"is--checked":ge,"is--indeterminate":ve}],title:ia(N?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:Oe=>{_(Oe,!H.isAllSelected)}},(N?[E("span",{class:["vxe-checkbox--icon",ve?Mi().TABLE_CHECKBOX_INDETERMINATE:ge?Mi().TABLE_CHECKBOX_CHECKED:Mi().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([E("span",{class:"vxe-checkbox--label"},ia("vxe.table.allFilter"))]))]),E("ul",{class:"vxe-table--filter-body",style:B?{maxHeight:Zn(B)}:{}},H.options.map(Oe=>{const ae=Oe._checked;return E("li",{class:["vxe-table--filter-option",{"is--checked":Oe._checked}],title:Oe.label,onClick:oe=>{k(oe,!Oe._checked,Oe)}},(N?[E("span",{class:["vxe-checkbox--icon",ae?Mi().TABLE_CHECKBOX_CHECKED:Mi().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([E("span",{class:"vxe-checkbox--label"},jr(Oe.label,1))]))}))]},te=()=>{const{filterStore:F}=e,{column:M,multiple:H}=F,j=b.value,N=R.value,{filterRender:B}=M,Z=It(B)?wb.get(B.name):null,q=!N&&!F.isAllSelected&&!F.isIndeterminate;return H&&(!Z||!(Z.showTableFilterFooter===!1||Z.showFilterFooter===!1||Z.isFooter===!1))?[E("div",{class:"vxe-table--filter-footer"},[E("button",{class:{"is--disabled":q},disabled:q,onClick:I},j.confirmButtonText||ia("vxe.table.confirmFilter")),E("button",{onClick:f},j.resetButtonText||ia("vxe.table.resetFilter"))])]:[]},X=()=>{const{filterStore:F}=e,{initStore:M}=d,{visible:H,multiple:j,column:N}=F,B=N?N.filterRender:null,Z=It(B)?wb.get(B.name):null,q=Z?Z.tableFilterClassName||Z.filterClassName:"",se=Object.assign({},a._currFilterParams,{$panel:m,$table:l}),pe=l.props,{computeSize:ge}=l.getComputeMaps(),ve=ge.value,Oe=b.value,{transfer:ae,destroyOnClose:oe,className:ie}=Oe;return E(Ca,{to:"body",disabled:!ae},[E("div",{ref:v,class:["vxe-table--filter-wrapper","filter--prevent-default",ie,Wn(q,se),{[`size--${ve}`]:ve,"is--animat":pe.animat,"is--multiple":j,"is--active":H}],style:F.style},M.filter&&(!oe||H)&&N?W(B,Z).concat(te()):[])])};return m.renderVN=X,m},render(){return this.renderVN()}}),{getI18n:hl,getIcon:dS}=ye,fS=Ao({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=ye.getComponent("VxeModal"),o=ye.getComponent("VxeButton"),l=ye.getComponent("VxeSelect"),d=to("$xeTable",{}),{computeImportOpts:a}=d.getComputeMaps(),p=Fo({loading:!1}),b=Ye(),v=qe(()=>{const{storeData:k}=e;return`${k.filename}.${k.type}`}),y=qe(()=>{const{storeData:k}=e;return k.file&&k.type}),m=qe(()=>{const{storeData:k}=e,{type:_,typeList:U}=k;if(_){const W=s.find(U,te=>_===te.value);return W?W.label:"*.*"}return`*.${U.map(W=>W.value).join(", *.")}`}),R=()=>{const{storeData:k}=e;Object.assign(k,{filename:"",sheetName:"",type:""})},D=()=>{const{storeData:k,defaultOptions:_}=e;d.readFile(_).then(U=>{const{file:W}=U;Object.assign(k,IC(W),{file:W})}).catch(U=>U)},I=()=>{ue(()=>{const k=b.value;k&&k.focus()})},h=()=>{const{storeData:k}=e;k.visible=!1},f=()=>{const{storeData:k,defaultOptions:_}=e,U=a.value;p.loading=!0,d.importByFile(k.file,Object.assign({},U,_)).then(()=>{p.loading=!1,k.visible=!1}).catch(()=>{p.loading=!1})},$=()=>{const k=d.xeGrid,_=d.xeGantt,{defaultOptions:U,storeData:W}=e,te=v.value,X=y.value,F=m.value,M=U.slots||{},H=M.top,j=M.bottom,N=M.default,B=M.footer;return t?E(t,{id:"VXE_IMPORT_MODAL",modelValue:W.visible,title:hl("vxe.import.impTitle"),className:"vxe-table-export-popup-wrapper",width:540,minWidth:360,minHeight:240,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:p.loading,"onUpdate:modelValue"(Z){W.visible=Z},onShow:I},{default:()=>{const Z={$table:d,$grid:k,$gantt:_,options:U,params:U.params};return E("div",{class:"vxe-table-export--panel"},[H?E("div",{class:"vxe-table-export--panel-top"},d.callSlot(H,Z)):mt(),E("div",{class:"vxe-table-export--panel-body"},N?d.callSlot(N,Z):[E("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[E("tbody",[E("tr",[E("td",hl("vxe.import.impFile")),E("td",[X?E("div",{class:"vxe-table-export--selected--file",title:te},[E("span",te),E("i",{class:dS().INPUT_CLEAR,onClick:R})]):E("button",{ref:b,class:"vxe-table-export--select--file",onClick:D},hl("vxe.import.impSelect"))])]),E("tr",[E("td",hl("vxe.import.impType")),E("td",F)]),E("tr",[E("td",hl("vxe.import.impMode")),E("td",[l?E(l,{modelValue:U.mode,options:W.modeList,"onUpdate:modelValue"(q){U.mode=q}}):mt()])])])])]),j?E("div",{class:"vxe-table-export--panel-bottom"},d.callSlot(j,Z)):mt()])},footer(){const Z={$table:d,$grid:k,$gantt:_,options:U,params:U.params};return E("div",{class:"vxe-table-export--panel-footer"},B?d.callSlot(B,Z):[E("div",{class:"vxe-table-export--panel-btns"},[o?E(o,{content:hl("vxe.import.impCancel"),onClick:h}):mt(),o?E(o,{status:"primary",disabled:!X||p.loading,content:hl("vxe.import.impConfirm"),onClick:f}):mt()])])}}):mt()};return ue(()=>{t||Ne("vxe.error.reqComp",["vxe-modal"]),o||Ne("vxe.error.reqComp",["vxe-button"]),l||Ne("vxe.error.reqComp",["vxe-select"])}),$}}),{getI18n:hr,getIcon:ql}=ye,gS=Ao({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=ye.getComponent("VxeModal"),o=ye.getComponent("VxeButton"),l=ye.getComponent("VxeSelect"),d=ye.getComponent("VxeInput"),a=ye.getComponent("VxeCheckbox"),p=to("$xeTable",{}),{computeExportOpts:b,computePrintOpts:v}=p.getComputeMaps(),y=Fo({isAll:!1,isIndeterminate:!1,loading:!1}),m=Ye(),R=Ye(),D=Ye(),I=qe(()=>{const{storeData:B}=e;return B.columns.every(Z=>Z.checked)}),h=qe(()=>{const{defaultOptions:B}=e;return["html","xml","xlsx","pdf"].indexOf(B.type)>-1}),f=qe(()=>{const{storeData:B,defaultOptions:Z}=e;return!Z.original&&Z.mode==="current"&&(B.isPrint||["html","xlsx"].indexOf(Z.type)>-1)}),$=qe(()=>{const{defaultOptions:B}=e;return!B.original&&["xlsx"].indexOf(B.type)>-1}),k=B=>{const{storeData:Z}=e,q=s.findTree(Z.columns,se=>se===B);if(q&&q.parent){const{parent:se}=q;se.children&&se.children.length&&(se.checked=se.children.every(pe=>pe.checked),se.halfChecked=!se.checked&&se.children.some(pe=>pe.checked||pe.halfChecked),k(se))}},_=()=>{const{storeData:B}=e,Z=B.columns;y.isAll=Z.every(q=>q.disabled||q.checked),y.isIndeterminate=!y.isAll&&Z.some(q=>!q.disabled&&(q.checked||q.halfChecked))},U=B=>{const Z=!B.checked;s.eachTree([B],q=>{q.checked=Z,q.halfChecked=!1}),k(B),_()},W=()=>{const{storeData:B}=e,Z=!y.isAll;s.eachTree(B.columns,q=>{q.disabled||(q.checked=Z,q.halfChecked=!1)}),y.isAll=Z,_()},te=()=>{ue(()=>{const B=R.value,Z=D.value,q=m.value,se=B||Z||q;se&&se.focus()}),_()},X=()=>{const{storeData:B,defaultOptions:Z}=e,{hasMerge:q,columns:se}=B,pe=I.value,ge=f.value,ve=s.searchTree(se,Oe=>Oe.checked,{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},Z,{columns:ve,isMerge:q&&ge&&pe?Z.isMerge:!1})},F=()=>{const{storeData:B}=e,Z=v.value;B.visible=!1,p.print(Object.assign({},Z,X()))},M=()=>{const{storeData:B}=e,Z=b.value;y.loading=!0,p.exportData(Object.assign({},Z,X())).then(()=>{y.loading=!1,B.visible=!1}).catch(()=>{y.loading=!1})},H=()=>{const{storeData:B}=e;B.visible=!1},j=()=>{const{storeData:B}=e;B.isPrint?F():M()},N=()=>{const B=p.xeGrid,Z=p.xeGantt,{defaultOptions:q,storeData:se}=e,{isAll:pe,isIndeterminate:ge}=y,{hasTree:ve,hasMerge:Oe,isPrint:ae,hasColgroup:oe,columns:ie}=se,{isHeader:ce}=q,de=[],me=I.value,be=h.value,le=f.value,Te=$.value,Le=q.slots||{},Fe=Le.top,ot=Le.bottom,De=Le.default,Ke=Le.footer,we=Le.parameter;return s.eachTree(ie,K=>{const xe=jr(K.getTitle(),1),Re=K.children&&K.children.length,Ae=K.checked,He=K.halfChecked,We=K.type==="html";de.push(E("li",{key:K.id,class:["vxe-table-export--panel-column-option",`level--${K.level}`,{"is--group":Re,"is--checked":Ae,"is--indeterminate":He,"is--disabled":K.disabled}],title:We?"":xe,onClick:()=>{K.disabled||U(K)}},[E("span",{class:["vxe-checkbox--icon",He?ql().TABLE_CHECKBOX_INDETERMINATE:Ae?ql().TABLE_CHECKBOX_CHECKED:ql().TABLE_CHECKBOX_UNCHECKED]}),We?E("span",{key:"1",class:"vxe-checkbox--label",innerHTML:xe}):E("span",{key:"0",class:"vxe-checkbox--label"},xe)]))}),t?E(t,{id:"VXE_EXPORT_MODAL",modelValue:se.visible,title:hr(ae?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,minWidth:500,minHeight:400,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:y.loading,"onUpdate:modelValue"(K){se.visible=K},onShow:te},{default:()=>{const K={$table:p,$grid:B,$gantt:Z,options:q,columns:ie,params:q.params},xe=q.mode==="empty";return E("div",{class:"vxe-table-export--panel"},[Fe?E("div",{class:"vxe-table-export--panel-top"},p.callSlot(Fe,K)):mt(),E("div",{class:"vxe-table-export--panel-body"},De?p.callSlot(De,K):[E("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[E("tbody",[[ae?mt():E("tr",[E("td",hr("vxe.export.expName")),E("td",[d?E(d,{ref:R,modelValue:q.filename,type:"text",clearable:!0,placeholder:hr("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(Re){q.filename=Re}}):mt()])]),ae?mt():E("tr",[E("td",hr("vxe.export.expType")),E("td",[l?E(l,{modelValue:q.type,options:se.typeList,"onUpdate:modelValue"(Re){q.type=Re}}):mt()])]),ae||be?E("tr",[E("td",hr("vxe.export.expSheetName")),E("td",[d?E(d,{ref:D,modelValue:q.sheetName,type:"text",clearable:!0,placeholder:hr("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(Re){q.sheetName=Re}}):mt()])]):mt(),E("tr",[E("td",hr("vxe.export.expMode")),E("td",[l?E(l,{modelValue:q.mode,options:se.modeList.map(Re=>({value:Re.value,label:hr(Re.label)})),"onUpdate:modelValue"(Re){q.mode=Re}}):mt()])]),E("tr",[E("td",[hr("vxe.export.expColumn")]),E("td",[E("div",{class:"vxe-table-export--panel-column"},[E("ul",{class:"vxe-table-export--panel-column-header"},[E("li",{class:["vxe-table-export--panel-column-option",{"is--checked":pe,"is--indeterminate":ge}],title:hr("vxe.table.allTitle"),onClick:W},[E("span",{class:["vxe-checkbox--icon",ge?ql().TABLE_CHECKBOX_INDETERMINATE:pe?ql().TABLE_CHECKBOX_CHECKED:ql().TABLE_CHECKBOX_UNCHECKED]}),E("span",{class:"vxe-checkbox--label"},hr("vxe.export.expCurrentColumn"))])]),E("ul",{class:"vxe-table-export--panel-column-body"},de)])])]),E("tr",[E("td",hr("vxe.export.expOpts")),we?E("td",[E("div",{class:"vxe-table-export--panel-option-row"},p.callSlot(we,K))]):E("td",[E("div",{class:"vxe-table-export--panel-option-row"},[a?E(a,{modelValue:xe||ce,disabled:xe,title:hr("vxe.export.expHeaderTitle"),content:hr("vxe.export.expOptHeader"),"onUpdate:modelValue"(Re){q.isHeader=Re}}):mt(),a?E(a,{modelValue:ce?q.isTitle:!1,disabled:!ce,title:hr("vxe.export.expTitleTitle"),content:hr("vxe.export.expOptTitle"),"onUpdate:modelValue"(Re){q.isTitle=Re}}):mt(),a?E(a,{modelValue:ce&&oe&&le?q.isColgroup:!1,title:hr("vxe.export.expColgroupTitle"),disabled:!ce||!oe||!le,content:hr("vxe.export.expOptColgroup"),"onUpdate:modelValue"(Re){q.isColgroup=Re}}):mt()]),E("div",{class:"vxe-table-export--panel-option-row"},[a?E(a,{modelValue:xe?!1:q.original,disabled:xe,title:hr("vxe.export.expOriginalTitle"),content:hr("vxe.export.expOptOriginal"),"onUpdate:modelValue"(Re){q.original=Re}}):mt(),a?E(a,{modelValue:Oe&&le&&me?q.isMerge:!1,title:hr("vxe.export.expMergeTitle"),disabled:xe||!Oe||!le||!me,content:hr("vxe.export.expOptMerge"),"onUpdate:modelValue"(Re){q.isMerge=Re}}):mt(),ae||!a?mt():E(a,{modelValue:Te?q.useStyle:!1,disabled:!Te,title:hr("vxe.export.expUseStyleTitle"),content:hr("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(Re){q.useStyle=Re}}),a?E(a,{modelValue:ve?q.isAllExpand:!1,disabled:xe||!ve,title:hr("vxe.export.expAllExpandTitle"),content:hr("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(Re){q.isAllExpand=Re}}):mt()]),E("div",{class:"vxe-table-export--panel-option-row"},[a?E(a,{modelValue:q.isFooter,disabled:!se.hasFooter,title:hr("vxe.export.expFooterTitle"),content:hr("vxe.export.expOptFooter"),"onUpdate:modelValue"(Re){q.isFooter=Re}}):mt()])])])]])])]),ot?E("div",{class:"vxe-table-export--panel-bottom"},p.callSlot(ot,K)):mt()])},footer(){const K={$table:p,$grid:B,$gantt:Z,options:q,columns:ie,params:q.params};return E("div",{class:"vxe-table-export--panel-footer"},Ke?p.callSlot(Ke,K):[E("div",{class:"vxe-table-export--panel-btns"},[o?E(o,{content:hr("vxe.export.expCancel"),onClick:H}):mt(),o?E(o,{ref:m,status:"primary",content:hr(ae?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:j}):mt()])])}}):mt()};return ue(()=>{t||Ne("vxe.error.reqComp",["vxe-modal"]),o||Ne("vxe.error.reqComp",["vxe-button"]),l||Ne("vxe.error.reqComp",["vxe-select"]),d||Ne("vxe.error.reqComp",["vxe-input"]),a||Ne("vxe.error.reqComp",["vxe-checkbox"])}),N}}),{getIcon:pS,renderEmptyElement:Nl}=ye,hS=Ao({name:"VxeTableMenuPanel",setup(e,t){const o=s.uniqueId(),l=to("$xeTable",{}),{reactData:d}=l,a=Ye(),p={refElem:a},b={xID:o,props:e,context:t,getRefMaps:()=>p},v=()=>{const{ctxMenuStore:y}=d,{computeMenuOpts:m}=l.getComputeMaps(),R=m.value,{transfer:D,destroyOnClose:I}=R,{visible:h,list:f,className:$}=y;return E(Ca,{to:"body",disabled:!D},[E("div",{ref:a,class:["vxe-table--context-menu-wrapper",$,{"is--visible":h}],style:y.style},!I||h?f.map((k,_)=>k.every(U=>U.visible===!1)?Nl(l):E("ul",{class:"vxe-context-menu--option-wrapper",key:_},k.map((U,W)=>{const te=U.children&&U.children.some(N=>N.visible!==!1),X=Object.assign({},U.prefixConfig),F=X.icon||U.prefixIcon,M=Object.assign({},U.suffixConfig),H=M.icon||U.suffixIcon,j=mn(U.name);return U.visible===!1?Nl(l):E("li",{class:[U.className,{"link--disabled":U.disabled,"link--active":U===y.selected}],key:`${_}_${W}`},[E("a",{class:"vxe-context-menu--link",onClick(N){l.ctxMenuLinkEvent(N,U)},onMouseover(N){l.ctxMenuMouseoverEvent(N,U)},onMouseout(N){l.ctxMenuMouseoutEvent(N,U)}},[E("div",{class:["vxe-context-menu--link-prefix",X.className||""]},[F&&s.isFunction(F)?E("span",{},_r(F({}))):E("i",{class:F}),X.content?E("span",{},`${X.content}`):Nl(l)]),E("div",{class:"vxe-context-menu--link-content",title:j},j),E("div",{class:["vxe-context-menu--link-suffix",M.className||""]},[H&&s.isFunction(H)?E("span",{},_r(H({}))):E("i",{class:H||(te?pS().TABLE_MENU_OPTIONS:"")}),M.content?E("span",`${M.content}`):Nl(l)])]),te&&U.children?E("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":U===y.selected&&y.showChild}]},U.children.map((N,B)=>{const Z=Object.assign({},N.prefixConfig),q=Z.icon||N.prefixIcon,se=Object.assign({},N.suffixConfig),pe=se.icon||N.suffixIcon,ge=mn(N.name);return N.visible===!1?null:E("li",{class:[N.className,{"link--disabled":N.disabled,"link--active":N===y.selectChild}],key:`${_}_${W}_${B}`},[E("a",{class:"vxe-context-menu--link",onClick(ve){l.ctxMenuLinkEvent(ve,N)},onMouseover(ve){l.ctxMenuMouseoverEvent(ve,U,N)},onMouseout(ve){l.ctxMenuMouseoutEvent(ve,U)}},[E("div",{class:["vxe-context-menu--link-prefix",Z.className||""]},[q&&s.isFunction(q)?E("span",{},_r(q({}))):E("i",{class:q}),Z.content?E("span",`${Z.content}`):Nl(l)]),E("div",{class:"vxe-context-menu--link-content",title:ge},ge),E("div",{class:["vxe-context-menu--link-suffix",se.className||""]},[pe&&s.isFunction(pe)?E("span",{},_r(pe({}))):E("i",{class:pe}),se.content?E("span",`${se.content}`):Nl(l)])])])})):null])}))):[])])};return b.renderVN=v,b},render(){return this.renderVN()}}),{renderer:yb,hooks:vS}=ye,Eb=["openFilter","setFilter","clearFilter","saveFilterPanel","saveFilterPanelByEvent","resetFilterPanel","resetFilterPanelByEvent","getCheckedFilters","updateFilterOptionStatus"];vS.add("tableFilterModule",{setupTable(e){const t=e.xeGrid,o=e.xeGantt,l=t||o,{props:d,reactData:a,internalData:p}=e,{refElem:b,refTableFilter:v}=e.getRefMaps(),{computeFilterOpts:y,computeMouseOpts:m}=e.getComputeMaps(),R=k=>{const{filterStore:_}=a;_.options.forEach(U=>{U.checked=U._checked}),e.confirmFilterEvent(k)},D=(k,_,U)=>{const{filterStore:W}=a;W.options.forEach(te=>{te._checked=!1}),U._checked=_,e.checkFilterOptions(),R(k)},I=(k,_,U)=>{U._checked=_,e.checkFilterOptions()},h=k=>{const{filterStore:_}=a;e.handleClearFilter(_.column),e.confirmFilterEvent(k),k&&e.dispatchEvent("clear-filter",{filterList:[]},k)},f={checkFilterOptions(){const{filterStore:k}=a;k.isAllSelected=k.options.every(_=>_._checked),k.isIndeterminate=!k.isAllSelected&&k.options.some(_=>_._checked)},triggerFilterEvent(k,_,U){const{initStore:W,filterStore:te}=a,{elemStore:X}=p;if(te.column===_&&te.visible)te.visible=!1;else{const F=b.value,{scrollTop:M,scrollLeft:H,visibleHeight:j,visibleWidth:N}=qa(),B=y.value,{transfer:Z}=B,q=F.getBoundingClientRect(),se=k.currentTarget,pe=_?_.filterRender:null,ge=pe&&It(pe)?yb.get(pe.name):null;e.handleFilterOptions(_),p._currFilterParams=U,te.style=null,te.visible=!0,W.filter=!0,ue(()=>{if(!ct(X["main-header-scroll"]))return;const Oe=v.value,ae=Oe?Oe.getRefMaps().refElem.value:null;if(!ae)return;const oe=se.getBoundingClientRect(),ie=ae.querySelector(".vxe-table--filter-header"),ce=ae.querySelector(".vxe-table--filter-footer"),de=ae.offsetWidth,me=de/2;let be=0,le=0,Te=0;if(Z)be=oe.left-me+H,le=oe.top+se.clientHeight+M,Te=Math.min(Math.max(q.height,Math.floor(j/2)),Math.max(80,j-le-(ie?ie.clientHeight:0)-(ce?ce.clientHeight:0)-28)),be<16?be=16:be>N-de-16&&(be=N-de-16);else if(be=oe.left-q.left-me,le=oe.top-q.top+se.clientHeight,Te=Math.max(40,F.clientHeight-le-(ie?ie.clientHeight:0)-(ce?ce.clientHeight:0)-14),be<1?be=1:be>F.clientWidth-de-1&&(be=F.clientWidth-de-1),l){const Le=l.getRefMaps().refElem.value;if(Le){const Fe=Le.getBoundingClientRect();le+=q.top-Fe.top}}te.style={top:Zn(le),left:Zn(be)},ge&&!ge.tableFilterAutoHeight&&(Te=0),te.maxHeight=Te})}e.dispatchEvent("filter-visible",{column:_,field:_.field,property:_.field,filterList:e.getCheckedFilters(),visible:te.visible},k)},handleClearFilter(k){if(k){const{filters:_,filterRender:U}=k;if(_){const W=It(U)?yb.get(U.name):null,te=k.filterResetMethod||(W?W.tableFilterResetMethod||W.filterResetMethod:null);_.forEach(X=>{X._checked=!1,X.checked=!1,te||(X.data=s.clone(X.resetValue,!0))}),te&&te({options:_,column:k,$table:e})}}},handleColumnConfirmFilter(k,_){const{mouseConfig:U}=d,{scrollXLoad:W,scrollYLoad:te}=a,X=y.value,F=m.value,{field:M}=k,H=[],j=[];k.filters.forEach(Z=>{Z.checked&&(H.push(Z.value),j.push(Z.data))});const N=e.getCheckedFilters(),B={$table:e,$event:_,column:k,field:M,property:M,values:H,datas:j,filters:N,filterList:N};return X.remote||(e.handleTableData(!0),e.checkSelectionStatus()),U&&F.area&&e.handleFilterEvent&&e.handleFilterEvent(_,B),_&&e.dispatchEvent("filter-change",B,_),e.closeFilter(),e.updateFooter().then(()=>{const{scrollXLoad:Z,scrollYLoad:q}=a;if(W||Z||te||q)return(W||Z)&&e.updateScrollXSpace(),(te||q)&&e.updateScrollYSpace(),e.refreshScroll()}).then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>{setTimeout(()=>e.recalculate(),50)})},confirmFilterEvent(k){const{filterStore:_}=a,{column:U}=_;e.handleColumnConfirmFilter(U,k)},handleFilterChangeRadioOption:D,handleFilterChangeMultipleOption:I,handleFilterChangeOption(k,_,U){const{filterStore:W}=a;W.multiple?I(k,_,U):D(k,_,U)},handleFilterConfirmFilter:R,handleFilterResetFilter:h};return Object.assign(Object.assign({},{openFilter(k){const _=Er(e,k);if(_&&_.filters){const{elemStore:U}=p,{fixed:W}=_;return e.scrollToColumn(_).then(()=>{const te=ct(U[`${W||"main"}-header-wrapper`]||U["main-header-wrapper"]);if(te){const X=te.querySelector(`.vxe-header--column.${_.id} .vxe-cell--filter`);LR(X,"click")}})}return ue()},setFilter(k,_,U){const{filterStore:W}=a,te=Er(e,k);if(te&&te.filters){if(te.filters=ig(_||[]),U)return e.handleColumnConfirmFilter(te,null);W.visible&&e.handleFilterOptions(te)}return ue()},clearFilter(k){const{filterStore:_}=a,{tableFullColumn:U}=p,W=y.value;let te;return k?(te=Er(e,k),te&&e.handleClearFilter(te)):U.forEach(e.handleClearFilter),(!k||te!==_.column)&&Object.assign(_,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),W.remote?ue():e.updateData()},saveFilterPanel(){return R(null),ue()},saveFilterPanelByEvent(k){return R(k),ue()},resetFilterPanel(){return h(null),ue()},resetFilterPanelByEvent(k){return h(k),ue()},getCheckedFilters(){const{tableFullColumn:k}=p,_=[];return k.forEach(U=>{const{field:W,filters:te}=U,X=[],F=[];te&&te.length&&(te.forEach(M=>{M.checked&&(X.push(M.value),F.push(M.data))}),X.length&&_.push({column:U,field:W,property:W,values:X,datas:F}))}),_},updateFilterOptionStatus(k,_){return k._checked=_,k.checked=_,ue()}}),f)},setupGrid(e){return e.extendTableMethods(Eb)},setupGantt(e){return e.extendTableMethods(Eb)}});const{menus:mS,hooks:bS,globalEvents:aa,GLOBAL_EVENT_KEYS:sa}=ye,Rb=["closeMenu"];bS.add("tableMenuModule",{setupTable(e){const{xID:t,props:o,reactData:l,internalData:d}=e,{refElem:a,refTableFilter:p,refTableMenu:b}=e.getRefMaps(),{computeMouseOpts:v,computeIsContentMenu:y,computeMenuOpts:m}=e.getComputeMaps();let R={},D={};const I=(h,f,$)=>{const{ctxMenuStore:k}=l,_=y.value,U=m.value,W=U[f],{transfer:te,visibleMethod:X}=U;if(W){const{options:F,disabled:M}=W;M?h.preventDefault():_&&F&&F.length&&($.options=F,e.preventEvent(h,"event.showMenu",$,()=>{if(!X||X($)){h.preventDefault(),e.updateZindex();const j=a.value.getBoundingClientRect(),{scrollTop:N,scrollLeft:B,visibleHeight:Z,visibleWidth:q}=qa();let se=h.clientY-j.y,pe=h.clientX-j.x;te&&(se=h.clientY+N,pe=h.clientX+B);const ge=()=>{d._currMenuParams=$,Object.assign(k,{visible:!0,list:F,selected:null,selectChild:null,showChild:!1,style:{zIndex:d.tZindex,top:`${se}px`,left:`${pe}px`}}),ue(()=>{const ie=b.value.getRefMaps().refElem.value,ce=ie.clientHeight,de=ie.clientWidth,{boundingTop:me,boundingLeft:be}=ma(ie),le=me+ce-Z,Te=be+de-q;le>-10&&(k.style.top=`${Math.max(N+2,se-ce-2)}px`),Te>-10&&(k.style.left=`${Math.max(B+2,pe-de-2)}px`)})},{keyboard:ve,row:Oe,column:ae}=$;ve&&Oe&&ae?e.scrollToRow(Oe,ae).then(()=>{const oe=e.getCellElement(Oe,ae);if(oe){const{boundingTop:ie,boundingLeft:ce}=ma(oe);se=ie+N+Math.floor(oe.offsetHeight/2),pe=ce+B+Math.floor(oe.offsetWidth/2)}ge()}):ge()}else R.closeMenu()}))}e.closeFilter()};return R={closeMenu(){return Object.assign(l.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),ue()}},D={moveCtxMenu(h,f,$,k,_,U){let W;const te=s.findIndexOf(U,X=>f[$]===X);if(k)_&&Kl(f.selected)?f.showChild=!0:(f.showChild=!1,f.selectChild=null);else if(aa.hasKey(h,sa.ARROW_UP)){for(let X=te-1;X>=0;X--)if(U[X].visible!==!1){W=U[X];break}f[$]=W||U[U.length-1]}else if(aa.hasKey(h,sa.ARROW_DOWN)){for(let X=te+1;X<U.length;X++)if(U[X].visible!==!1){W=U[X];break}f[$]=W||U[0]}else f[$]&&(aa.hasKey(h,sa.ENTER)||aa.hasKey(h,sa.SPACEBAR))&&e.ctxMenuLinkEvent(h,f[$])},handleOpenMenuEvent:I,handleGlobalContextmenuEvent(h){const f=e.xeGrid,$=e.xeGantt,{mouseConfig:k,menuConfig:_}=o,{editStore:U,ctxMenuStore:W}=l,{visibleColumn:te}=d,X=p.value,F=b.value,M=v.value,H=m.value,j=a.value,{selected:N}=U,B=["header","body","footer"];if(It(_)){if(W.visible&&F&&Jt(h,F.getRefMaps().refElem.value).flag){h.preventDefault();return}if(d._keyCtx){const Z="body",q={type:Z,$table:e,$grid:f,$gantt:$,keyboard:!0,columns:te.slice(0),$event:h};if(k&&M.area){const se=e.getActiveCellArea();if(se&&se.row&&se.column){q.row=se.row,q.column=se.column,I(h,Z,q);return}}else if(k&&M.selected&&N.row&&N.column){q.row=N.row,q.column=N.column,I(h,Z,q);return}}for(let Z=0;Z<B.length;Z++){const q=B[Z],se=Jt(h,j,`vxe-${q}--column`,ge=>ge.parentNode.parentNode.parentNode.getAttribute("xid")===t),pe={type:q,$table:e,$grid:f,$gantt:$,columns:te.slice(0),$event:h};if(se.flag){const ge=se.targetElem,ve=e.getColumnNode(ge),Oe=ve?ve.item:null;let ae=`${q}-`;if(Oe&&Object.assign(pe,{column:Oe,columnIndex:e.getColumnIndex(Oe),cell:ge}),q==="body"){const ie=e.getRowNode(ge.parentNode),ce=ie?ie.item:null;ae="",ce&&(pe.row=ce,pe.rowIndex=e.getRowIndex(ce))}const oe=`${ae}cell-menu`;I(h,q,pe),e.dispatchEvent(oe,pe,h);return}else if(Jt(h,j,`vxe-table--${q}-wrapper`,ge=>ge.getAttribute("xid")===t).flag){H.trigger==="cell"?h.preventDefault():I(h,q,pe);return}}}X&&!Jt(h,X.getRefMaps().refElem.value).flag&&e.closeFilter(),R.closeMenu()},ctxMenuMouseoverEvent(h,f,$){const k=h.currentTarget,{ctxMenuStore:_}=l;h.preventDefault(),h.stopPropagation(),_.selected=f,_.selectChild=$,$||(_.showChild=Kl(f),_.showChild&&ue(()=>{const U=k.nextElementSibling;if(U){const{boundingTop:W,boundingLeft:te,visibleHeight:X,visibleWidth:F}=ma(k),M=W+k.offsetHeight,H=te+k.offsetWidth;let j="",N="";H+U.offsetWidth>F-10&&(j="auto",N=`${k.offsetWidth}px`);let B="",Z="";M+U.offsetHeight>X-10&&(B="auto",Z="0"),U.style.left=j,U.style.right=N,U.style.top=B,U.style.bottom=Z}}))},ctxMenuMouseoutEvent(h,f){const{ctxMenuStore:$}=l;f.children||($.selected=null),$.selectChild=null},ctxMenuLinkEvent(h,f){const $=e.xeGrid,k=e.xeGantt;if(!f.disabled&&(f.code||!f.children||!f.children.length)){const _=mS.get(f.code),U=Object.assign({},d._currMenuParams,{menu:f,$table:e,$grid:$,$gantt:k,$event:h}),W=_?_.tableMenuMethod||_.menuMethod:null;W&&W(U,h),e.dispatchEvent("menu-click",U,h),R.closeMenu()}}},Object.assign(Object.assign({},R),D)},setupGrid(e){return e.extendTableMethods(Rb)},setupGantt(e){return e.extendTableMethods(Rb)}});const{getConfig:xS,renderer:CS,hooks:wS,getI18n:Fn}=ye,Sb=["insert","insertAt","insertNextAt","insertChild","insertChildAt","insertChildNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getEditCell","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"];wS.add("tableEditModule",{setupTable(e){const{props:t,reactData:o,internalData:l}=e,{refElem:d}=e.getRefMaps(),{computeMouseOpts:a,computeEditOpts:p,computeCheckboxOpts:b,computeTreeOpts:v,computeValidOpts:y}=e.getComputeMaps(),m=s.browse();let R={},D={};const I=(F,M)=>{const{model:H,editRender:j}=M;j&&(H.value=Pr(F,M),H.update=!1)},h=(F,M)=>{const{model:H,editRender:j}=M;j&&H.update&&(Yo(F,M,H.value),H.update=!1,H.value=null)},f=()=>{const F=d.value;if(F){const M=F.querySelector(".col--selected");M&&co(M,"col--selected")}},$=()=>{const{editStore:F,tableColumn:M}=o,H=p.value,{actived:j}=F,{row:N,column:B}=j;(N||B)&&(H.mode==="row"?M.forEach(Z=>h(N,Z)):h(N,B))},k=(F,M)=>{const{tableFullTreeData:H,afterFullData:j,fullDataRowIdData:N,fullAllDataRowIdData:B}=l,Z=v.value,{rowField:q,parentField:se,mapChildrenField:pe}=Z,ge=Z.children||Z.childrenField,ve=M?"push":"unshift";F.forEach(Oe=>{const ae=Oe[se],oe=$e(e,Oe),ie=ae?s.findTree(H,ce=>ae===ce[q],{children:pe}):null;if(ie){const{item:ce}=ie,de=B[$e(e,ce)],me=de?de.level:0;let be=ce[ge],le=ce[pe];s.isArray(be)||(be=ce[ge]=[]),s.isArray(le)||(le=ce[ge]=[]),be[ve](Oe),le[ve](Oe);const Te={row:Oe,rowid:oe,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:be,parent:ce,level:me+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};N[oe]=Te,B[oe]=Te}else{ae&&Ze("vxe.error.unableInsert"),j[ve](Oe),H[ve](Oe);const ce={row:Oe,rowid:oe,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:H,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};N[oe]=ce,B[oe]=ce}})},_=(F,M,H)=>{const{treeConfig:j}=t,{isRowGroupStatus:N}=o,{tableFullTreeData:B,afterFullData:Z,mergeBodyList:q,tableFullData:se,fullDataRowIdData:pe,fullAllDataRowIdData:ge,insertRowMaps:ve,removeRowMaps:Oe}=l,ae=v.value,{transform:oe,parentField:ie,rowField:ce,mapChildrenField:de}=ae,me=ae.children||ae.childrenField;s.isArray(F)||(F=[F]);const be=Fo(e.defineField(F.map(Le=>Object.assign(j&&oe?{[de]:[],[me]:[]}:{},Le))));let le=[];if(j&&oe&&(le=s.toArrayTree(be,{key:ce,parentKey:ie,children:me})),s.eqNull(M))if(j&&oe)k(be,!1);else if(N){if(j)throw new Error(Fn("vxe.error.noTree",["insert"]));Ze(Fn("vxe.error.noGroup",["remove"]))}else be.forEach(Le=>{const Fe=$e(e,Le),ot={row:Le,rowid:Fe,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:Z,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};pe[Fe]=ot,ge[Fe]=ot,Z.unshift(Le),se.unshift(Le)}),q.forEach(Le=>{const{row:Fe}=Le;Fe>=0&&(Le.row=Fe+be.length)});else if(M===-1)if(j&&oe)k(be,!0);else if(N){if(j)throw new Error(Fn("vxe.error.noTree",["insert"]));Ze(Fn("vxe.error.noGroup",["remove"]))}else be.forEach(Le=>{const Fe=$e(e,Le),ot={row:Le,rowid:Fe,seq:-1,index:-1,_index:-1,treeIndex:-1,_tIndex:-1,$index:-1,items:Z,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};pe[Fe]=ot,ge[Fe]=ot,Z.push(Le),se.push(Le)});else if(j&&oe){const Le=s.findTree(B,Fe=>M[ce]===Fe[ce],{children:de});if(Le){const{parent:Fe}=Le,ot=Fe?Fe[de]:B,De=ge[$e(e,Fe)],Ke=De?De.level:0;if(le.forEach((we,K)=>{Fe?we[ie]!==Fe[ce]&&(we[ie]=Fe[ce],Ne("vxe.error.errProp",[`${ie}=${we[ie]}`,`${ie}=${Fe[ce]}`])):we[ie]!==null&&(we[ie]=null,Ne("vxe.error.errProp",[`${ie}=${we[ie]}`,"null"]));let xe=Le.index+K;H&&(xe=xe+1),ot.splice(xe,0,we)}),s.eachTree(le,we=>{const K=$e(e,we),xe={row:we,rowid:K,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:ot,parent:Fe,level:Ke+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};we[me]&&(we[de]=we[me]),pe[K]=xe,ge[K]=xe},{children:me}),Fe){const we=s.findTree(B,K=>M[ce]===K[ce],{children:me});if(we){const K=we.items;let xe=we.index;H&&(xe=xe+1),K.splice(xe,0,...le)}}}else Ze("vxe.error.unableInsert"),k(be,!0)}else if(N){if(j)throw new Error(Fn("vxe.error.noTree",["insert"]));Ze(Fn("vxe.error.noGroup",["remove"]))}else{if(j)throw new Error(Fn("vxe.error.noTree",["insert"]));let Le=-1;if(s.isNumber(M)?M<Z.length&&(Le=M):Le=e.findRowIndexOf(Z,M),H&&(Le=Math.min(Z.length,Le+1)),Le===-1)throw new Error(Fn("vxe.error.unableInsert"));Z.splice(Le,0,...be);const Fe=e.findRowIndexOf(se,M);Fe>-1?se.splice(Fe+(H?1:0),0,...be):se.push(...be),q.forEach(ot=>{const{row:De,rowspan:Ke}=ot;De>=Le?ot.row=De+be.length:(H?De+Ke>=Le:De+Ke>Le)&&(ot.rowspan=Ke+be.length)})}const Te=Le=>{const Fe=$e(e,Le);Oe[Fe]?(delete Oe[Fe],ve[Fe]&&delete ve[Fe]):ve[Fe]=Le};return j&&oe?s.eachTree(le,Te,{children:de}):be.forEach(Te),o.removeRowFlag++,o.insertRowFlag++,e.cacheRowMap(!1),e.updateScrollYStatus(),e.handleTableData(j&&oe),j&&oe||e.updateAfterDataIndex(),e.updateFooter(),e.handleUpdateBodyMerge(),e.checkSelectionStatus(),o.scrollYLoad&&e.updateScrollYSpace(),ue().then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>({row:be.length?be[be.length-1]:null,rows:be}))},U=(F,M,H,j)=>{const{treeConfig:N}=t,B=v.value,{transform:Z,rowField:q,parentField:se}=B;return N&&Z?(s.isArray(F)||(F=[F]),_(F.map(pe=>Object.assign({},pe,{[se]:M[q]})),H,j)):(Ne("vxe.error.errProp",["tree-config.transform=false","tree-config.transform=true"]),Promise.resolve({row:null,rows:[]}))},W=(F,M)=>{const{editStore:H}=o,{actived:j,focused:N}=H,{row:B,column:Z}=j,q=y.value;if(B||Z){if(M&&$e(e,M)!==$e(e,B))return ue();$(),j.args=null,j.row=null,j.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:B,rowIndex:e.getRowIndex(B),$rowIndex:e.getVMRowIndex(B),column:Z,columnIndex:e.getColumnIndex(Z),$columnIndex:e.getVMColumnIndex(Z)},F||null)}return N.row=null,N.column=null,q.autoClear&&(q.msgMode!=="full"||xS().cellVaildMode==="obsolete")&&e.clearValidate?e.clearValidate():ue().then(()=>e.updateCellAreas())},te=(F,M,H,j)=>{const N=e.xeGrid,B=e.xeGantt,{editConfig:Z,mouseConfig:q}=t,{editStore:se,tableColumn:pe}=o,ge=p.value,{mode:ve}=ge,{actived:Oe,focused:ae}=se,{row:oe,column:ie}=F,{editRender:ce}=ie,de=F.cell||e.getCellElement(oe,ie),me=ge.beforeEditMethod||ge.activeMethod;if(F.cell=de,de&&It(Z)&&It(ce)&&!e.isPendingByRow(oe)&&!e.isAggregateRecord(oe)){if(Oe.row!==oe||ve==="cell"&&Oe.column!==ie){let be="edit-disabled";if(!me||me(Object.assign(Object.assign({},F),{$table:e,$grid:N,$gantt:B}))){q&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),Oe.column&&W(M),be="edit-activated",ie.renderHeight=de.offsetHeight,Oe.args=F,Oe.row=oe,Oe.column=ie,ve==="row"?pe.forEach(Te=>I(oe,Te)):I(oe,ie);const le=ge.afterEditMethod;ue(()=>{H&&e.handleFocus(F,M),le&&le(Object.assign(Object.assign({},F),{$table:e,$grid:N,$gantt:B}))})}e.dispatchEvent(be,{row:oe,rowIndex:e.getRowIndex(oe),$rowIndex:e.getVMRowIndex(oe),column:ie,columnIndex:e.getColumnIndex(ie),$columnIndex:e.getVMColumnIndex(ie)},M),be==="edit-activated"&&e.dispatchEvent("edit-actived",{row:oe,rowIndex:e.getRowIndex(oe),$rowIndex:e.getVMRowIndex(oe),column:ie,columnIndex:e.getColumnIndex(ie),$columnIndex:e.getVMColumnIndex(ie)},M)}else{const{column:be}=Oe;if(q&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),be!==ie){const{model:le}=be;le.update&&Yo(oe,be,le.value),e.clearValidate&&e.clearValidate(oe,ie)}ie.renderHeight=de.offsetHeight,Oe.args=F,Oe.column=ie,j&&setTimeout(()=>{e.handleFocus(F,M)})}ae.column=null,ae.row=null,e.focus()}return ue()},X=(F,M,H)=>{const{editConfig:j}=t,N=s.isString(M)?e.getColumnByField(M):M;return F&&N&&It(j)&&It(N.editRender)&&!e.isAggregateRecord(F)?Promise.resolve(H?e.scrollToRow(F,N):null).then(()=>{const B=e.getCellElement(F,N);return B&&(te({row:F,rowIndex:e.getRowIndex(F),column:N,columnIndex:e.getColumnIndex(N),cell:B,$table:e},null,H,H),l._lastCallTime=Date.now()),ue()}):ue()};return R={insert(F){return _(F,null)},insertAt(F,M){return _(F,M)},insertNextAt(F,M){return _(F,M,!0)},insertChild(F,M){return U(F,M,null)},insertChildAt(F,M,H){return U(F,M,H)},insertChildNextAt(F,M,H){return U(F,M,H,!0)},remove(F){const{treeConfig:M}=t,{editStore:H,isRowGroupStatus:j}=o,{tableFullTreeData:N,selectCheckboxMaps:B,afterFullData:Z,mergeBodyList:q,tableFullData:se,pendingRowMaps:pe,insertRowMaps:ge,removeRowMaps:ve}=l,Oe=b.value,ae=v.value,{transform:oe,mapChildrenField:ie}=ae,ce=ae.children||ae.childrenField,{actived:de}=H,{checkField:me}=Oe;let be=[];return F?s.isArray(F)||(F=[F]):F=se,F.forEach(le=>{if(!e.isInsertByRow(le)){const Te=$e(e,le);ve[Te]=le}}),me||(F.forEach(le=>{const Te=$e(e,le);B[Te]&&delete B[Te]}),o.updateCheckboxFlag++),se===F?(F=be=se.slice(0),l.tableFullData=[],l.afterFullData=[],e.clearMergeCells()):M&&oe?F.forEach(le=>{const Te=$e(e,le),Le=s.findTree(N,De=>Te===$e(e,De),{children:ie});if(Le){const De=Le.items.splice(Le.index,1);be.push(De[0])}const Fe=s.findTree(N,De=>Te===$e(e,De),{children:ce});Fe&&Fe.items.splice(Fe.index,1);const ot=e.findRowIndexOf(Z,le);ot>-1&&Z.splice(ot,1)}):j?Ze(Fn("vxe.error.noGroup",["remove"])):F.forEach(le=>{const Te=e.findRowIndexOf(se,le);if(Te>-1){const Fe=se.splice(Te,1);be.push(Fe[0])}const Le=e.findRowIndexOf(Z,le);Le>-1&&(q.forEach(Fe=>{const{row:ot,rowspan:De}=Fe;ot>Le?Fe.row=ot-1:ot+De>Le&&(Fe.rowspan=De-1)}),Z.splice(Le,1))}),de.row&&e.findRowIndexOf(F,de.row)>-1&&R.clearEdit(),F.forEach(le=>{const Te=$e(e,le);ge[Te]&&delete ge[Te],pe[Te]&&delete pe[Te]}),o.removeRowFlag++,o.insertRowFlag++,o.pendingRowFlag++,e.cacheRowMap(!1),e.handleTableData(M&&oe),e.updateFooter(),e.handleUpdateBodyMerge(),M&&oe||e.updateAfterDataIndex(),e.checkSelectionStatus(),o.scrollYLoad&&e.updateScrollYSpace(),ue().then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>({row:be.length?be[be.length-1]:null,rows:be}))},removeCheckboxRow(){return R.remove(e.getCheckboxRecords()).then(F=>(e.clearCheckboxRow(),F))},removeRadioRow(){const F=e.getRadioRecord();return R.remove(F||[]).then(M=>(e.clearRadioRow(),M))},removeCurrentRow(){const F=e.getCurrentRecord();return R.remove(F||[]).then(M=>(e.clearCurrentRow(),M))},getRecordset(){const F=R.getRemoveRecords(),M=e.getPendingRecords(),H=F.concat(M),j=R.getUpdateRecords().filter(N=>!H.some(B=>e.eqRow(B,N)));return{insertRecords:R.getInsertRecords(),removeRecords:F,updateRecords:j,pendingRecords:M}},getInsertRecords(){const{fullAllDataRowIdData:F,insertRowMaps:M}=l,H=[];return s.each(M,(j,N)=>{F[N]&&H.push(j)}),H},getRemoveRecords(){const{removeRowMaps:F}=l,M=[];return s.each(F,H=>{M.push(H)}),M},getUpdateRecords(){const{keepSource:F,treeConfig:M}=t,{tableFullData:H}=l,j=v.value;return F?($(),M?s.filterTree(H,N=>e.isUpdateByRow(N),j):H.filter(N=>e.isUpdateByRow(N))):[]},getActiveRecord(){Ze("vxe.error.delFunc",["getActiveRecord","getEditCell"]);const{editStore:F}=o,{fullAllDataRowIdData:M}=l,{args:H,row:j}=F.actived;return H&&j&&M[$e(e,j)]?Object.assign({},H,{row:j}):null},getEditRecord(){Ze("vxe.error.delFunc",["getEditRecord","getEditCell"]);const{editStore:F}=o,{fullAllDataRowIdData:M}=l,{args:H,row:j}=F.actived;return H&&j&&M[$e(e,j)]?Object.assign({},H,{row:j}):null},getEditCell(){const{editStore:F}=o,{row:M,column:H}=F.actived;return H&&M?{row:M,rowIndex:e.getRowIndex(M),column:H,columnIndex:e.getColumnIndex(H)}:null},getSelectedCell(){const{editStore:F}=o,{row:M,column:H}=F.selected;return M&&H?{row:M,column:H}:null},clearActived(F){return Ze("vxe.error.delFunc",["clearActived","clearEdit"]),e.clearEdit(F)},clearEdit(F){return W(null,F)},clearSelected(){const{editStore:F}=o,{selected:M}=F;return M.row=null,M.column=null,f(),ue()},isActiveByRow(F){return Ze("vxe.error.delFunc",["isActiveByRow","isEditByRow"]),e.isEditByRow(F)},isEditByRow(F){const{editStore:M}=o;return M.actived.row===F},setActiveRow(F){return Ze("vxe.error.delFunc",["setActiveRow","setEditRow"]),R.setEditRow(F)},setEditRow(F,M){const{visibleColumn:H}=l;let j=s.find(H,B=>It(B.editRender)),N=!1;return M&&(N=!0,M!==!0&&(j=s.isString(M)?e.getColumnByField(M):M)),X(F,j,N)},setActiveCell(F,M){return Ze("vxe.error.delFunc",["setActiveCell","setEditCell"]),R.setEditCell(F,M)},setEditCell(F,M){return X(F,M,!0)},setSelectCell(F,M){const{tableData:H}=o,j=p.value,N=s.isString(M)?e.getColumnByField(M):M;if(F&&N&&j.trigger!=="manual"){const B=e.findRowIndexOf(H,F);if(B>-1&&N){const Z=e.getCellElement(F,N),q={row:F,rowIndex:B,column:N,columnIndex:e.getColumnIndex(N),cell:Z};e.handleSelected(q,{})}}return ue()}},D={handleEdit(F,M){return te(F,M,!0,!0)},handleActived(F,M){return D.handleEdit(F,M)},handleClearEdit:W,handleFocus(F){const{row:M,column:H,cell:j}=F,{editRender:N}=H,B=p.value;if(It(N)){const Z=CS.get(N.name);let q=N.autofocus||N.autoFocus,se=N.autoSelect||N.autoselect,pe;if(B.autoFocus&&(!q&&Z&&(q=Z.tableAutoFocus||Z.tableAutofocus||Z.autofocus),!se&&Z&&(se=Z.tableAutoSelect||Z.autoselect),s.isFunction(q)?pe=q(F):q&&(q===!0?pe=j.querySelector("input,textarea"):pe=j.querySelector(q),pe&&pe.focus())),pe){if(se)pe.select();else if(m.msie){const ge=pe.createTextRange();ge.collapse(!1),ge.select()}}else B.autoPos&&(H.fixed||e.scrollToRow(M,H))}},handleSelected(F,M){const{mouseConfig:H}=t,{editStore:j}=o,N=a.value,B=p.value,{actived:Z,selected:q}=j,{row:se,column:pe}=F,ge=H&&N.selected;return ge&&(q.row!==se||q.column!==pe)&&(Z.row!==se||B.mode==="cell"&&Z.column!==pe)&&(W(M),e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),q.args=F,q.row=se,q.column=pe,ge&&D.addCellSelectedClass(),e.focus(),M&&e.dispatchEvent("cell-selected",F,M)),ue()},addCellSelectedClass(){const{editStore:F}=o,{selected:M}=F,{row:H,column:j}=M;if(f(),H&&j){const N=e.getCellElement(H,j);N&&Do(N,"col--selected")}}},Object.assign(Object.assign({},R),D)},setupGrid(e){return e.extendTableMethods(Sb)},setupGantt(e){return e.extendTableMethods(Sb)}});const yS='body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function ES(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}function RS(e,t){const{style:o}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>',`<style>${yS}</style>`,o?`<style>${o}</style>`:"","</head>",`<body>${t}</body>`,"</html>"].join("")}const{getI18n:un,hooks:SS,renderer:wf}=ye;let Bl;const OS="\uFEFF",xl=`\r
`;function ca(e){return!!e.field||["seq","checkbox","radio"].indexOf(e.type||"")===-1}const JC=e=>{const t=[];return e.forEach(o=>{o.childNodes&&o.childNodes.length?(t.push(o),t.push(...JC(o.childNodes))):t.push(o)}),t},DS=e=>{let t=1;const o=(a,p)=>{if(p&&(a._level=p._level+1,t<a._level&&(t=a._level)),a.childNodes&&a.childNodes.length){let b=0;a.childNodes.forEach(v=>{o(v,a),b+=v._colSpan}),a._colSpan=b}else a._colSpan=1};e.forEach(a=>{a._level=1,o(a)});const l=[];for(let a=0;a<t;a++)l.push([]);return JC(e).forEach(a=>{a.childNodes&&a.childNodes.length?a._rowSpan=1:a._rowSpan=t-a._level+1,l[a._level-1].push(a)}),l};function TS(e){return e===!0?"full":e||"default"}function Gl(e){return e==="TRUE"||e==="true"||e===!0}function ua(e,t,o){const l=e.xeGrid,d=e.xeGantt,{footerFilterMethod:a}=t;return a?o.filter((p,b)=>a({$table:e,$grid:l,$gantt:d,items:p,$rowIndex:b})):o}function FS(e,t){if(t){if(e.type==="seq")return`	${t}`;switch(e.cellType){case"string":if(!isNaN(t))return`	${t}`;break;case"number":break;default:if(t.length>=12&&!isNaN(t))return`	${t}`;break}}return t}function Vl(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function To(e,t){return e.getElementsByTagName(t)}function Ob(e){return`#${e}@${s.uniqueId()}`}function QC(e,t){return e.replace(/#\d+@\d+/g,o=>s.hasOwnProp(t,o)?t[o]:o)}function Db(e,t){return QC(e,t).replace(/^"+$/g,l=>'"'.repeat(Math.ceil(l.length/2)))}function sg(e,t){const{fieldMaps:o,titleMaps:l}=e;if(!o[t]){const d=l[t];d&&d.field&&(t=d.field)}return t}function ew(e,t,o){const l=t.split(xl),d=[];let a=[];if(l.length){const p={},b=Date.now();l.forEach(v=>{if(v){const y={};v=v.replace(/("")|(\n)/g,(R,D)=>{const I=Ob(b);return p[I]=D?'"':`
`,I}).replace(/"(.*?)"/g,(R,D)=>{const I=Ob(b);return p[I]=QC(D,p),I});const m=v.split(o);a.length?(m.forEach((R,D)=>{D<a.length&&(y[a[D]]=Db(R.trim(),p))}),d.push(y)):a=m.map(R=>sg(e,Db(R.trim(),p)))}})}return{fields:a,rows:d}}function MS(e,t){return ew(e,t,",")}function IS(e,t){return ew(e,t,"	")}function AS(e,t){const l=new DOMParser().parseFromString(t,"text/html"),d=To(l,"body"),a=[],p=[];if(d.length){const b=To(d[0],"table");if(b.length){const v=To(b[0],"thead");if(v.length){s.arrayEach(To(v[0],"tr"),m=>{s.arrayEach(To(m,"th"),R=>{p.push(sg(e,R.textContent||""))})});const y=To(b[0],"tbody");y.length&&s.arrayEach(To(y[0],"tr"),m=>{const R={};s.arrayEach(To(m,"td"),(D,I)=>{p[I]&&(R[p[I]]=D.textContent||"")}),a.push(R)})}}}return{fields:p,rows:a}}function kS(e,t){const l=new DOMParser().parseFromString(t,"application/xml"),d=To(l,"Worksheet"),a=[],p=[];if(d.length){const b=To(d[0],"Table");if(b.length){const v=To(b[0],"Row");v.length&&(s.arrayEach(To(v[0],"Cell"),y=>{p.push(sg(e,y.textContent||""))}),s.arrayEach(v,(y,m)=>{if(m){const R={},D=To(y,"Cell");s.arrayEach(D,(I,h)=>{p[h]&&(R[p[h]]=I.textContent)}),a.push(R)}}))}}return{fields:p,rows:a}}function Tb(e){s.eachTree(e,t=>{delete t._level,delete t._colSpan,delete t._rowSpan,delete t._children,delete t.childNodes},{children:"children"})}const Fb=["exportData","importByFile","importData","saveFile","readFile","print","getPrintHtml","openImport","closeImport","openExport","closeExport","openPrint","closePrint"];SS.add("tableExportModule",{setupTable(e){const{props:t,reactData:o,internalData:l}=e,{computeTreeOpts:d,computePrintOpts:a,computeExportOpts:p,computeImportOpts:b,computeCustomOpts:v,computeSeqOpts:y,computeRadioOpts:m,computeCheckboxOpts:R,computeColumnOpts:D}=e.getComputeMaps(),I=ae=>{const oe=d.value,ie=oe.children||oe.childrenField;return ae[ie]&&ae[ie].length},h=(ae,oe,ie,ce,de)=>{const be=y.value.seqMethod||ce.seqMethod;return be?be({$table:e,row:oe,rowIndex:e.getRowIndex(oe),$rowIndex:ie,column:ce,columnIndex:e.getColumnIndex(ce),$columnIndex:de}):ae};function f(ae,oe){const ie=D.value,ce=oe.headerExportMethod||ie.headerExportMethod;return ce?ce({column:oe,options:ae,$table:e}):(ae.isTitle?oe.getTitle():oe.field)||""}const $=ae=>s.isBoolean(ae)?ae?"TRUE":"FALSE":ae,k=ae=>gn(ae)?"":`${ae}`,_=(ae,oe,ie)=>{const{isAllExpand:ce,mode:de}=ae,{treeConfig:me}=t,be=m.value,le=R.value,Te=d.value,Le=D.value;if(Bl||(Bl=document.createElement("div")),me){const Fe=Te.children||Te.childrenField,ot=[],De={},Ke={},{handleGetRowId:we}=Tr(e);return s.eachTree(ie,(K,xe,Re,Ae,He,We)=>{const Xe=K._row||K,Je=we(Xe);if(Ke[Je])return;const lt=He&&He._row?He._row:He,Ge=lt?we(lt):"";if(ce||!lt||De[Ge]&&e.isTreeExpandByRow(lt)){const gt=I(Xe),Ve={_row:Xe,_level:We.length-1,_hasChild:gt,_expand:gt&&e.isTreeExpandByRow(Xe)};oe.forEach((je,nt)=>{let at="";const Mt=je.editRender||je.cellRender;let ht=je.exportMethod||Le.exportMethod;if(!ht&&Mt&&Mt.name){const vt=wf.get(Mt.name);vt&&(ht=vt.tableExportMethod||vt.exportMethod)}if(ht||(ht=Le.exportMethod),ht)at=ht({$table:e,row:Xe,column:je,options:ae});else switch(je.type){case"seq":{const vt=Ae.map((ft,xt)=>xt%2===0?Number(ft)+1:".").join("");at=de==="all"?vt:h(vt,Xe,xe,je,nt);break}case"checkbox":at=$(e.isCheckedByCheckboxRow(Xe)),Ve._checkboxLabel=le.labelField?s.get(Xe,le.labelField):"",Ve._checkboxDisabled=le.checkMethod&&!le.checkMethod({$table:e,row:Xe});break;case"radio":at=$(e.isCheckedByRadioRow(Xe)),Ve._radioLabel=be.labelField?s.get(Xe,be.labelField):"",Ve._radioDisabled=be.checkMethod&&!be.checkMethod({$table:e,row:Xe});break;default:if(ae.original)at=Pr(Xe,je);else if(at=e.getCellLabel(Xe,je),je.type==="html")Bl.innerHTML=at,at=Bl.innerText.trim();else{const vt=e.getCellElement(Xe,je);vt&&!hn(vt,"is--progress")&&(at=vt.innerText.trim())}}Ve[je.id]=k(at)}),Ke[Je]=!0,Ge&&(De[Ge]=!0),ot.push(Object.assign(Ve,Xe))}},{children:Fe}),ot}return ie.map((Fe,ot)=>{const De={_row:Fe};return oe.forEach((Ke,we)=>{let K="";const xe=Ke.editRender||Ke.cellRender;let Re=Ke.exportMethod||Le.exportMethod;if(!Re&&xe&&xe.name){const Ae=wf.get(xe.name);Ae&&(Re=Ae.tableExportMethod||Ae.exportMethod)}if(Re)K=Re({$table:e,row:Fe,column:Ke,options:ae});else switch(Ke.type){case"seq":{const Ae=ot+1;K=de==="all"?Ae:h(Ae,Fe,ot,Ke,we);break}case"checkbox":K=$(e.isCheckedByCheckboxRow(Fe)),De._checkboxLabel=le.labelField?s.get(Fe,le.labelField):"",De._checkboxDisabled=le.checkMethod&&!le.checkMethod({$table:e,row:Fe});break;case"radio":K=$(e.isCheckedByRadioRow(Fe)),De._radioLabel=be.labelField?s.get(Fe,be.labelField):"",De._radioDisabled=be.checkMethod&&!be.checkMethod({$table:e,row:Fe});break;default:if(ae.original)K=Pr(Fe,Ke);else if(K=e.getCellLabel(Fe,Ke),Ke.type==="html")Bl.innerHTML=K,K=Bl.innerText.trim();else{const Ae=e.getCellElement(Fe,Ke);Ae&&!hn(Ae,"is--progress")&&(K=Ae.innerText.trim())}}De[Ke.id]=k(K)}),De})},U=ae=>{const oe=e.xeGrid,ie=e.xeGantt,{columns:ce,dataFilterMethod:de}=ae;let me=ae.data;return de&&(me=me.filter((be,le)=>de({$table:e,$grid:oe,$gantt:ie,row:be,$rowIndex:le}))),_(ae,ce,me)},W=(ae,oe,ie)=>{const ce=D.value,de=ie.editRender||ie.cellRender;let me=ie.footerExportMethod;if(!me&&de&&de.name){const le=wf.get(de.name);le&&(me=le.tableFooterExportMethod||le.footerExportMethod)}me||(me=ce.footerExportMethod);const be=e.getVTColumnIndex(ie);return me?me({$table:e,items:oe,itemIndex:be,row:oe,_columnIndex:be,column:ie,options:ae}):s.isArray(oe)?s.toValueString(oe[be]):s.get(oe,ie.field)},te=(ae,oe,ie,ce)=>{let de=OS;if(oe.isHeader&&(de+=ie.map(me=>Vl(f(oe,me))).join(",")+xl),ce.forEach(me=>{de+=ie.map(be=>Vl(FS(be,me[be.id]))).join(",")+xl}),oe.isFooter){const{footerTableData:me}=o;ua(ae,oe,me).forEach(le=>{de+=ie.map(Te=>Vl(W(oe,le,Te))).join(",")+xl})}return de},X=(ae,oe,ie,ce)=>{let de="";if(oe.isHeader&&(de+=ie.map(me=>Vl(f(oe,me))).join("	")+xl),ce.forEach(me=>{de+=ie.map(be=>Vl(me[be.id])).join("	")+xl}),oe.isFooter){const{footerTableData:me}=o;ua(ae,oe,me).forEach(le=>{de+=ie.map(Te=>Vl(W(oe,le,Te))).join("	")+xl})}return de},F=(ae,oe,ie)=>{const ce=ae[oe],de=s.isUndefined(ce)||s.isNull(ce)?ie:ce;let Te=de==="title"||(de===!0||de==="tooltip")||de==="ellipsis";const{scrollXLoad:Le,scrollYLoad:Fe}=o;return(Le||Fe)&&!Te&&(Te=!0),Te},M=(ae,oe,ie)=>{const{id:ce,border:de,treeConfig:me,headerAlign:be,align:le,footerAlign:Te,showOverflow:Le,showHeaderOverflow:Fe}=t,{isAllSelected:ot,isIndeterminate:De}=o,{mergeBodyCellMaps:Ke}=l,we=d.value,{print:K,isHeader:xe,isFooter:Re,isColgroup:Ae,isMerge:He,colgroups:We,original:Xe}=ae,Je="check-all",Ge=[`<table class="${["vxe-table",`border--${TS(de)}`,K?"is--print":"",xe?"is--header":""].filter(Ve=>Ve).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${oe.map(Ve=>`<col style="width:${Ve.renderWidth}px">`).join("")}</colgroup>`];if(xe&&(Ge.push("<thead>"),Ae&&!Xe?We.forEach(Ve=>{Ge.push(`<tr>${Ve.map(je=>{const nt=je.headerAlign||je.align||be||le,at=F(je,"showHeaderOverflow",Fe)?["col--ellipsis"]:[],Mt=f(ae,je);let ht=0,vt=0;s.eachTree([je],xt=>{(!xt.childNodes||!je.childNodes.length)&&vt++,ht+=xt.renderWidth},{children:"childNodes"});const ft=ht-vt;return nt&&at.push(`col--${nt}`),je.type==="checkbox"?`<th class="${at.join(" ")}" colspan="${je._colSpan}" rowspan="${je._rowSpan}"><div ${K?"":`style="width: ${ft}px"`}><input type="checkbox" class="${Je}" ${ot?"checked":""}><span>${Mt}</span></div></th>`:`<th class="${at.join(" ")}" colspan="${je._colSpan}" rowspan="${je._rowSpan}" title="${Mt}"><div ${K?"":`style="width: ${ft}px"`}><span>${jr(Mt,!0)}</span></div></th>`}).join("")}</tr>`)}):Ge.push(`<tr>${oe.map(Ve=>{const je=Ve.headerAlign||Ve.align||be||le,nt=F(Ve,"showHeaderOverflow",Fe)?["col--ellipsis"]:[],at=f(ae,Ve);return je&&nt.push(`col--${je}`),Ve.type==="checkbox"?`<th class="${nt.join(" ")}"><div ${K?"":`style="width: ${Ve.renderWidth}px"`}><input type="checkbox" class="${Je}" ${ot?"checked":""}><span>${at}</span></div></th>`:`<th class="${nt.join(" ")}" title="${at}"><div ${K?"":`style="width: ${Ve.renderWidth}px"`}><span>${jr(at,!0)}</span></div></th>`}).join("")}</tr>`),Ge.push("</thead>")),ie.length&&(Ge.push("<tbody>"),me?ie.forEach(Ve=>{Ge.push("<tr>"+oe.map(je=>{const nt=je.id,at=je.align||le,Mt=F(je,"showOverflow",Le)?["col--ellipsis"]:[],ht=Ve[nt];if(at&&Mt.push(`col--${at}`),je.treeNode){let vt="";return Ve._hasChild&&(vt=`<i class="${Ve._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),Mt.push("vxe-table--tree-node"),je.type==="radio"?`<td class="${Mt.join(" ")}" title="${ht}"><div ${K?"":`style="width: ${je.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Ve._level*we.indent}px"><div class="vxe-table--tree-icon-wrapper">${vt}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${ce}" ${Ve._radioDisabled?"disabled ":""}${Gl(ht)?"checked":""}><span>${Ve._radioLabel}</span></div></div></div></td>`:je.type==="checkbox"?`<td class="${Mt.join(" ")}" title="${ht}"><div ${K?"":`style="width: ${je.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Ve._level*we.indent}px"><div class="vxe-table--tree-icon-wrapper">${vt}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${Ve._checkboxDisabled?"disabled ":""}${Gl(ht)?"checked":""}><span>${Ve._checkboxLabel}</span></div></div></div></td>`:`<td class="${Mt.join(" ")}" title="${ht}"><div ${K?"":`style="width: ${je.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Ve._level*we.indent}px"><div class="vxe-table--tree-icon-wrapper">${vt}</div><div class="vxe-table--tree-cell">${ht}</div></div></div></td>`}return je.type==="radio"?`<td class="${Mt.join(" ")}"><div ${K?"":`style="width: ${je.renderWidth}px"`}><input type="radio" name="radio_${ce}" ${Ve._radioDisabled?"disabled ":""}${Gl(ht)?"checked":""}><span>${Ve._radioLabel}</span></div></td>`:je.type==="checkbox"?`<td class="${Mt.join(" ")}"><div ${K?"":`style="width: ${je.renderWidth}px"`}><input type="checkbox" ${Ve._checkboxDisabled?"disabled ":""}${Gl(ht)?"checked":""}><span>${Ve._checkboxLabel}</span></div></td>`:`<td class="${Mt.join(" ")}" title="${ht}"><div ${K?"":`style="width: ${je.renderWidth}px"`}>${jr(ht,!0)}</div></td>`}).join("")+"</tr>")}):ie.forEach(Ve=>{Ge.push("<tr>"+oe.map(je=>{const nt=je.align||le,at=F(je,"showOverflow",Le)?["col--ellipsis"]:[],Mt=Ve[je.id];let ht=1,vt=1;if(He){const ft=e.getVTRowIndex(Ve._row),xt=e.getVTColumnIndex(je),_e=Ke[`${ft}:${xt}`];if(_e){const{rowspan:St,colspan:pt}=_e;if(!St||!pt)return"";St>1&&(ht=St),pt>1&&(vt=pt)}}return nt&&at.push(`col--${nt}`),je.type==="radio"?`<td class="${at.join(" ")}" rowspan="${ht}" colspan="${vt}"><div ${K?"":`style="width: ${je.renderWidth}px"`}><input type="radio" name="radio_${ce}" ${Ve._radioDisabled?"disabled ":""}${Gl(Mt)?"checked":""}><span>${Ve._radioLabel}</span></div></td>`:je.type==="checkbox"?`<td class="${at.join(" ")}" rowspan="${ht}" colspan="${vt}"><div ${K?"":`style="width: ${je.renderWidth}px"`}><input type="checkbox" ${Ve._checkboxDisabled?"disabled ":""}${Gl(Mt)?"checked":""}><span>${Ve._checkboxLabel}</span></div></td>`:`<td class="${at.join(" ")}" rowspan="${ht}" colspan="${vt}" title="${Mt}"><div ${K?"":`style="width: ${je.renderWidth}px"`}>${jr(Mt,!0)}</div></td>`}).join("")+"</tr>")}),Ge.push("</tbody>")),Re){const{footerTableData:Ve}=o,je=ua(e,ae,Ve);je.length&&(Ge.push("<tfoot>"),je.forEach(nt=>{Ge.push(`<tr>${oe.map(at=>{const Mt=at.footerAlign||at.align||Te||le,ht=F(at,"showOverflow",Le)?["col--ellipsis"]:[],vt=W(ae,nt,at);return Mt&&ht.push(`col--${Mt}`),`<td class="${ht.join(" ")}" title="${vt}"><div ${K?"":`style="width: ${at.renderWidth}px"`}>${jr(vt,!0)}</div></td>`}).join("")}</tr>`)}),Ge.push("</tfoot>"))}const gt=!ot&&De?`<script>(function(){var a=document.querySelector(".${Je}");if(a){a.indeterminate=true}})()<\/script>`:"";return Ge.push("</table>",gt),K?Ge.join(""):RS(ae,Ge.join(""))},H=(ae,oe,ie)=>{let ce=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${ae.sheetName}">`,"<Table>",oe.map(de=>`<Column ss:Width="${de.renderWidth}"/>`).join("")].join("");if(ae.isHeader&&(ce+=`<Row>${oe.map(de=>`<Cell><Data ss:Type="String">${f(ae,de)}</Data></Cell>`).join("")}</Row>`),ie.forEach(de=>{ce+="<Row>"+oe.map(me=>`<Cell><Data ss:Type="String">${de[me.id]}</Data></Cell>`).join("")+"</Row>"}),ae.isFooter){const{footerTableData:de}=o;ua(e,ae,de).forEach(be=>{ce+=`<Row>${oe.map(le=>`<Cell><Data ss:Type="String">${W(ae,be,le)}</Data></Cell>`).join("")}</Row>`})}return`${ce}</Table></Worksheet></Workbook>`},j=(ae,oe,ie,ce)=>{if(ie.length)switch(oe.type){case"csv":return te(ae,oe,ie,ce);case"txt":return X(ae,oe,ie,ce);case"html":return M(oe,ie,ce);case"xml":return H(oe,ie,ce)}return""},N=(ae,oe)=>{const{filename:ie,type:ce,download:de}=ae;if(!de){const me=ES(oe,ae);return Promise.resolve({type:ce,content:oe,blob:me})}ye.saveFile&&ye.saveFile({filename:ie,type:ce,content:oe}).then(()=>{ae.message!==!1&&ye.modal&&ye.modal.message({content:un("vxe.table.expSuccess"),status:"success"})})},B=ae=>{const oe=e.xeGrid,ie=e.xeGantt,{remote:ce,columns:de,colgroups:me,exportMethod:be,afterExportMethod:le}=ae;return new Promise(Te=>{if(ce){const Le={options:ae,$table:e,$grid:oe,$gantt:ie};Te(be?be(Le):Le)}else{const Le=U(ae);Te(e.preventEvent(null,"event.export",{options:ae,columns:de,colgroups:me,datas:Le},()=>N(ae,j(e,ae,de,Le))))}}).then(Te=>(Tb(de),ae.print||le&&le({status:!0,options:ae,$table:e,$grid:oe,$gantt:ie}),Object.assign({status:!0},Te))).catch(()=>{Tb(de),ae.print||le&&le({status:!1,options:ae,$table:e,$grid:oe,$gantt:ie});const Te={status:!1};return Promise.reject(Te)})},Z=(ae,oe)=>{const{tableFullColumn:ie,_importResolve:ce,_importReject:de}=l;let me={fields:[],rows:[]};const be={},le={};ie.forEach(De=>{const Ke=De.field,we=De.getTitle();Ke&&(be[Ke]=De),we&&(le[De.getTitle()]=De)});const Te={fieldMaps:be,titleMaps:le};switch(oe.type){case"csv":me=MS(Te,ae);break;case"txt":me=IS(Te,ae);break;case"html":me=AS(Te,ae);break;case"xml":me=kS(Te,ae);break}const{fields:Le,rows:Fe}=me;Le.some(De=>be[De]||le[De])?e.createData(Fe).then(De=>{let Ke;return(oe.mode==="insert"||oe.mode==="insertBottom")&&(Ke=e.insertAt(De,-1)),oe.mode==="insertTop"?Ke=e.insert(De):Ke=e.reloadData(De),oe.message!==!1&&ye.modal&&ye.modal.message({content:un("vxe.table.impSuccess",[Fe.length]),status:"success"}),Ke.then(()=>{ce&&ce({status:!0})})}):oe.message!==!1&&(ye.modal&&ye.modal.message({content:un("vxe.error.impFields"),status:"error"}),de&&de({status:!1}))},q=(ae,oe)=>{const{importMethod:ie,afterImportMethod:ce}=oe,{type:de,filename:me}=IC(ae),be=b.value;if(!ie&&!s.includes(s.keys(be._typeMaps),de)){oe.message!==!1&&ye.modal&&ye.modal.message({content:un("vxe.error.notType",[de]),status:"error"});const Te={status:!1};return Promise.reject(Te)}return new Promise((Te,Le)=>{const Fe=De=>{Te(De),l._importResolve=null,l._importReject=null},ot=De=>{Le(De),l._importResolve=null,l._importReject=null};if(l._importResolve=Fe,l._importReject=ot,window.FileReader){const De=Object.assign({mode:"insertTop"},oe,{type:de,filename:me});if(De.remote)ie?Promise.resolve(ie({file:ae,options:De,$table:e})).then(()=>{Fe({status:!0})}).catch(()=>{Fe({status:!0})}):Fe({status:!0});else{const{tableFullColumn:Ke}=l;e.preventEvent(null,"event.import",{file:ae,options:De,columns:Ke},()=>{const we=new FileReader;we.onerror=()=>{Ne("vxe.error.notType",[de]),ot({status:!1})},we.onload=K=>{Z(K.target.result,De)},we.readAsText(ae,De.encoding||"UTF-8")})}}else Ne("vxe.error.notExp"),Fe({status:!0})}).then(()=>{ce&&ce({status:!0,options:oe,$table:e})}).catch(Te=>(ce&&ce({status:!1,options:oe,$table:e}),Promise.reject(Te)))},se=(ae,oe,ie)=>ie.some(ce=>{if(ba(ce))return oe.id===ce.id;if(s.isString(ce))return oe.field===ce;{const de=ce.id||ce.colId,me=ce.type,be=ce.field;if(de)return oe.id===de;if(be&&me)return oe.field===be&&oe.type===me;if(be)return oe.field===be;if(me)return oe.type===me}return!1}),pe=(ae,oe,ie,ce)=>ce&&s.includes(ce,oe.field)?!1:ie?!!s.includes(ie,oe.field):ae.original?!!oe.field:ca(oe),ge=(ae,oe)=>{const ie=e.xeGrid,ce=e.xeGantt,de=ie||ce,{treeConfig:me,showHeader:be,showFooter:le}=t,{initStore:Te,isGroup:Le,footerTableData:Fe,exportStore:ot,exportParams:De}=o,{collectColumn:Ke,mergeBodyList:we,mergeFooterList:K}=l,xe=p.value,Re=me,Ae=v.value,He=e.getCheckboxRecords(),We=de?de.getComputeMaps().computeProxyOpts.value:{},Xe=!!Fe.length,Je=!!(we.length||K.length),lt=Object.assign({message:!0,isHeader:be,isTitle:be,isFooter:le,isColgroup:Le,isMerge:Je,useStyle:!0,current:"current",modes:(We.ajax&&We.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"])},ae),Ge=lt.types||s.keys(xe._typeMaps),gt=lt.modes||[],Ve=Ae.checkMethod,je=Ke.slice(0),{columns:nt,excludeFields:at,includeFields:Mt}=lt,ht=Ge.map(pt=>({value:pt,label:un(`vxe.export.types.${pt}`)})),vt=gt.map(pt=>pt&&pt.value?{value:pt.value,label:pt.label||pt.value}:{value:pt,label:un(`vxe.export.modes.${pt}`)});s.eachTree(je,(pt,Ot,Tt,$t,ut)=>{const Ut=pt.children&&pt.children.length>0;let Yt=!1;nt&&nt.length?Yt=se(lt,pt,nt):at||Mt?Yt=pe(lt,pt,Mt,at):Yt=pt.visible&&(Ut||ca(pt)),pt.checked=Yt,pt.halfChecked=!1,pt.disabled=ut&&ut.disabled||(Ve?!Ve({$table:e,column:pt}):!1)}),Object.assign(ot,{columns:je,typeList:ht,modeList:vt,hasFooter:Xe,hasMerge:Je,hasTree:Re,isPrint:oe,hasColgroup:Le,visible:!0}),Object.assign(De,{mode:He.length?"selected":"current"},lt);const{filename:ft,sheetName:xt,mode:_e,type:St}=De;return ft&&(s.isFunction(ft)?De.filename=ft({options:lt,$table:e,$grid:ie,$gantt:ce}):De.filename=`${ft}`),xt&&(s.isFunction(xt)?De.sheetName=xt({options:lt,$table:e,$grid:ie,$gantt:ce}):De.sheetName=`${xt}`),vt.some(pt=>pt.value===_e)||(De.mode=vt[0].value),ht.some(pt=>pt.value===St)||(De.type=ht[0].value),Te.export=!0,ue()},ve=()=>ye.modal?ye.modal.close("VXE_EXPORT_MODAL"):Promise.resolve(),Oe={exportData(ae){const oe=e.xeGrid,ie=e.xeGantt,ce=oe||ie,{treeConfig:de,showHeader:me,showFooter:be}=t,{isGroup:le}=o,{tableFullColumn:Te,afterFullData:Le,afterTreeFullData:Fe,collectColumn:ot,mergeBodyList:De,mergeFooterList:Ke}=l,we=p.value,K=d.value,xe=ce?ce.getComputeMaps().computeProxyOpts.value:{},Re=!!(De.length||Ke.length),Ae=Object.assign({message:!0,isHeader:me,isTitle:me,isFooter:be,isColgroup:le,isMerge:Re,useStyle:!0,current:"current",modes:(xe.ajax&&xe.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"]),download:!0,type:"csv"},we,ae);let{filename:He,sheetName:We,type:Xe,mode:Je,columns:lt,original:Ge,columnFilterMethod:gt,beforeExportMethod:Ve,includeFields:je,excludeFields:nt}=Ae,at=[];const Mt=e.getCheckboxRecords();Je||(Je=Mt.length?"selected":"current");let ht=!1,vt=[];lt&&lt.length?(ht=!0,vt=lt):vt=s.searchTree(ot,_e=>{const St=_e.children&&_e.children.length>0;let pt=!1;return lt&&lt.length?pt=se(Ae,_e,lt):nt||je?pt=pe(Ae,_e,je,nt):pt=_e.visible&&(St||ca(_e)),pt},{children:"children",mapChildren:"childNodes",original:!0});const ft=Object.assign({},Ae,{filename:"",sheetName:""});!ht&&!gt&&(gt=({column:_e})=>nt&&s.includes(nt,_e.field)?!1:je?!!s.includes(je,_e.field):Ge?!!_e.field:ca(_e),ft.columnFilterMethod=gt),vt?(ft._isCustomColumn=!0,at=s.searchTree(s.mapTree(vt,_e=>{let St;if(_e){if(ba(_e))St=_e;else if(s.isString(_e))St=e.getColumnByField(_e);else{const pt=_e.id||_e.colId,Ot=_e.type,Tt=_e.field;pt?St=e.getColumnById(pt):Tt&&Ot?St=Te.find($t=>$t.field===Tt&&$t.type===Ot):Tt?St=e.getColumnByField(Tt):Ot&&(St=Te.find($t=>$t.type===Ot))}return St||{}}},{children:"childNodes",mapChildren:"_children"}),(_e,St)=>ba(_e)&&(!gt||gt({$table:e,$grid:oe,$gantt:ie,column:_e,$columnIndex:St})),{children:"_children",mapChildren:"childNodes",original:!0})):at=s.searchTree(le?ot:Te,(_e,St)=>_e.visible&&(!gt||gt({$table:e,$grid:oe,$gantt:ie,column:_e,$columnIndex:St})),{children:"children",mapChildren:"childNodes",original:!0});const xt=[];if(s.eachTree(at,_e=>{_e.children&&_e.children.length||xt.push(_e)},{children:"childNodes"}),ft.columns=xt,ft.colgroups=DS(at),He&&(s.isFunction(He)?ft.filename=He({options:Ae,$table:e,$grid:oe,$gantt:ie}):ft.filename=`${He}`),ft.filename||(ft.filename=un(ft.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[s.toDateString(Date.now(),"yyyyMMddHHmmss")])),We&&(s.isFunction(We)?ft.sheetName=We({options:Ae,$table:e,$grid:oe,$gantt:ie}):ft.sheetName=`${We}`),ft.sheetName||(ft.sheetName=document.title||""),!ft.exportMethod&&!s.includes(s.keys(we._typeMaps),Xe)){Ne("vxe.error.notType",[Xe]),["xlsx","pdf"].includes(Xe)&&Ze("vxe.error.reqPlugin",[4,"plugin-export-xlsx"]);const _e={status:!1};return Promise.reject(_e)}if(ft.print||Ve&&Ve({options:ft,$table:e,$grid:oe,$gantt:ie}),ft.data)ft._isCustomData=!0;else{if(ft.data=[],Je==="selected")["html","pdf"].indexOf(Xe)>-1&&de?ft.data=s.searchTree(e.getTableData().fullData,_e=>e.findRowIndexOf(Mt,_e)>-1,Object.assign({},K,{data:"_row"})):ft.data=Mt;else if(Je==="all"&&(ce||Ne("vxe.error.errProp",["all","mode=current,selected"]),ce&&!ft.remote)){const _e=ce.reactData,{computeProxyOpts:St}=ce.getComputeMaps(),pt=St.value,{sortData:Ot}=_e,{beforeQueryAll:Tt,afterQueryAll:$t,ajax:ut={}}=pt,Ut=pt.response||pt.props||{},Yt=ut.queryAll,Ct=ut.queryAllSuccess,wt=ut.queryAllError;if(Yt||Ne("vxe.error.notFunc",["proxy-config.ajax.queryAll"]),Yt){const qt={$table:e,$grid:oe,$gantt:ie,sort:Ot.length?Ot[0]:{},sorts:Ot,filters:_e.filterData,form:_e.formData,options:ft};return Promise.resolve((Tt||Yt)(qt)).then(Q=>{const re=Ut.list;return ft.data=(re?s.isFunction(re)?re({data:Q,$table:e,$grid:oe,$gantt:ie}):s.get(Q,re):Q)||[],$t&&$t(qt),Ct&&Ct(Object.assign(Object.assign({},qt),{response:Q})),B(ft)}).catch(Q=>{wt&&wt(Object.assign(Object.assign({},qt),{response:Q}))})}}Je==="current"&&(ft.data=de?Fe:Le)}return B(ft)},importByFile(ae,oe){const ie=Object.assign({},oe),{beforeImportMethod:ce}=ie;return ce&&ce({options:ie,$table:e}),q(ae,ie)},importData(ae){const oe=b.value,ie=Object.assign({types:s.keys(oe._typeMaps)},oe,ae),{beforeImportMethod:ce,afterImportMethod:de}=ie;return ce&&ce({options:ie,$table:e}),ye.readFile(ie).catch(me=>(de&&de({status:!1,options:ie,$table:e}),Promise.reject(me))).then(me=>{const{file:be}=me;return q(be,ie)})},saveFile(ae){return ye.saveFile(ae)},readFile(ae){return ye.readFile(ae)},print(ae){const oe=e.xeGrid,ie=e.xeGantt,ce=a.value,de=Object.assign({original:!1},ce,ae,{type:"html",download:!1,remote:!1,print:!0}),{sheetName:me}=de;let be="";me&&(s.isFunction(me)?be=me({options:de,$table:e,$grid:oe,$gantt:ie}):be=`${me}`),be||(be=document.title||"");const le=de.beforePrintMethod,Te=de.html||de.content;return new Promise((Le,Fe)=>{ye.print?Le(Te?ye.print({title:be,html:Te,customStyle:de.style,beforeMethod:le?({html:ot})=>le({html:ot,content:ot,options:de,$table:e,$grid:oe,$gantt:ie}):void 0}):Oe.exportData(de).then(({content:ot})=>ye.print({title:be,html:ot,customStyle:de.style,beforeMethod:le?({html:De})=>le({html:De,content:De,options:de,$table:e,$grid:oe,$gantt:ie}):void 0}))):Fe({status:!1})})},getPrintHtml(ae){const oe=a.value,ie=Object.assign({original:!1},oe,ae,{type:"html",download:!1,remote:!1,print:!0});return e.exportData(ie).then(({content:ce})=>({html:ce}))},closeImport(){return ye.modal?ye.modal.close("VXE_IMPORT_MODAL"):Promise.resolve()},openImport(ae){const{treeConfig:oe,importConfig:ie}=t,{initStore:ce,importStore:de,importParams:me}=o,be=b.value,le=Object.assign({mode:"insertTop",message:!0,types:s.keys(be._typeMaps),modes:["insertTop","covering"]},be,ae),Te=le.types||[],Le=le.modes||[];if(!!oe){le.message&&ye.modal&&ye.modal.message({content:un("vxe.error.treeNotImp"),status:"error"});return}ie||Ne("vxe.error.reqProp",["import-config"]);const ot=Te.map(Ke=>({value:Ke,label:un(`vxe.export.types.${Ke}`)})),De=Le.map(Ke=>Ke&&Ke.value?{value:Ke.value,label:Ke.label||Ke.value}:{value:Ke,label:un(`vxe.import.modes.${Ke}`)});Object.assign(de,{file:null,type:"",filename:"",modeList:De,typeList:ot,visible:!0}),Object.assign(me,le),De.some(Ke=>Ke.value===me.mode)||(me.mode=De[0].value),ce.import=!0},closeExport:ve,openExport(ae){const oe=p.value,ie=Object.assign({message:!0,types:s.keys(oe._typeMaps)},oe,ae);return t.exportConfig||Ne("vxe.error.reqProp",["export-config"]),ge(ie)},closePrint:ve,openPrint(ae){const oe=a.value,ie=Object.assign({message:!0},oe,ae);return t.printConfig||Ne("vxe.error.reqProp",["print-config"]),ge(ie,!0)}};return Oe},setupGrid(e){return e.extendTableMethods(Fb)},setupGantt(e){return e.extendTableMethods(Fb)}});const{hooks:LS}=ye,HS=s.browse();function $S(e,t){let o=0,l=0;const d=!HS.firefox&&hn(e,"vxe-checkbox--label");if(d){const a=getComputedStyle(e);o-=s.toNumber(a.paddingTop),l-=s.toNumber(a.paddingLeft)}for(;e&&e!==t;)if(o+=e.offsetTop,l+=e.offsetLeft,e=e.offsetParent,d){const a=getComputedStyle(e);o-=s.toNumber(a.paddingTop),l-=s.toNumber(a.paddingLeft)}return{offsetTop:o,offsetLeft:l}}LS.add("tableKeyboardModule",{setupTable(e){const{props:t,reactData:o,internalData:l}=e,{refElem:d}=e.getRefMaps(),{computeEditOpts:a,computeCheckboxOpts:p,computeMouseOpts:b,computeTreeOpts:v,computeRowOpts:y,computeColumnOpts:m,computeCellOpts:R,computeDefaultRowHeight:D,computeCurrentRowOpts:I,computeCurrentColumnOpts:h}=e.getComputeMaps();function f(W,te,X,F,M,H){const{showOverflow:j}=t,{fullAllDataRowIdData:N,isResizeCellHeight:B}=l,Z=y.value,q=R.value,se=D.value,{row:pe}=te;let ge=0,ve=[],Oe=0;const ae=H>0,{scrollYLoad:oe}=o,{afterFullData:ie}=l;if(ae?Oe=M+H:Oe=F.height-M+Math.abs(H),oe){const ce=e.getVTRowIndex(pe);if(!(B||q.height||Z.height)&&j)ae?ve=ie.slice(ce,ce+Math.ceil(Oe/se)):ve=ie.slice(ce-Math.floor(Oe/se),ce+1);else if(ae)for(let me=ce;me<ie.length;me++){const be=ie[me],le=e.getRowid(be),Te=N[le]||{};if(ge+=Te.resizeHeight||q.height||Z.height||Te.height||se,ve.push(be),ge>Oe)return ve}else for(let me=ce;me>=0;me--){const be=ie[me],le=e.getRowid(be),Te=N[le]||{};if(ge+=Te.resizeHeight||q.height||Z.height||Te.height||se,ve.push(be),ge>Oe)return ve}}else{const ce=ae?"next":"previous";for(;X&&ge<Oe;){const de=e.getRowNode(X);de&&(ve.push(de.item),ge+=X.offsetHeight,X=X[`${ce}ElementSibling`])}}return ve}const $=(W,te)=>{const{elemStore:X}=l,F=ct(X["main-body-scroll"]),M=ct(X["left-body-scroll"]),H=ct(X["right-body-scroll"]),{column:j,cell:N}=te;if(j.type==="checkbox"){let B=F;if(M&&j.fixed==="left"?B=M:H&&j.fixed==="right"&&(B=H),!B)return;const Z=d.value,q=W.clientX,se=W.clientY,pe=B.querySelector(".vxe-table--checkbox-range"),ge=N.parentElement,ve=e.getCheckboxRecords();let Oe=[];const ae=1,oe=$S(W.target,B),ie=oe.offsetTop+W.offsetY,ce=oe.offsetLeft+W.offsetX,de=B.scrollTop,me=ge.offsetHeight,be=ge.getBoundingClientRect(),le=se-be.y;let Te=null,Le=!1,Fe=1;const ot=(K,xe)=>{e.dispatchEvent(`checkbox-range-${K}`,{records:()=>e.getCheckboxRecords(),reserves:()=>e.getCheckboxReserveRecords()},xe)},De=K=>{const{clientX:xe,clientY:Re}=K,Ae=xe-q,He=Re-se+(B.scrollTop-de);let We=Math.abs(He),Xe=Math.abs(Ae),Je=ie,lt=ce;He<ae?(Je+=He,Je<ae&&(Je=ae,We=ie)):We=Math.min(We,B.scrollHeight-ie-ae),Ae<ae?(lt+=Ae,Xe>ce&&(lt=ae,Xe=ce)):Xe=Math.min(Xe,B.clientWidth-ce-ae),pe.style.height=`${We}px`,pe.style.width=`${Xe}px`,pe.style.left=`${lt}px`,pe.style.top=`${Je}px`,pe.style.display="block";const Ge=f(K,te,ge,be,le,He<ae?-We:We);if(We>10&&Ge.length!==Oe.length){const gt=$i(K);Oe=Ge,gt?Ge.forEach(Ve=>{e.handleBatchSelectRows([Ve],ve.indexOf(Ve)===-1)}):(e.setAllCheckboxRow(!1),e.handleCheckedCheckboxRow(Ge,!0,!1)),ot("change",K)}},Ke=()=>{clearTimeout(Te),Te=null},we=K=>{Ke(),Te=setTimeout(()=>{if(Te){const{scrollLeft:xe,scrollTop:Re,clientHeight:Ae,scrollHeight:He}=B,We=Math.ceil(Fe*50/me);Le?Re+Ae<He?(e.scrollTo(xe,Re+We),we(K),De(K)):Ke():Re?(e.scrollTo(xe,Re-We),we(K),De(K)):Ke()}},50)};Do(Z,"drag--range"),document.onmousemove=K=>{K.preventDefault(),K.stopPropagation();const{clientY:xe}=K,{boundingTop:Re}=ma(B);xe<Re?(Le=!1,Fe=Re-xe,Te||we(K)):xe>Re+B.clientHeight?(Le=!0,Fe=xe-Re-B.clientHeight,Te||we(K)):Te&&Ke(),De(K)},document.onmouseup=K=>{Ke(),co(Z,"drag--range"),pe.removeAttribute("style"),document.onmousemove=null,document.onmouseup=null,ot("end",K)},ot("start",W)}},k=(W,te)=>{const{editConfig:X,checkboxConfig:F,mouseConfig:M}=t,H=p.value,j=b.value,N=a.value;if(M&&j.area&&e.triggerCellAreaModnEvent)return e.triggerCellAreaModnEvent(W,te);F&&H.range&&$(W,te),M&&j.selected&&(!X||N.mode==="cell")&&e.handleSelected(te,W)},_=(W,te,X,F,M,H)=>{const{afterFullData:j,visibleColumn:N}=l,B=Object.assign({},te),Z=e.getVTRowIndex(B.row),q=e.getVTColumnIndex(B.column);return W.preventDefault(),F&&Z>0?(B.rowIndex=Z-1,B.row=j[B.rowIndex]):H&&Z<j.length-1?(B.rowIndex=Z+1,B.row=j[B.rowIndex]):X&&q?(B.columnIndex=q-1,B.column=N[B.columnIndex]):M&&q<N.length-1&&(B.columnIndex=q+1,B.column=N[B.columnIndex]),e.scrollToRow(B.row,B.column).then(()=>{B.cell=e.getCellElement(B.row,B.column),e.handleSelected(B,W)}),B};return{moveTabSelected(W,te,X){const{editConfig:F}=t,{afterFullData:M,visibleColumn:H}=l,j=a.value,N=y.value,B=I.value,Z=m.value,q=h.value;let se,pe,ge;const ve=Object.assign({},W),Oe=e.getVTRowIndex(ve.row),ae=e.getVTColumnIndex(ve.column);X.preventDefault(),te?ae<=0?Oe>0&&(pe=Oe-1,se=M[pe],ge=H.length-1):ge=ae-1:ae>=H.length-1?Oe<M.length-1&&(pe=Oe+1,se=M[pe],ge=0):ge=ae+1;const oe=H[ge];oe&&(se?(ve.rowIndex=pe,ve.row=se):ve.rowIndex=Oe,ve.columnIndex=ge,ve.column=oe,ve.cell=e.getCellElement(ve.row,ve.column),N.isCurrent&&B.isFollowSelected&&e.triggerCurrentRowEvent(X,ve),Z.isCurrent&&q.isFollowSelected&&e.triggerCurrentColumnEvent(X,ve),F?(j.trigger==="click"||j.trigger==="dblclick")&&(j.mode==="row"?e.handleEdit(ve,X):e.scrollToRow(ve.row,ve.column).then(()=>{e.handleSelected(ve,X)})):e.scrollToRow(ve.row,ve.column).then(()=>{e.handleSelected(ve,X)}))},moveCurrentRow(W,te,X){const{treeConfig:F}=t,{currentRow:M}=o,{afterFullData:H}=l,j=v.value,N=j.children||j.childrenField;let B;if(M)if(F){const{index:Z,items:q}=s.findTree(H,se=>se===M,{children:N});W&&Z>0?B=q[Z-1]:te&&Z<q.length-1&&(B=q[Z+1])}else{const Z=e.getVTRowIndex(M);W&&Z>0?B=H[Z-1]:te&&Z<H.length-1&&(B=H[Z+1])}else B=H[0];if(B){X.preventDefault();const Z={$table:e,row:B,rowIndex:e.getRowIndex(B),$rowIndex:e.getVMRowIndex(B)};e.scrollToRow(B).then(()=>e.triggerCurrentRowEvent(X,Z))}},moveCurrentColumn(W,te,X){const{currentColumn:F}=o,{visibleColumn:M}=l;let H=null;if(F){const j=e.getVTColumnIndex(F);W&&j>0?H=M[j-1]:te&&j<M.length-1&&(H=M[j+1])}else H=M[0];if(H){X.preventDefault();const j={$table:e,column:H,columnIndex:e.getColumnIndex(H),$columnIndex:e.getVMColumnIndex(H)};e.scrollToColumn(H).then(()=>e.triggerCurrentColumnEvent(X,j))}},moveArrowSelected(W,te,X,F,M,H){const{highlightCurrentRow:j,highlightCurrentColumn:N}=t,B=y.value,Z=I.value,q=m.value,se=h.value,pe=_(H,W,te,X,F,M);(B.isCurrent||j)&&(Z.isFollowSelected?e.triggerCurrentRowEvent(H,pe):(X||M)&&(B.isCurrent||j)&&e.moveCurrentRow(X,M,H)),(q.isCurrent||N)&&(se.isFollowSelected?e.triggerCurrentColumnEvent(H,pe):(te||F)&&(q.isCurrent||N)&&e.moveCurrentColumn(te,F,H))},moveEnterSelected(W,te,X,F,M,H){const{highlightCurrentRow:j,highlightCurrentColumn:N}=t,B=y.value,Z=I.value,q=m.value,se=h.value,pe=_(H,W,te,X,F,M);(B.isCurrent||j)&&Z.isFollowSelected&&e.triggerCurrentRowEvent(H,pe),(q.isCurrent||N)&&se.isFollowSelected&&e.triggerCurrentColumnEvent(H,pe)},moveSelected(W,te,X,F,M,H){_(H,W,te,X,F,M)},handleCellMousedownEvent:k}}});const{getConfig:PS,validators:_S,hooks:qS}=ye;class Ii{constructor(t){Object.assign(this,{$options:t,required:t.required,min:t.min,max:t.max,type:t.type,pattern:t.pattern,validator:t.validator,trigger:t.trigger,maxWidth:t.maxWidth})}get content(){return mn(this.$options.content||this.$options.message)}get message(){return this.content}}function NS(e,t){return!(e&&!(s.isRegExp(e)?e:new RegExp(e)).test(t))}function yf(e,t){return!(!s.eqNull(e)&&t>s.toNumber(e))}function Ef(e,t){return!(!s.eqNull(e)&&t<s.toNumber(e))}function Mb(e,t,o){const{type:l,min:d,max:a,pattern:p}=e,b=l==="array",v=l==="number",y=l==="string",m=`${t}`;if(!NS(p,m))return!1;if(b){if(!s.isArray(t)||o&&!t.length||!Ef(d,t.length)||!yf(a,t.length))return!1}else if(v){const R=Number(t);if(isNaN(R)||!Ef(d,R)||!yf(a,R))return!1}else if(y&&!s.isString(t)||o&&!m||!Ef(d,m.length)||!yf(a,m.length))return!1;return!0}function BS(e,t){const{required:o}=e,l=s.isArray(t)?!t.length:gn(t);if(o){if(l||!Mb(e,t,o))return!1}else if(!l&&!Mb(e,t,o))return!1;return!0}const Ib=["fullValidate","validate","fullValidateField","validateField","clearValidate"];qS.add("tableValidatorModule",{setupTable(e){const{props:t,reactData:o,internalData:l}=e,{refValidTooltip:d}=e.getRefMaps(),{computeValidOpts:a,computeTreeOpts:p,computeEditOpts:b,computeAggregateOpts:v}=e.getComputeMaps();let y={},m={},R;const D=f=>new Promise($=>{a.value.autoPos===!1?(e.dispatchEvent("valid-error",f,null),$()):e.handleEdit(f,{type:"valid-error",trigger:"call"}).then(()=>{$(m.showValidTooltip(f))})}),I=f=>{if(a.value.msgMode==="single"){const k=Object.keys(f),_={};if(k.length){const U=k[0];_[U]=f[U]}return _}return f},h=(f,$,k,_)=>{const U={},{editRules:W,treeConfig:te}=t,{isRowGroupStatus:X}=o,{afterFullData:F,pendingRowMaps:M,removeRowMaps:H}=l,j=p.value,N=v.value,B=a.value;let Z;f===!0?Z=F:f&&(s.isFunction(f)?k=f:Z=s.isArray(f)?f:[f]),Z||(e.getInsertRecords?Z=e.getInsertRecords().concat(e.getUpdateRecords()):Z=[]);const q=[];l._lastCallTime=Date.now(),R=!1,y.clearValidate();const se={};if(W){const pe=$&&$.length?$:e.getColumns(),ge=ve=>{const Oe=$e(e,ve);if(!H[Oe]&&!M[Oe]&&!e.isAggregateRecord(ve)&&(_||!R)){const ae=[];pe.forEach(oe=>{const ie=s.isString(oe)?oe:oe.field;(_||!R)&&s.has(W,ie)&&ae.push(m.validCellRules("all",ve,oe).catch(({rule:ce,rules:de})=>{const me={rule:ce,rules:de,rowIndex:e.getRowIndex(ve),row:ve,columnIndex:e.getColumnIndex(oe),column:oe,field:ie,$table:e};if(U[ie]||(U[ie]=[]),se[`${$e(e,ve)}:${oe.id}`]={column:oe,row:ve,rule:ce,content:ce.content},U[ie].push(me),!_)return R=!0,Promise.reject(me)}))}),q.push(Promise.all(ae))}};if(X)s.eachTree(Z,ge,{children:N.mapChildrenField});else if(te){const ve=j.children||j.childrenField;s.eachTree(Z,ge,{children:ve})}else Z.forEach(ge);return Promise.all(q).then(()=>{const ve=Object.keys(U);return o.validErrorMaps=I(se),ue().then(()=>{if(ve.length)return Promise.reject(U[ve[0]][0]);k&&k()})}).catch(ve=>new Promise((Oe,ae)=>{const oe=()=>{ue(()=>{k?(k(U),Oe()):PS().validToReject==="obsolete"?ae(U):Oe(U)})},ie=()=>{ve.cell=e.getCellElement(ve.row,ve.column),kR(ve.cell),D(ve).then(oe)};if(B.autoPos===!1)oe();else{const ce=ve.row,de=ve.column;e.scrollToRow(ce,de).then(ie)}}))}else o.validErrorMaps={};return ue().then(()=>{k&&k()})};return y={fullValidate(f,$){return s.isFunction($)&&Ze("vxe.error.notValidators",["fullValidate(rows, callback)","fullValidate(rows)"]),h(f,null,$,!0)},validate(f,$){return h(f,null,$)},fullValidateField(f,$){const k=(s.isArray($)?$:$?[$]:[]).map(_=>Er(e,_));return k.length?h(f,k,null,!0):ue()},validateField(f,$){const k=(s.isArray($)?$:$?[$]:[]).map(_=>Er(e,_));return k.length?h(f,k,null):ue()},clearValidate(f,$){const{validErrorMaps:k}=o,_=d.value,U=a.value,W=s.isArray(f)?f:f?[f]:[],te=(s.isArray($)?$:$?[$]:[]).map(F=>Er(e,F));let X={};if(_&&_.reactData.visible&&_.close(),U.msgMode==="single")return o.validErrorMaps={},ue();if(W.length&&te.length)X=Object.assign({},k),W.forEach(F=>{te.forEach(M=>{const H=`${$e(e,F)}:${M.id}`;X[H]&&delete X[H]})});else if(W.length){const F=W.map(M=>`${$e(e,M)}`);s.each(k,(M,H)=>{F.indexOf(H.split(":")[0])>-1&&(X[H]=M)})}else if(te.length){const F=te.map(M=>`${M.id}`);s.each(k,(M,H)=>{F.indexOf(H.split(":")[1])>-1&&(X[H]=M)})}return o.validErrorMaps=X,ue()}},m={validCellRules(f,$,k,_){const U=e.xeGrid,W=e.xeGantt,{editRules:te}=t,{field:X}=k,F=[],M=[];if(X&&te){const H=s.get(te,X);if(H){const j=s.isUndefined(_)?s.get($,X):_;H.forEach(N=>{const{trigger:B,validator:Z}=N;if(f==="all"||!B||f===B)if(Z){const q={cellValue:j,rule:N,rules:H,row:$,rowIndex:e.getRowIndex($),column:k,columnIndex:e.getColumnIndex(k),field:k.field,$table:e,$grid:U,$gantt:W};let se;if(s.isString(Z)){const pe=_S.get(Z);if(pe){const ge=pe.tableCellValidatorMethod||pe.cellValidatorMethod;ge?se=ge(q):Ne("vxe.error.notValidators",[Z])}else Ne("vxe.error.notValidators",[Z])}else se=Z(q);se&&(s.isError(se)?(R=!0,F.push(new Ii({type:"custom",trigger:B,content:se.message,rule:new Ii(N)}))):se.catch&&M.push(se.catch(pe=>{R=!0,F.push(new Ii({type:"custom",trigger:B,content:pe&&pe.message?pe.message:N.content||N.message,rule:new Ii(N)}))})))}else BS(N,j)||(R=!0,F.push(new Ii(N)))})}}return Promise.all(M).then(()=>{if(F.length){const H={rules:F,rule:F[0]};return Promise.reject(H)}})},hasCellRules(f,$,k){const{editRules:_}=t,{field:U}=k;if(U&&_){const W=s.get(_,U);return W&&!!s.find(W,te=>f==="all"||!te.trigger||f===te.trigger)}return!1},triggerValidate(f){const{editConfig:$,editRules:k}=t,{editStore:_}=o,{actived:U}=_,W=b.value,te=a.value;if(k&&te.msgMode==="single"&&(o.validErrorMaps={}),$&&k&&U.row){const{row:X,column:F,cell:M}=U.args;if(m.hasCellRules(f,X,F))return m.validCellRules(f,X,F).then(()=>{W.mode==="row"&&y.clearValidate(X,F)}).catch(({rule:H})=>{if(!H.trigger||f===H.trigger){const j={rule:H,row:X,column:F,cell:M};return m.showValidTooltip(j),Promise.reject(j)}return Promise.resolve()})}return Promise.resolve()},showValidTooltip(f){const{height:$}=t,{tableData:k,validStore:_,validErrorMaps:U}=o,{rule:W,row:te,column:X,cell:F}=f,M=a.value,H=d.value,j=W.content;return _.visible=!0,M.msgMode==="single"?o.validErrorMaps={[`${$e(e,te)}:${X.id}`]:{column:X,row:te,rule:W,content:j}}:o.validErrorMaps=Object.assign({},U,{[`${$e(e,te)}:${X.id}`]:{column:X,row:te,rule:W,content:j}}),e.dispatchEvent("valid-error",f,null),H&&H&&(M.message==="tooltip"||M.message==="default"&&!$&&k.length<2)?H.open(F,j):ue()}},Object.assign(Object.assign({},y),m)},setupGrid(e){return e.extendTableMethods(Ib)},setupGantt(e){return e.extendTableMethods(Ib)}});const Ab=["openCustom","closeCustom","toggleCustom","saveCustom","cancelCustom","resetCustom","toggleCustomAllCheckbox","setCustomAllCheckbox"];ye.hooks.add("tableCustomModule",{setupTable(e){const{reactData:t,internalData:o}=e,{computeCustomOpts:l,computeRowGroupFields:d}=e.getComputeMaps(),{refElem:a}=e.getRefMaps(),p=e.xeGrid,b=e.xeGantt,v=()=>{const{customStore:W}=t;let te=a.value,X=0;if(b){const{refGanttContainerElem:F}=b.getRefMaps(),M=F.value;M&&(te=M)}te&&(X=te.clientHeight-28),W.maxHeight=Math.max(88,X)},y=()=>{const{initStore:W,customStore:te}=t;return te.visible=!0,W.custom=!0,m(),k(),v(),ue().then(()=>v())},m=()=>{const{customStore:W}=t,{collectColumn:te}=o;if(W.visible){const X={},F={},M={};s.eachTree(te,H=>{const j=H.getKey();H.renderFixed=H.fixed,H.renderVisible=H.visible,H.renderResizeWidth=H.renderWidth,X[j]=H.renderSortNumber,F[j]=H.fixed,M[j]=H.visible}),W.oldSortMaps=X,W.oldFixedMaps=F,W.oldVisibleMaps=M,t.customColumnList=te.slice(0)}},R=()=>{const{customStore:W}=t,te=l.value;return W.visible&&(W.visible=!1,te.immediate||e.handleCustom()),ue()},D=()=>{const{customStore:W}=t;return W.visible?R():y()},I=()=>{const{customColumnList:W,aggHandleFields:te,rowGroupList:X}=t,F=l.value,{allowVisible:M,allowSort:H,allowFixed:j,allowResizable:N,allowGroup:B,allowValues:Z}=F;return s.eachTree(W,(q,se,pe,ge,ve)=>{if(ve)q.fixed=ve.fixed;else{if(H){const Oe=se+1;q.renderSortNumber=Oe}j&&(q.fixed=q.renderFixed)}N&&q.renderVisible&&(!q.children||q.children.length)&&q.renderResizeWidth!==q.renderWidth&&(q.resizeWidth=q.renderResizeWidth,q.renderWidth=q.renderResizeWidth),M&&(q.visible=q.renderVisible),B&&Z&&(q.aggFunc=q.renderAggFn)}),t.isCustomStatus=!0,B&&e.handlePivotTableAggregateData&&(X.length!==te.length||X.some((q,se)=>q.field!==te[se])?te.length?e.setRowGroups(te):e.clearRowGroups():Z&&e.handleUpdateAggData()),H&&(o.collectColumn=W),e.saveCustomStore("confirm")},h=()=>{const{customColumnList:W,customStore:te}=t,{oldSortMaps:X,oldFixedMaps:F,oldVisibleMaps:M}=te,H=l.value,{allowVisible:j,allowSort:N,allowFixed:B,allowResizable:Z}=H;return s.eachTree(W,q=>{const se=q.getKey(),pe=!!M[se],ge=F[se]||"";j&&(q.renderVisible=pe,q.visible=pe),B&&(q.renderFixed=ge,q.fixed=ge),N&&(q.renderSortNumber=X[se]||0),Z&&(q.renderResizeWidth=q.renderWidth)},{children:"children"}),ue()},f=W=>{const{customStore:te}=t,{customColumnList:X}=t,F=l.value,{checkMethod:M,visibleMethod:H}=F,j=!!W;return F.immediate?(s.eachTree(X,N=>{H&&!H({$table:e,column:N})||M&&!M({$table:e,column:N})||(N.visible=j,N.renderVisible=j,N.halfVisible=!1)}),te.isAll=j,t.isCustomStatus=!0,e.handleCustom(),e.saveCustomStore("update:visible")):(s.eachTree(X,N=>{H&&!H({$table:e,column:N})||M&&!M({$table:e,column:N})||(N.renderVisible=j,N.halfVisible=!1)}),te.isAll=j),e.checkCustomStatus(),ue()},$={getCustomVisible(){const{customStore:W}=t;return W.visible},openCustom:y,closeCustom:R,toggleCustom:D,saveCustom:I,cancelCustom:h,resetCustom(W){const{rowGroupList:te}=t,{collectColumn:X}=o,F=l.value,{checkMethod:M}=F,H=Object.assign({visible:!0,resizable:W===!0,fixed:W===!0,sort:W===!0,aggFunc:W===!0},W),j=[];if(s.eachTree(X,N=>{H.resizable&&(N.resizeWidth=0),H.fixed&&(N.fixed=N.defaultFixed),H.sort&&(N.renderSortNumber=N.sortNumber,N.parentId=N.defaultParentId),(!M||M({$table:e,column:N}))&&(N.visible=N.defaultVisible),H.aggFunc&&(N.aggFunc=N.defaultAggFunc,N.renderAggFn=N.defaultAggFunc),N.renderResizeWidth=N.renderWidth,j.push(N)}),H.sort){const N=s.toArrayTree(s.orderBy(j,"renderSortNumber"),{key:"id",parentKey:"parentId",children:"children"});o.collectColumn=N,o.tableFullColumn=_i(N)}return t.isCustomStatus=!1,e.handleCustom().then(()=>{if(H.aggFunc&&e.handlePivotTableAggregateData){const N=d.value;(N?N.length:te.length)?N&&N.length?e.setRowGroups(N):e.clearRowGroups():e.handleUpdateAggData()}e.saveCustomStore("reset")})},toggleCustomAllCheckbox(){const{customStore:W}=t,te=!W.isAll;return f(te)},setCustomAllCheckbox:f},k=()=>{const{customStore:W}=t,{collectColumn:te}=o,X=l.value,{checkMethod:F}=X;W.isAll=te.every(M=>(F?!F({$table:e,column:M}):!1)||M.renderVisible),W.isIndeterminate=!W.isAll&&te.some(M=>(!F||F({$table:e,column:M}))&&(M.renderVisible||M.halfVisible))},_=(W,te)=>{(p||b||e).dispatchEvent("custom",{type:W},te)},U={checkCustomStatus:k,emitCustomEvent:_,triggerCustomEvent(W){const te=e.reactData,{customStore:X}=te;X.visible?(R(),_("close",W)):(X.btnEl=W.target,y(),_("open",W))},customOpenEvent(W){const te=e.reactData,{customStore:X}=te;X.visible||(X.activeBtn=!0,X.btnEl=W.target,e.openCustom(),e.emitCustomEvent("open",W))},customCloseEvent(W){const te=e.reactData,{customStore:X}=te;X.visible&&(X.activeBtn=!1,e.closeCustom(),e.emitCustomEvent("close",W))},handleUpdateCustomColumn:m};return Object.assign(Object.assign({},$),U)},setupGrid(e){return e.extendTableMethods(Ab)},setupGantt(e){return e.extendTableMethods(Ab)}});const{getConfig:xa,renderer:GS,getI18n:cg,getComponent:tw}=ye,rw="modelValue",ow={};function pn(e,t,o){return s.eqNull(e)?s.eqNull(t)?o:t:e}function VS(e,t){return e&&t.valueFormat?s.toStringDate(e,t.valueFormat):e}function zS(e,t,o){const{dateConfig:l={}}=t;return s.toDateString(VS(e,t),l.labelFormat||o)}function Rf(e,t){return zS(e,t,cg(`vxe.input.date.labelFormat.${t.type||"date"}`))}function WS(e){return`vxe-${e.replace("$","")}`}function lo({name:e}){return tw(e)}function Ba({name:e}){return ey(WS(e))}function Sa(e,t,o){const{$panel:l}=e;l.changeOption({},t,o)}function Ga(e){let{name:t,attrs:o}=e;return t==="input"&&(o=Object.assign({type:"text"},o)),o}function nw(e){const{name:t,immediate:o,props:l}=e;if(!o){if(t==="VxeInput"||t==="$input"){const{type:d}=l||{};return!(!d||d==="text"||d==="number"||d==="integer"||d==="float")}return!(t==="input"||t==="textarea"||t==="$textarea")}return o}function Mo(e,t,o,l){return s.assign({immediate:nw(e)},ow,l,e.props,{[rw]:o})}function Oa(e,t,o,l){return s.assign({},ow,l,e.props,{[rw]:o})}function Va(e,t){return t.$type==="cell"||nw(e)}function go(e,t,o,l){const{placeholder:d}=e;return[E("span",{class:["vxe-cell--label",l?l.class:""]},d&&rg(o)?[E("span",{class:"vxe-cell--placeholder"},jr(mn(d),1))]:jr(o,1))]}function lw(e,t,o){const{events:l}=e,d=jC(e),a=UC(e),{model:p,change:b,blur:v}=o||{},y=a===d,m={};return l&&s.objectEach(l,(R,D)=>{m[Un(D)]=function(...I){R(t,...I)}}),p&&(m[Un(d)]=function(R){p(R),y&&b&&b(R),l&&l[d]&&l[d](t,R)}),!y&&b&&(m[Un(a)]=function(R){b(R),l&&l[a]&&l[a](t,R)}),v&&(m[Un(ei)]=function(R){v(R),l&&l[ei]&&l[ei](t,R)}),m}const ei="blur";function Kn(e,t,o,l){const{events:d}=e,a=jC(e),p=UC(e),{model:b,change:v,blur:y}=o||{},m={};return s.objectEach(d,(R,D)=>{m[Un(D)]=function(...I){s.isFunction(R)||Ne("vxe.error.errFunc",[R]),R(t,...I)}}),b&&(m[Un(a)]=function(R){b(R),d&&d[a]&&d[a](t,R)}),v&&(m[Un(p)]=function(...R){v(...R),d&&d[p]&&d[p](t,...R)}),y&&(m[Un(ei)]=function(...R){y(...R),d&&d[ei]&&d[ei](t,...R)}),l?Object.assign(m,l):m}function Po(e,t){const{$table:o,row:l,column:d}=t,{name:a}=e,{model:p}=d,b=Va(e,t);return Kn(e,t,{model(v){p.update=!0,p.value=v,b&&Yo(l,d,v)},change(v){if(!b&&a&&["VxeInput","VxeNumberInput","VxeTextarea","$input","$textarea"].includes(a)){const y=v.value;p.update=!0,p.value=y,o.updateStatus(t,y)}else o.updateStatus(t)},blur(){b?o.handleCellRuleUpdateStatus("blur",t):o.handleCellRuleUpdateStatus("blur",t,p.value)}})}function Da(e,t,o){return Kn(e,t,{model(l){o.data=l},change(){Sa(t,!s.eqNull(o.data),o)},blur(){Sa(t,!s.eqNull(o.data),o)}})}function iw(e,t){const{$table:o,row:l,column:d}=t,{model:a}=d;return lw(e,t,{model(p){const b=p.target;if(b){const v=b.value;Va(e,t)?Yo(l,d,v):(a.update=!0,a.value=v)}},change(p){const b=p.target;if(b){const v=b.value;o.updateStatus(t,v)}},blur(p){const b=p.target;if(b){const v=b.value;o.updateStatus(t,v)}}})}function aw(e,t,o){return lw(e,t,{model(l){const d=l.target;d&&(o.data=d.value)},change(){Sa(t,!s.eqNull(o.data),o)},blur(){Sa(t,!s.eqNull(o.data),o)}})}function Sf(e,t){const{row:o,column:l}=t,{name:d}=e,a=Va(e,t)?Pr(o,l):l.model.value;return[E(`${d}`,Object.assign(Object.assign(Object.assign({class:`vxe-default-${d}`},Ga(e)),{value:a}),iw(e,t)))]}function jS(e,t){return[E(lo(e),Object.assign(Object.assign({},Mo(e,t,null)),Kn(e,t)))]}function bo(e,t){const{row:o,column:l}=t,d=Pr(o,l);return[E(lo(e),Object.assign(Object.assign({},Mo(e,t,d)),Po(e,t)))]}function US(e,t){const{row:o,column:l}=t,d=Pr(o,l);return[E(lo(e),Object.assign(Object.assign({},Mo(e,t,d)),Po(e,t)))]}function kb(e,t){const{options:o}=e,{row:l,column:d}=t,a=Pr(l,d);return[E(lo(e),Object.assign(Object.assign({options:o},Mo(e,t,a)),Po(e,t)))]}function da(e,t){const{row:o,column:l}=t,d=Pr(o,l);return[E(Ba(e),Object.assign(Object.assign({},Mo(e,t,d)),Po(e,t)))]}function sw(e,t){return[E(tw("vxe-button"),Object.assign(Object.assign({},Mo(e,t,null)),Kn(e,t)))]}function YS(e,t){const{children:o}=e;return o?o.map(l=>sw(l,t)[0]):[]}function cw(e,t,o){const{optionGroups:l,optionGroupProps:d={}}=e,a=d.options||"options",p=d.label||"label";return l?l.map((b,v)=>E("optgroup",{key:v,label:b[p]},o(b[a],e,t))):[]}function Ta(e,t,o){const{optionProps:l={}}=t,{row:d,column:a}=o,p=l.label||"label",b=l.value||"value",v=l.disabled||"disabled",y=Va(t,o)?Pr(d,a):a.model.value;return e?e.map((m,R)=>E("option",{key:R,value:m[b],disabled:m[v],selected:m[b]==y},m[p])):[]}function XS(e,t){const{column:o}=t,{name:l}=e,d=Ga(e);return o.filters.map((a,p)=>E(`${l}`,Object.assign(Object.assign(Object.assign({key:p,class:`vxe-default-${l}`},d),{value:a.data}),aw(e,t,a))))}function Of(e,t){const{column:o}=t;return o.filters.map((l,d)=>{const a=l.data;return E(lo(e),Object.assign(Object.assign({key:d},Oa(e,e,a)),Da(e,t,l)))})}function KS(e,t){const{column:o}=t;return o.filters.map((l,d)=>{const a=l.data;return E(Ba(e),Object.assign(Object.assign({key:d},Oa(e,e,a)),Da(e,t,l)))})}function Ai({option:e,row:t,column:o}){const{data:l}=e;return s.get(t,o.field)==l}function ki({option:e,row:t,column:o}){const{data:l}=e,d=s.get(t,o.field);return s.toValueString(d).indexOf(l)>-1}function Lb(e,t){return[E("select",Object.assign(Object.assign({class:"vxe-default-select"},Ga(e)),iw(e,t)),e.optionGroups?cw(e,t,Ta):Ta(e.options,e,t))]}function Hb(e,t){const{row:o,column:l}=t,{options:d,optionProps:a,optionGroups:p,optionGroupProps:b}=e,v=Pr(o,l);return[E(lo(e),Object.assign(Object.assign({},Mo(e,t,v,{options:d,optionProps:a,optionGroups:p,optionGroupProps:b})),Po(e,t)))]}function $b(e,t){const{row:o,column:l}=t,{options:d,optionProps:a}=e,p=Pr(o,l);return[E(lo(e),Object.assign(Object.assign({},Mo(e,t,p,{options:d,optionProps:a})),Po(e,t)))]}function Pb(e,t){const{row:o,column:l}=t,{options:d,optionProps:a,optionGroups:p,optionGroupProps:b}=e,v=Pr(o,l);return[E(Ba(e),Object.assign(Object.assign({},Mo(e,t,v,{options:d,optionProps:a,optionGroups:p,optionGroupProps:b})),Po(e,t)))]}function Xl(e,{row:t,column:o}){const{options:l,optionGroups:d,optionProps:a={},optionGroupProps:p={}}=e,b=s.get(t,o.field);let v;const y=a.label||"label",m=a.value||"value";return b!=null?s.map(s.isArray(b)?b:[b],d?R=>{const D=p.options||"options";for(let I=0;I<d.length&&(v=s.find(d[I][D],h=>h[m]==R),!v);I++);return v?v[y]:R}:R=>(v=s.find(l,D=>D[m]==R),v?v[y]:R)).join(", "):""}function fa(e){const{row:t,column:o,options:l}=e;return l.original?Pr(t,o):Xl(o.editRender||o.cellRender,e)}function Hi(e,{row:t,column:o}){const{options:l,optionProps:d={}}=e,a=s.get(t,o.field),p=d.label||"label",b=d.value||"value",v=d.children||"children";if(a!=null){const y={};return s.eachTree(l,m=>{y[s.get(m,b)]=m},{children:v}),s.map(s.isArray(a)?a:[a],m=>{const R=y[m];return R&&s.get(R,p)}).join(", ")}return""}function Df(e){const{row:t,column:o,options:l}=e;return l.original?Pr(t,o):Hi(o.editRender||o.cellRender,e)}function _b(e,t){const{props:o={},showNegativeStatus:l}=e,{row:d,column:a}=t,{type:p}=o;let b=s.get(d,a.field),v=!1;if(!rg(b)){const y=xa().numberInput||{};if(p==="float"){const m=pn(o.autoFill,y.autoFill,!0),R=pn(o.digits,y.digits,1);b=s.toFixed(s.floor(b,R),R),m||(b=s.toNumber(b)),l&&b<0&&(v=!0)}else if(p==="amount"){const m=pn(o.autoFill,y.autoFill,!0),R=pn(o.digits,y.digits,2),D=pn(o.showCurrency,y.showCurrency,!1);if(b=s.toNumber(b),l&&b<0&&(v=!0),b=s.commafy(b,{digits:R}),!m){const[I,h]=b.split(".");if(h){const f=h.replace(/0+$/,"");b=f?[I,".",f].join(""):I}}D&&(b=`${o.currencySymbol||y.currencySymbol||cg("vxe.numberInput.currencySymbol")||""}${b}`)}else l&&s.toNumber(b)<0&&(v=!0)}return go(e,t,b,v?{class:"is--negative"}:{})}GS.mixin({input:{tableAutoFocus:"input",renderTableEdit:Sf,renderTableDefault:Sf,renderTableFilter:XS,tableFilterDefaultMethod:ki},textarea:{tableAutoFocus:"textarea",renderTableEdit:Sf},select:{renderTableEdit:Lb,renderTableDefault:Lb,renderTableCell(e,t){return go(e,t,Xl(e,t))},renderTableFilter(e,t){const{column:o}=t;return o.filters.map((l,d)=>E("select",Object.assign(Object.assign({key:d,class:"vxe-default-select"},Ga(e)),aw(e,t,l)),e.optionGroups?cw(e,t,Ta):Ta(e.options,e,t)))},tableFilterDefaultMethod:Ai,tableExportMethod:fa},VxeInput:{tableAutoFocus:"input",renderTableEdit:bo,renderTableCell(e,t){const{props:o={}}=e,{row:l,column:d}=t,a=xa().input||{},p=o.digits||a.digits||2;let b=s.get(l,d.field);if(b)switch(o.type){case"date":case"week":case"month":case"quarter":case"year":b=Rf(b,o);break;case"float":b=s.toFixed(s.floor(b,p),p);break}return go(e,t,b)},renderTableDefault:bo,renderTableFilter:Of,tableFilterDefaultMethod:ki},FormatNumberInput:{renderTableDefault:_b,tableFilterDefaultMethod:ki,tableExportMethod(e){const{row:t,column:o}=e;return s.get(t,o.field)}},VxeNumberInput:{tableAutoFocus:"input",renderTableEdit:bo,renderTableCell:_b,renderTableFooter(e,t){const{props:o={}}=e,{row:l,column:d,_columnIndex:a}=t,{type:p}=o,b=s.isArray(l)?l[a]:s.get(l,d.field);if(s.isNumber(b)){const v=xa().numberInput||{};if(p==="float"){const y=pn(o.autoFill,v.autoFill,!0),m=pn(o.digits,v.digits,1);let R=s.toFixed(s.floor(b,m),m);return y||(R=s.toNumber(R)),R}else if(p==="amount"){const y=pn(o.autoFill,v.autoFill,!0),m=pn(o.digits,v.digits,2),R=pn(o.showCurrency,v.showCurrency,!1);let D=s.commafy(s.toNumber(b),{digits:m});if(!y){const[I,h]=D.split(".");if(h){const f=h.replace(/0+$/,"");D=f?[I,".",f].join(""):I}}return R&&(D=`${o.currencySymbol||v.currencySymbol||cg("vxe.numberInput.currencySymbol")||""}${D}`),D}}return mn(b,1)},renderTableDefault:bo,renderTableFilter:Of,tableFilterDefaultMethod:ki,tableExportMethod(e){const{row:t,column:o}=e;return s.get(t,o.field)}},VxeDatePicker:{tableAutoFocus:"input",renderTableEdit:bo,renderTableCell(e,t){const{props:o={}}=e,{row:l,column:d}=t;let a=s.get(l,d.field);return a&&o.type!=="time"&&(a=Rf(a,o)),go(e,t,a)},renderTableDefault:bo,renderTableFilter:Of,tableFilterDefaultMethod:Ai},VxeDateRangePicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{startField:o,endField:l}=e,{$table:d,row:a,column:p}=t,{model:b}=p,v=Pr(a,p),y={},m={};return o&&l&&(y.startValue=s.get(a,o),y.endValue=s.get(a,l),m["onUpdate:startValue"]=R=>{o&&s.set(a,o,R)},m["onUpdate:endValue"]=R=>{l&&s.set(a,l,R)}),[E(lo(e),Object.assign(Object.assign({},Mo(e,t,v,y)),Kn(e,t,{model(R){b.update=!0,b.value=R,Yo(a,p,R)},change(){d.updateStatus(t)},blur(){d.handleCellRuleUpdateStatus("blur",t)}},m)))]},renderTableCell(e,t){const{startField:o,endField:l}=e,{row:d,column:a}=t;let p="",b="";if(o&&l)p=s.get(d,o),b=s.get(d,l);else{const y=s.get(d,a.field);if(y)if(s.isArray(y))p=y[0],b=y[1];else{const m=`${y}`.split(",");p=m[0],b=m[1]}}let v="";return p&&b&&(v=`${p} ~ ${b}`),go(e,t,v)}},VxeTextarea:{tableAutoFocus:"textarea",renderTableEdit:bo,renderTableCell(e,t){const{row:o,column:l}=t,d=s.get(o,l.field);return go(e,t,d)}},VxeButton:{renderTableDefault:jS},VxeButtonGroup:{renderTableDefault(e,t){const{options:o}=e;return[E(lo(e),Object.assign(Object.assign({options:o},Mo(e,t,null)),Kn(e,t)))]}},VxeSelect:{tableAutoFocus:"input",renderTableEdit:Hb,renderTableDefault:Hb,renderTableCell(e,t){return go(e,t,Xl(e,t))},renderTableFilter(e,t){const{column:o}=t,{options:l,optionProps:d,optionGroups:a,optionGroupProps:p}=e;return o.filters.map((b,v)=>{const y=b.data;return E(lo(e),Object.assign(Object.assign({key:v},Oa(e,t,y,{options:l,optionProps:d,optionGroups:a,optionGroupProps:p})),Da(e,t,b)))})},tableFilterDefaultMethod:Ai,tableExportMethod:fa},VxeText:{renderTableDefault(e,t){const{$table:o,row:l,column:d}=t,{props:a}=e,p=o.getCellLabel(l,d);return[E(lo(e),Object.assign(Object.assign(Object.assign({},a||{}),{content:p}),Kn(e,t)))]}},VxeLink:{renderTableDefault(e,t){const{$table:o,row:l,column:d}=t,{props:a}=e,{href:p}=a||{},b=o.getCellLabel(l,d);return[E(lo(e),Object.assign(Object.assign(Object.assign({},a||{}),{content:b,href:s.toFormatString(p,t)}),Kn(e,t)))]}},formatOption:{renderTableDefault(e,t){return go(e,t,Xl(e,t))}},FormatSelect:{renderTableDefault(e,t){return go(e,t,Xl(e,t))},tableFilterDefaultMethod:Ai,tableExportMethod:fa},VxeTreeSelect:{tableAutoFocus:"input",renderTableEdit:$b,renderTableCell(e,t){return go(e,t,Hi(e,t))},tableExportMethod:Df},formatTree:{renderTableDefault(e,t){return go(e,t,Hi(e,t))}},FormatTreeSelect:{renderTableDefault(e,t){return go(e,t,Hi(e,t))},tableExportMethod:Df},VxeTableSelect:{tableAutoFocus:"input",renderTableEdit:$b,renderTableCell(e,t){return go(e,t,Hi(e,t))},tableExportMethod:Df},VxeColorPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:o,column:l}=t,{options:d}=e,a=Pr(o,l);return[E(lo(e),Object.assign(Object.assign({},Mo(e,t,a,{colors:d})),Po(e,t)))]},renderTableCell(e,t){const{row:o,column:l}=t,d=s.get(o,l.field);return E("span",{class:"vxe-color-picker--readonly"},[E("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:d}})])}},VxeIconPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:o,column:l}=t,{options:d}=e,a=Pr(o,l);return[E(lo(e),Object.assign(Object.assign({},Mo(e,t,a,{icons:d})),Po(e,t)))]},renderTableCell(e,t){const{row:o,column:l}=t,d=s.get(o,l.field);return E("i",{class:d})}},VxeRadioGroup:{renderTableDefault:kb},VxeCheckbox:{renderTableDefault:US},VxeCheckboxGroup:{renderTableDefault:kb},VxeSwitch:{tableAutoFocus:"button",renderTableEdit:bo,renderTableDefault:bo},VxeUpload:{renderTableEdit:bo,renderTableCell:bo,renderTableDefault:bo},VxeImage:{renderTableDefault(e,t){const{row:o,column:l}=t,{props:d}=e,a=Pr(o,l);return[E(lo(e),Object.assign(Object.assign(Object.assign({},d),{src:a}),Po(e,t)))]}},VxeImageGroup:{renderTableDefault(e,t){const{row:o,column:l}=t,{props:d}=e,a=Pr(o,l);return[E(lo(e),Object.assign(Object.assign(Object.assign({},d),{urlList:a}),Po(e,t)))]}},VxeTextEllipsis:{renderTableDefault(e,t){const{row:o,column:l}=t,{props:d}=e,a=Pr(o,l);return[E(lo(e),Object.assign(Object.assign(Object.assign({},d),{content:a}),Po(e,t)))]}},VxeRate:{renderTableDefault:bo},VxeSlider:{renderTableDefault:bo},$input:{tableAutoFocus:".vxe-input--inner",renderTableEdit:da,renderTableCell(e,t){var o;const{props:l={}}=e,{row:d,column:a}=t,p=l.digits||((o=xa().input)===null||o===void 0?void 0:o.digits)||2;let b=s.get(d,a.field);if(b)switch(l.type){case"date":case"week":case"month":case"year":b=Rf(b,l);break;case"float":b=s.toFixed(s.floor(b,p),p);break}return go(e,t,b)},renderTableDefault:da,renderTableFilter:KS,tableFilterDefaultMethod:ki},$textarea:{tableAutoFocus:".vxe-textarea--inner"},$button:{renderTableDefault:sw},$buttons:{renderTableDefault:YS},$select:{tableAutoFocus:".vxe-input--inner",renderTableEdit:Pb,renderTableDefault:Pb,renderTableCell(e,t){return go(e,t,Xl(e,t))},renderTableFilter(e,t){const{column:o}=t,{options:l,optionProps:d,optionGroups:a,optionGroupProps:p}=e;return o.filters.map((b,v)=>{const y=b.data;return E(Ba(e),Object.assign(Object.assign({key:v},Oa(e,t,y,{options:l,optionProps:d,optionGroups:a,optionGroupProps:p})),Da(e,t,b)))})},tableFilterDefaultMethod:Ai,tableExportMethod:fa},$radio:{tableAutoFocus:".vxe-radio--input"},$checkbox:{tableAutoFocus:".vxe-checkbox--input"},$switch:{tableAutoFocus:".vxe-switch--button",renderTableEdit:da,renderTableDefault:da}});const{getConfig:Ht,getIcon:ga,getI18n:jo,renderer:Tf,formats:qb,createEvent:ZS,globalResize:JS,interceptor:Nb,hooks:QS,globalEvents:dr,GLOBAL_EVENT_KEYS:Oo,useFns:eO,renderEmptyElement:eo}=ye,Bb=5e6,Gb="VXE_CUSTOM_STORE",vl=5e6,zl=5e6;let fo=null;const wl=Ao({name:"VxeTable",props:Ea,emits:ag,setup(e,t){const{slots:o,emit:l}=t,d=s.uniqueId(),a=s.browse(),p=ye.getComponent("VxeLoading"),b=ye.getComponent("VxeTooltip"),v=to("$xeTabs",null),y=to("$xeGrid",null),m=to("$xeGantt",null),R=y||m,{computeSize:D}=eO.useSize(e),I=lS(),h=Fo({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],rowGroupColumn:null,expandColumn:null,checkboxColumn:null,radioColumn:null,treeNodeColumn:null,hasFixedColumn:!1,upDataFlag:0,reColumnFlag:0,initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0,oldSortMaps:{},oldFixedMaps:{},oldVisibleMaps:{}},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],autoMinList:[],scaleList:[],scaleMinList:[],autoList:[],remainList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null}},tooltipStore:{row:null,column:null,content:null,visible:!1,type:null,currOpts:{}},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isTitle:!1,isFooter:!1},visiblwRowsFlag:1,isRowGroupStatus:!1,rowGroupList:[],aggHandleFields:[],aggHandleAggColumns:[],rowGroupExpandedFlag:1,rowExpandedFlag:1,treeExpandedFlag:1,updateCheckboxFlag:1,pendingRowFlag:1,insertRowFlag:1,removeRowFlag:1,mergeHeadFlag:1,mergeBodyFlag:1,mergeFootFlag:1,rowHeightStore:{large:52,default:48,medium:44,small:40,mini:36},scrollVMLoading:!1,scrollYHeight:0,scrollYTop:0,isScrollYBig:!1,scrollXLeft:0,scrollXWidth:0,isScrollXBig:!1,lazScrollLoading:!1,rowExpandHeightFlag:1,calcCellHeightFlag:1,resizeHeightFlag:1,resizeWidthFlag:1,isCustomStatus:!1,isCrossDragRow:!1,dragRow:null,isCrossDragCol:!1,dragCol:null,dragTipText:"",isDragResize:!1,isRowLoading:!1,isColLoading:!1}),f=Qm();let $={},k={};const _=Ye(),U=Ye(),W=Ye(),te=Ye(),X=Ye(),F=Ye(),M=Ye(),H=Ye(),j=Ye(),N=Ye(),B=Ye(),Z=Ye(),q=Ye(),se=Ye(),pe=Ye(),ge=Ye(),ve=Ye(),Oe=Ye(),ae=Ye(),oe=Ye(),ie=Ye(),ce=Ye(),de=Ye(),me=Ye(),be=Ye(),le=Ye(),Te=Ye(),Le=Ye(),Fe=Ye(),ot=Ye(),De=Ye(),Ke=Ye(),we=Ye(),K=Ye(),xe=Ye(),Re=Ye(),Ae=Ye(),He=Ye(),We=Ye(),Xe=Ye(),Je=Ye(),lt=Ye();let Ge;const gt=qe(()=>{const{id:r}=e;return r?s.isFunction(r)?`${r({$table:u,$grid:y,$gantt:m})||""}`:`${r}`:""}),Ve=qe(()=>{const r=Ct.value;return`${e.rowId||r.keyField||"_X_ROW_KEY"}`}),je=qe(()=>Object.assign({},Ht().table.validConfig,e.validConfig)),nt=qe(()=>ht.value),at=qe(()=>{const r=ht.value,{threshold:n}=r;return n?s.toNumber(n):0}),Mt=qe(()=>vt.value),ht=qe(()=>{const{virtualXConfig:r,scrollX:n}=e,i=Ht().table.virtualXConfig,c=Ht().table.scrollX;return r?Object.assign({},i,r):n?Object.assign({},c,n):i?Object.assign({},i,r):Object.assign({},c,n)}),vt=qe(()=>{const{virtualYConfig:r,scrollY:n}=e,i=Ht().table.virtualYConfig,c=Ht().table.scrollY;return r?Object.assign({},i,r):n?Object.assign({},c,n):i?Object.assign({},i,r):Object.assign({},c,n)}),ft=qe(()=>Object.assign({},Ht().table.scrollbarConfig,e.scrollbarConfig)),xt=qe(()=>{const r=ft.value;return!!(r.x&&r.x.position==="top")}),_e=qe(()=>{const r=ft.value;return!!(r.y&&r.y.position==="left")}),St=qe(()=>{const r=vt.value,{threshold:n}=r;return n?s.toNumber(n):0}),pt=qe(()=>h.rowHeightStore),Ot=qe(()=>{const r=D.value;return pt.value[r||"default"]||18}),Tt=qe(()=>Object.assign({},Ht().table.columnConfig,e.columnConfig)),$t=qe(()=>Object.assign({},Ht().table.currentColumnConfig,e.currentColumnConfig)),ut=qe(()=>{const r=Object.assign({},Ht().table.cellConfig,e.cellConfig);return r.height&&(r.height=s.toNumber(r.height)),r}),Ut=qe(()=>{const r=Object.assign({},Ht().table.headerCellConfig,e.headerCellConfig),n=Ot.value,i=ut.value;let c=s.toNumber(ya(r.height||i.height));if(m){const{computeTaskScaleConfs:g}=m.getComputeMaps(),x=g.value;if(x&&x.length>2){const w=n/2*x.length;c=Math.max(w,c)}}return r.height=c,r}),Yt=qe(()=>{const r=Object.assign({},Ht().table.footerCellConfig,e.footerCellConfig),n=ut.value;return r.height=s.toNumber(ya(r.height||n.height)),r}),Ct=qe(()=>Object.assign({},Ht().table.rowConfig,e.rowConfig)),wt=qe(()=>Object.assign({},Ht().table.aggregateConfig||Ht().table.rowGroupConfig,e.aggregateConfig||e.rowGroupConfig)),qt=qe(()=>wt.value),Q=qe(()=>Object.assign({},Ht().table.currentRowConfig,e.currentRowConfig)),re=qe(()=>Object.assign({},Ht().table.rowDragConfig,e.rowDragConfig)),Ee=qe(()=>Object.assign({},Ht().table.columnDragConfig,e.columnDragConfig)),ke=qe(()=>Object.assign({},Ht().table.resizeConfig,e.resizeConfig)),Be=qe(()=>Object.assign({},Ht().table.resizableConfig,e.resizableConfig)),Et=qe(()=>Object.assign({startIndex:0},Ht().table.seqConfig,e.seqConfig)),Dt=qe(()=>Object.assign({},Ht().table.radioConfig,e.radioConfig)),it=qe(()=>Object.assign({},Ht().table.checkboxConfig,e.checkboxConfig)),Ft=qe(()=>Object.assign({},Ht().tooltip,Ht().table.tooltipConfig,e.tooltipConfig)),Qe=qe(()=>Object.assign({},Ht().tooltip,Ht().table.headerTooltipConfig,e.headerTooltipConfig)),kt=qe(()=>Object.assign({},Ht().tooltip,Ht().table.footerTooltipConfig,e.footerTooltipConfig)),Xt=qe(()=>{const{tooltipStore:r}=h,n=Ft.value;return Object.assign({},n,r.currOpts)}),Ar=qe(()=>{const r=Ft.value;return Object.assign({},r)}),Cr=qe(()=>Object.assign({},Ht().table.editConfig,e.editConfig)),wr=qe(()=>Object.assign({orders:["asc","desc",null]},Ht().table.sortConfig,e.sortConfig)),qr=qe(()=>Object.assign({},Ht().table.filterConfig,e.filterConfig)),fr=qe(()=>Object.assign({},Ht().table.mouseConfig,e.mouseConfig)),Kr=qe(()=>Object.assign({},Ht().table.areaConfig,e.areaConfig)),yr=qe(()=>Object.assign({},Ht().table.keyboardConfig,e.keyboardConfig)),Vt=qe(()=>Object.assign({},Ht().table.clipConfig,e.clipConfig)),Fr=qe(()=>bt.value),bt=qe(()=>Object.assign({},Ht().table.fnrConfig,e.fnrConfig)),mr=qe(()=>Object.assign({},Ht().table.menuConfig,e.menuConfig)),gr=qe(()=>{const{columnStore:r}=h,{leftList:n}=r;let i=0;for(let c=0;c<n.length;c++){const g=n[c];i+=g.renderWidth}return i}),ir=qe(()=>{const{columnStore:r}=h,{rightList:n}=r;let i=0;for(let c=0;c<n.length;c++){const g=n[c];i+=g.renderWidth}return i}),ho=qe(()=>{const n=mr.value.header;return n&&n.options?n.options:[]}),nr=qe(()=>{const n=mr.value.body;return n&&n.options?n.options:[]}),Nr=qe(()=>{const n=mr.value.footer;return n&&n.options?n.options:[]}),io=qe(()=>Sr.value),Sr=qe(()=>{const r=mr.value,n=ho.value,i=nr.value,c=Nr.value;return!!(e.menuConfig&&It(r)&&(n.length||i.length||c.length))}),Zr=qe(()=>{const{ctxMenuStore:r}=h,n=[];return r.list.forEach(i=>{i.forEach(c=>{n.push(c)})}),n}),oo=qe(()=>Object.assign({},Ht().table.exportConfig,e.exportConfig)),Gr=qe(()=>Object.assign({},Ht().table.importConfig,e.importConfig)),$r=qe(()=>Object.assign({},Ht().table.printConfig,e.printConfig)),er=qe(()=>Object.assign({},Ht().table.expandConfig,e.expandConfig)),yt=qe(()=>Object.assign({},Ht().table.treeConfig,e.treeConfig)),Ur=qe(()=>Object.assign({},Ht().table.emptyRender,e.emptyRender)),kr=qe(()=>Object.assign({},Ht().table.loadingConfig,e.loadingConfig)),Zo=qe(()=>e.border?Math.max(2,Math.ceil(h.scrollbarWidth/h.tableColumn.length)):1),Jr=qe(()=>Object.assign({},Ht().table.customConfig,e.customConfig)),uo=qe(()=>{const{tableData:r,rowExpandedFlag:n,expandColumn:i,rowGroupExpandedFlag:c,treeExpandedFlag:g}=h,{visibleDataRowIdData:x,rowExpandedMaps:w}=f,C=[];return r.length&&i&&n&&c&&g&&s.each(w,(S,O)=>{x[O]&&C.push(S)}),C}),Jo=qe(()=>{const{visibleColumn:r}=f,{tableColumn:n}=h;return n.length||r.length?r.filter(i=>i.width==="auto"||i.minWidth==="auto"):[]}),Qo=qe(()=>{const{tableColumn:r}=h,{collectColumn:n}=f;let i=0;return r.length&&n.length&&n.forEach(c=>{c.renderFixed&&i++}),i}),en=qe(()=>{const r=Qo.value,n=Tt.value,{maxFixedSize:i}=n;return i?r>=i:!1}),Bo=qe(()=>{const{border:r}=e;return r===!0?"full":r||"default"}),yo=qe(()=>{const{treeConfig:r}=e,{tableData:n}=h,{tableFullData:i}=f,c=it.value,{strict:g,checkMethod:x}=c;return g?n.length||i.length?x?i.every(w=>!x({$table:u,row:w})):!1:!0:!1}),Tl=qe(()=>{const{overflowX:r,scrollXLoad:n,overflowY:i,scrollYLoad:c}=h;return{x:r&&n,y:i&&c}}),el=qe(()=>qt.value.groupFields),ko=qe(()=>{const{rowGroupList:r}=h,{fullColumnFieldData:n}=f,i=[];return r.forEach(c=>{const g=n[c.field];g&&i.push(g.column)}),i}),ui={refElem:_,refTooltip:W,refValidTooltip:X,refTableFilter:M,refTableCustom:H,refTableMenu:F,refTableHeader:N,refTableBody:B,refTableFooter:Z,refTableLeftHeader:q,refTableLeftBody:se,refTableLeftFooter:pe,refTableRightHeader:ge,refTableRightBody:ve,refTableRightFooter:Oe,refLeftContainer:ie,refRightContainer:ce,refColResizeBar:de,refRowResizeBar:me,refScrollXVirtualElem:De,refScrollYVirtualElem:Ke,refScrollXHandleElem:we,refScrollYHandleElem:Re,refScrollXSpaceElem:Je,refScrollYSpaceElem:lt},tl={computeSize:D,computeTableId:gt,computeValidOpts:je,computeRowField:Ve,computeVirtualXOpts:ht,computeVirtualYOpts:vt,computeScrollbarOpts:ft,computeScrollbarXToTop:xt,computeScrollbarYToLeft:_e,computeColumnOpts:Tt,computeCurrentColumnOpts:$t,computeScrollXThreshold:at,computeScrollYThreshold:St,computeRowHeightMaps:pt,computeDefaultRowHeight:Ot,computeCellOpts:ut,computeHeaderCellOpts:Ut,computeFooterCellOpts:Yt,computeRowOpts:Ct,computeAggregateOpts:wt,computeRowGroupOpts:qt,computeCurrentRowOpts:Q,computeRowDragOpts:re,computeColumnDragOpts:Ee,computeResizeOpts:ke,computeResizableOpts:Be,computeSeqOpts:Et,computeRadioOpts:Dt,computeCheckboxOpts:it,computeTooltipOpts:Ft,computeHeaderTooltipOpts:Qe,computeFooterTooltipOpts:kt,computeEditOpts:Cr,computeSortOpts:wr,computeFilterOpts:qr,computeMouseOpts:fr,computeAreaOpts:Kr,computeKeyboardOpts:yr,computeClipOpts:Vt,computeFnrOpts:bt,computeHeaderMenu:ho,computeBodyMenu:nr,computeFooterMenu:Nr,computeIsMenu:io,computeIsContentMenu:Sr,computeMenuList:Zr,computeMenuOpts:mr,computeExportOpts:oo,computeImportOpts:Gr,computePrintOpts:$r,computeExpandOpts:er,computeTreeOpts:yt,computeEmptyOpts:Ur,computeLoadingOpts:kr,computeCellOffsetWidth:Zo,computeCustomOpts:Jr,computeLeftFixedWidth:gr,computeRightFixedWidth:ir,computeFixedColumnSize:Qo,computeIsMaxFixedColumn:en,computeIsAllCheckboxDisabled:yo,computeVirtualScrollBars:Tl,computeRowGroupFields:el,computeRowGroupColumns:ko,computeFNROpts:Fr,computeSXOpts:nt,computeSYOpts:Mt},u={xID:d,props:e,context:t,reactData:h,internalData:f,getRefMaps:()=>ui,getComputeMaps:()=>tl,xeGrid:y,xeGantt:m,xegrid:y},rl=(r,n,i)=>{const c=s.get(r,i),g=s.get(n,i);return gn(c)&&gn(g)?!0:s.isString(c)||s.isNumber(c)?""+c==""+g:s.isEqual(c,g)},tn=()=>{const r=Ve.value;f.currKeyField=r,f.isCurrDeepKey=PR(r)},vr=(r,n)=>s.isBoolean(r)?r:n,ol=r=>{const n=wr.value,{orders:i=[]}=n,c=r.order||null,g=i.indexOf(c)+1;return i[g<i.length?g:0]},vo=r=>{const n=Ht().version,i=s.toStringJSON(localStorage.getItem(Gb)||""),c=i&&i._v===n?i:{_v:n};return(r?c[r]:c)||{}},di=(r,n)=>{const i=Ht().version,c=vo();c[r]=n||void 0,c._v=i,localStorage.setItem(Gb,s.toJSONString(c))},rn=r=>{const{fullAllDataRowIdData:n}=f,i={};return s.each(r,(c,g)=>{n[g]&&(i[g]=c)}),i},wn=r=>{const{fullDataRowIdData:n}=f,i=[];return s.each(r,(c,g)=>{n[g]&&u.findRowIndexOf(i,n[g].row)===-1&&i.push(n[g].row)}),i},Lo=()=>{const{isScrollXBig:r,scrollXWidth:n}=h,{elemStore:i,visibleColumn:c,fullColumnIdData:g}=f,x=gr.value,w=ir.value,C=ct(i["main-body-scroll"]);if(C){const S=C.clientWidth;let O=C.scrollLeft;r&&(O=Math.ceil((n-S)*Math.min(1,O/(zl-S))));const T=O+x,A=O+S-w;let L=0,V=c.length;for(;L<V;){const ee=Math.floor((L+V)/2),ne=c[ee].id;(g[ne]||{}).oLeft<=T?L=ee+1:V=ee}let Y=0;const P=L===c.length?L:Math.max(0,L<c.length?L-2:0);for(let ee=P,J=c.length;ee<J;ee++){const z=c[ee].id,G=g[z]||{};if(Y++,G.oLeft>A||Y>=60)break}return{toVisibleIndex:Math.max(0,P),visibleSize:Math.max(1,Y)}}return{toVisibleIndex:0,visibleSize:6}},mo=(r,n)=>{const{rowHeightStore:i}=h;n&&n.clientHeight&&(i[r]=n.clientHeight)},Hn=()=>{const{isAllOverflow:r}=h,n=N.value,i=B.value,c=i?i.$el:null,g=Ot.value;let x=0;if(r){if(c){const w=n?n.$el:null;let C;C=c.querySelector("tr"),!C&&w&&(C=w.querySelector("tr")),C&&(x=C.clientHeight)}x||(x=g)}else x=g;return Math.max(18,x)},Fl=()=>{const{isAllOverflow:r,expandColumn:n,isScrollYBig:i,scrollYHeight:c}=h,{elemStore:g,isResizeCellHeight:x,afterFullData:w,fullAllDataRowIdData:C}=f,S=Ct.value,O=ut.value,T=Ot.value,A=ct(g["main-body-scroll"]);if(A){const L=A.clientHeight;let V=A.scrollTop;i&&(V=Math.ceil((c-L)*Math.min(1,V/(vl-L))));const Y=V,P=V+L;let ee=-1,J=0;if(!(x||O.height||S.height)&&!n&&r)ee=Math.floor(Y/T)-1,J=Math.ceil(L/T)+1;else{const{handleGetRowId:z}=Tr(u);let G=0,Ce=w.length;for(;G<Ce;){const he=Math.floor((G+Ce)/2),fe=w[he],Pe=z(fe);(C[Pe]||{}).oTop<=Y?G=he+1:Ce=he}ee=G===w.length?G:Math.max(0,G<w.length?G-2:0);for(let he=ee,fe=w.length;he<fe;he++){const Pe=w[he],Me=z(Pe),Se=C[Me]||{};if(J++,Se.oTop>P||J>=100)break}}return{toVisibleIndex:Math.max(0,ee),visibleSize:Math.max(6,J)}}return{toVisibleIndex:0,visibleSize:6}},nl=(r,n,i)=>{for(let c=0,g=r.length;c<g;c++){const x=r[c],{startIndex:w,endIndex:C}=n,S=x[i],O=x[i+"span"],T=S+O;S<w&&w<T&&(n.startIndex=S),S<C&&C<T&&(n.endIndex=T),(n.startIndex!==w||n.endIndex!==C)&&(c=-1)}};function $n(r){const n={};if(r&&r.length)for(let i=0;i<r.length;i++){const{row:c,col:g,rowspan:x,colspan:w}=r[i];for(let C=0;C<x;C++)for(let S=0;S<w;S++)n[`${c+C}:${g+S}`]=!C&&!S?{rowspan:x,colspan:w}:{rowspan:0,colspan:0}}return n}const Ml=r=>{f.mergeBodyList=[],f.mergeBodyMaps={},f.mergeBodyCellMaps={},u.setMergeCells(r)},Go=r=>{const{fullAllDataRowIdData:n,fullColumnIdData:i,visibleColumn:c,afterFullData:g,mergeBodyList:x,mergeBodyMaps:w}=f;if(r){const{handleGetRowId:C}=Tr(u);s.isArray(r)||(r=[r]),r.forEach(S=>{let{row:O,col:T,rowspan:A,colspan:L}=S,V=-1,Y=-1;if(s.isNumber(O))V=O;else{const P=O?C(O):null,ee=P?n[P]:null;ee&&(V=ee._index)}if(s.isNumber(T))Y=T;else{const P=T?T.id:null,ee=P?i[P]:null;ee&&(Y=ee._index)}if(V>-1&&Y>-1&&(A||L)&&(A=s.toNumber(A)||1,L=s.toNumber(L)||1,A>1||L>1)){const P=g[V],ee=c[Y];let J=w[`${V}:${Y}`];J?(J.rowspan=A,J.colspan=L,J._rowspan=A,J._colspan=L):(J={row:V,col:Y,rowspan:A,colspan:L,_row:P,_col:ee,_rowspan:A,_colspan:L},w[`${V}:${Y}`]=J,x.push(J))}})}},Il=r=>{const{mergeBodyList:n,fullColumnIdData:i,fullAllDataRowIdData:c,mergeBodyMaps:g}=f,x=[];if(r){const{handleGetRowId:w}=Tr(u);s.isArray(r)||(r=[r]),r.forEach(C=>{const{row:S,col:O}=C;let T=-1,A=-1;if(s.isNumber(S))T=S;else{const V=S?w(S):null,Y=V?c[V]:null;Y&&(T=Y._index)}if(s.isNumber(O))A=O;else{const V=O?O.id:null,Y=V?i[V]:null;Y&&(A=Y._index)}const L=s.findIndexOf(n,V=>V.row===T&&V.col===A);if(L>-1){const V=n.splice(L,1);V[0]&&(x.push(V[0]),g[`${T}:${A}`]&&delete g[`${T}:${A}`])}})}return x},Al=r=>{f.mergeHeaderList=[],f.mergeHeaderMaps={},f.mergeHeaderCellMaps={},u.setMergeHeaderCells(r)},on=r=>{const{showCustomHeader:n}=e,{footerTableData:i}=h,{mergeHeaderList:c,mergeHeaderMaps:g,fullColumnIdData:x}=f;if(r){const{visibleColumn:w}=f;s.isArray(r)||(r=[r]),r.forEach(C=>{let{row:S,col:O,rowspan:T,colspan:A}=C;const L=s.isNumber(S)?S:-1;let V=-1;if(s.isNumber(O))V=O;else{const Y=O?O.id:null,P=Y?x[Y]:null;P&&(V=P._index)}if(L>-1&&V>-1&&(T||A)){if(T=s.toNumber(T)||1,A=s.toNumber(A)||1,!n&&T>1){Ne("vxe.error.notSupportProp",["[table] show-custom-header=false",`rowspan=${T}`,"rowspan=1"]);return}if(T>1||A>1){const Y=i[L],P=w[V];let ee=g[`${L}:${V}`];ee?(ee.rowspan=T,ee.colspan=A,ee._rowspan=T,ee._colspan=A):(ee={row:L,col:V,rowspan:T,colspan:A,_row:Y,_col:P,_rowspan:T,_colspan:A},g[`${L}:${V}`]=ee,c.push(ee))}}})}},fi=r=>{const{mergeHeaderList:n,fullColumnIdData:i,mergeHeaderMaps:c}=f,g=[];return r&&(s.isArray(r)||(r=[r]),r.forEach(x=>{const{row:w,col:C}=x,S=s.isNumber(w)?w:-1;let O=-1;if(s.isNumber(C))O=C;else{const A=C?C.id:null,L=A?i[A]:null;L&&(O=L._index)}const T=s.findIndexOf(n,A=>A.row===S&&A.col===O);if(T>-1){const L=n.splice(T,1)[0];L&&(g.push(L),c[`${S}:${O}`]&&delete c[`${S}:${O}`])}})),g},Ho=r=>{f.mergeFooterList=[],f.mergeFooterMaps={},f.mergeFooterCellMaps={},u.setMergeFooterCells(r)},Mr=r=>{const{footerTableData:n}=h,{mergeFooterList:i,mergeFooterMaps:c,fullColumnIdData:g}=f;if(r){const{visibleColumn:x}=f;s.isArray(r)||(r=[r]),r.forEach(w=>{let{row:C,col:S,rowspan:O,colspan:T}=w;const A=s.isNumber(C)?C:-1;let L=-1;if(s.isNumber(S))L=S;else{const V=S?S.id:null,Y=V?g[V]:null;Y&&(L=Y._index)}if(A>-1&&L>-1&&(O||T)&&(O=s.toNumber(O)||1,T=s.toNumber(T)||1,O>1||T>1)){const V=n[A],Y=x[L];let P=c[`${A}:${L}`];P?(P.rowspan=O,P.colspan=T,P._rowspan=O,P._colspan=T):(P={row:A,col:L,rowspan:O,colspan:T,_row:V,_col:Y,_rowspan:O,_colspan:T},c[`${A}:${L}`]=P,i.push(P))}})}},yn=r=>{const{mergeFooterList:n,fullColumnIdData:i,mergeFooterMaps:c}=f,g=[];return r&&(s.isArray(r)||(r=[r]),r.forEach(x=>{const{row:w,col:C}=x,S=s.isNumber(w)?w:-1;let O=-1;if(s.isNumber(C))O=C;else{const A=C?C.id:null,L=A?i[A]:null;L&&(O=L._index)}const T=s.findIndexOf(n,A=>A.row===S&&A.col===O);if(T>-1){const L=n.splice(T,1)[0];L&&(g.push(L),c[`${S}:${O}`]&&delete c[`${S}:${O}`])}})),g},ll=(r,n,i)=>{const{tableFullColumn:c}=f,g=wr.value,{multiple:x,remote:w,orders:C}=g;if(s.isArray(n)||(n=[n]),n&&n.length){const S={};x||(n=[n[0]],c.forEach(A=>{A.order&&(S[A.id]=A)}));const O={};let T=null;return n.forEach((A,L)=>{let{field:V,order:Y}=A,P=V;s.isString(V)&&(P=u.getColumnByField(V)),T||(T=P),P&&P.sortable&&(C&&C.indexOf(Y)===-1&&(Y=ol(P)),P.order!==Y&&(P.order=Y),P.sortTime=Date.now()+L,O[P.id]=P)}),x||s.each(S,(A,L)=>{O[L]||(A.order=null)}),i&&(w||u.handleTableData(!0)),r&&u.handleColumnSortEvent(r,T),ue().then(()=>(ao(),u.updateCellAreas(),Vr()))}return ue()},Vo=()=>{const{tableFullColumn:r}=f;r.forEach(n=>{n.order=null})},nn=r=>{const{editConfig:n}=e,{parentHeight:i}=h;let c=e[r];if(r==="minHeight"){const x=Ht().table.minHeight;s.eqNull(c)&&(gn(x)?It(n)&&(c=144):c=x)}let g=0;if(c)if(c==="100%"||c==="auto")g=i;else{const x=u.getExcludeHeight();Yl(c)?g=Math.floor((s.toInteger(c)||1)/100*i):g=s.toNumber(c),g=Math.max(40,g-x)}return g},En=r=>{const{aggregateConfig:n,rowGroupConfig:i}=e,{collectColumn:c}=f,g=Jr.value,{storage:x,storeOptions:w}=g,C=x===!0,S=C?{}:Object.assign({},x||{},w),O=vr(S.resizable,C),T=vr(S.visible,C),A=vr(S.fixed,C),L=vr(S.sort,C),V=vr(S.aggGroup,C),Y=vr(S.aggFunc,C);let{resizableData:P,sortData:ee,visibleData:J,fixedData:ne,aggGroupData:z,aggFuncData:G}=r;if(O&&P||L&&ee||T&&J||A&&ne||V&&z||Y&&G){const Ce={};if(L&&ee){if(!s.isArray(ee)){const Se=[];s.each(ee,(Ie,ze)=>{Se.push({key:ze,index:Ie})}),ee=s.orderBy(Se,{field:"index",order:"asc"}).map(Ie=>({k:Ie.key}))}let Me=1;s.eachTree(ee,(Se,Ie,ze,st,Ue)=>{Ce[Se.k]={key:Se.k,sNum:Me++,pKey:Ue?Ue.k:null}},{children:"c"})}const he={},fe=[],Pe=[];if(s.eachTree(c,(Me,Se,Ie,ze,st)=>{const Ue=Me.getKey();st||A&&ne&&ne[Ue]!==void 0&&(Me.fixed=ne[Ue]),O&&P&&s.isNumber(P[Ue])&&(Me.resizeWidth=P[Ue]),T&&J&&s.isBoolean(J[Ue])&&(Me.visible=J[Ue]),Y&&G&&(n||i)&&G[Ue]&&(Me.aggFunc=G[Ue]),V&&z&&z[Ue]&&Pe.push({field:Me.field}),he[Ue]=Me,fe.push(Me)}),(n||i)&&Pe.length){const Me=Ua(f.tableFullData,Pe);f.tableFullTreeData=[],f.tableFullGroupData=Me.treeData,h.isRowGroupStatus=!0,h.rowGroupList=Pe,u.cacheRowMap(!1)}if(L&&ee){fe.forEach(Se=>{const Ie=Se.getKey(),ze=Ce[Ie];if(ze){const st=ze.pKey?he[ze.pKey]:null;Se.parentId=st?st.id:null,Se.renderSortNumber=ze.sNum}});const Me=s.toArrayTree(s.orderBy(fe,"renderSortNumber"),{key:"id",parentKey:"parentId",children:"children"});f.collectColumn=Me,f.tableFullColumn=_i(Me)}h.isCustomStatus=!0}else h.isCustomStatus=!1},gi=()=>{const{customConfig:r}=e,n=gt.value,i=Jr.value,{storage:c,restoreStore:g,storeOptions:x}=i,w=c===!0,C=w?{}:Object.assign({},c||{},x),S=vr(C.resizable,w),O=vr(C.visible,w),T=vr(C.fixed,w),A=vr(C.sort,w),L=vr(C.aggGroup,w),V=vr(C.aggFunc,w);if(c&&(r?It(i):i.enabled)&&(S||O||T||A||L||V)){if(!n){Ne("vxe.error.reqProp",["id"]);return}const Y=vo(n);return g?Promise.resolve(g({$table:u,id:n,type:"restore",storeData:Y})).then(P=>{if(P)return En(P)}).catch(P=>P):En(Y)}},Rn=()=>{const{treeConfig:r,showOverflow:n}=e,{tableFullColumn:i,collectColumn:c}=f,g=f.fullColumnIdData={},x=f.fullColumnFieldData={},w=fr.value,C=er.value,S=Tt.value,O=Ee.value,T=vt.value,{isCrossDrag:A,isSelfToChildDrag:L}=O,V=Jr.value,Y=yt.value,{storage:P}=V,ee=Ct.value,J=c.some(Kl);let ne=!!n,z,G,Ce,he,fe,Pe;const Me=(Se,Ie,ze,st,Ue)=>{const{id:et,field:tt,fixed:dt,type:Lt,treeNode:zt,rowGroupNode:Nt}=Se,rt={$index:-1,_index:-1,column:Se,colid:et,index:Ie,items:ze,parent:Ue||null,width:0,oLeft:0};tt?(x[tt]&&Ne("vxe.error.colRepet",["field",tt]),x[tt]=rt):(P&&!Lt&&Ne("vxe.error.reqSupportProp",["storage",`${Se.getTitle()||Lt||""} -> field=?`]),S.drag&&(A||L)&&Ne("vxe.error.reqSupportProp",["column-drag-config.isCrossDrag | column-drag-config.isSelfToChildDrag",`${Se.getTitle()||Lt||""} -> field=?`])),!Pe&&Lt==="html"&&(Pe=Se),zt&&(Ce&&Ze("vxe.error.colRepet",["tree-node",zt]),Ce||(Ce=Se)),Nt&&(Ce&&Ze("vxe.error.colRepet",["row-group-node",Nt]),z||(z=Se)),Lt==="expand"&&(G&&Ze("vxe.error.colRepet",["type",Lt]),G||(G=Se)),Lt==="checkbox"?(he&&Ze("vxe.error.colRepet",["type",Lt]),he||(he=Se)):Lt==="radio"&&(fe&&Ze("vxe.error.colRepet",["type",Lt]),fe||(fe=Se)),ne&&Se.showOverflow===!1&&(ne=!1),g[et]&&Ne("vxe.error.colRepet",["colId",et]),g[et]=rt};J?s.eachTree(c,(Se,Ie,ze,st,Ue,et)=>{Se.level=et.length,Me(Se,Ie,ze,st,Ue)}):i.forEach(Me),G&&C.mode!=="fixed"&&T.enabled&&Ze("vxe.error.notConflictProp",['column.type="expand',"virtual-y-config.enabled=false"]),G&&C.mode!=="fixed"&&w.area&&Ne("vxe.error.errConflicts",["mouse-config.area","column.type=expand"]),G&&C.mode!=="inside"&&r&&!Y.transform&&Ne("vxe.error.notConflictProp",["tree-config.transform=false","expand-config.mode=fixed"]),Pe&&(S.useKey||Ne("vxe.error.notSupportProp",["column.type=html","column-config.useKey=false","column-config.useKey=true"]),ee.useKey||Ne("vxe.error.notSupportProp",["column.type=html","row-config.useKey=false","row-config.useKey=true"])),h.isGroup=J,h.rowGroupColumn=z,h.treeNodeColumn=Ce,h.expandColumn=G,h.checkboxColumn=he,h.radioColumn=fe,h.isAllOverflow=ne},kl=()=>{f.customHeight=nn("height"),f.customMinHeight=nn("minHeight"),f.customMaxHeight=nn("maxHeight"),h.scrollYLoad&&!(f.customHeight||f.customMinHeight)&&(f.customHeight=300)},Ll=(r,n)=>{const i=Tt.value,{autoOptions:c}=i,{isCalcHeader:g,isCalcBody:x,isCalcFooter:w}=c||{},C=[];g&&C.push(`.vxe-header-cell--wrapper[colid="${r.id}"]`),x&&C.push(`.vxe-body-cell--wrapper[colid="${r.id}"]`),w&&C.push(`.vxe-footer-cell--wrapper[colid="${r.id}"]`);const S=C.length?n.querySelectorAll(C.join(",")):[];let O=0;const T=S[0];if(T&&T.parentElement){const L=getComputedStyle(T.parentElement);O=Math.ceil(s.toNumber(L.paddingLeft)+s.toNumber(L.paddingRight))}let A=r.renderAutoWidth-O;for(let L=0;L<S.length;L++){const V=S[L];A=Math.max(A,V?Math.ceil(V.scrollWidth)+4:0)}return A+O},ln=()=>{const r=Jo.value,{fullColumnIdData:n}=f,i=_.value;i&&(i.setAttribute("data-calc-col","Y"),r.forEach(c=>{const g=c.id,x=n[g],w=Ll(c,i);x&&(x.width=Math.max(w,x.width)),c.renderAutoWidth=w}),u.analyColumnWidth(),i.removeAttribute("data-calc-col"))},zo=()=>{const{elemStore:r}=f,n=ct(r["main-body-wrapper"]);if(!n||!Re.value||!we.value)return;let g=0;const x=40,w=n.clientWidth;let C=w,S=C/100;const{fit:O}=e,{columnStore:T}=h,{resizeList:A,pxMinList:L,autoMinList:V,pxList:Y,scaleList:P,scaleMinList:ee,autoList:J,remainList:ne}=T;if(L.forEach(z=>{const G=s.toInteger(z.minWidth);g+=G,z.renderWidth=G}),V.forEach(z=>{const G=Math.max(60,s.toInteger(z.renderAutoWidth));g+=G,z.renderWidth=G}),ee.forEach(z=>{const G=Math.floor(s.toInteger(z.minWidth)*S);g+=G,z.renderWidth=G}),P.forEach(z=>{const G=Math.floor(s.toInteger(z.width)*S);g+=G,z.renderWidth=G}),Y.forEach(z=>{const G=s.toInteger(z.width);g+=G,z.renderWidth=G}),J.forEach(z=>{const G=Math.max(60,s.toInteger(z.renderAutoWidth));g+=G,z.renderWidth=G}),A.forEach(z=>{const G=s.toInteger(z.resizeWidth);g+=G,z.renderWidth=G}),C-=g,S=C>0?Math.floor(C/(ee.length+L.length+V.length+ne.length)):0,O?C>0&&ee.concat(L).concat(V).forEach(z=>{g+=S,z.renderWidth+=S}):S=x,ne.forEach(z=>{const G=Math.max(S,x);z.renderWidth=G,g+=G}),O){const z=P.concat(ee).concat(L).concat(V).concat(ne);let G=z.length-1;if(G>0){let Ce=w-g;if(Ce>0){for(;Ce>0&&G>=0;)Ce--,z[G--].renderWidth++;g=w}}}h.scrollXWidth=g,h.resizeWidthFlag++,Qi(),kl()},Eo=(r,n)=>{const i=n.querySelectorAll(`.vxe-cell--wrapper[rowid="${r.rowid}"]`);let c=r.height,g=null,x=0;for(let w=0;w<i.length;w++){const C=i[w],S=C.parentElement;g||(g=getComputedStyle(S),x=g?Math.ceil(s.toNumber(g.paddingTop)+s.toNumber(g.paddingBottom)):0);const O=C?C.clientHeight:0;c=Math.max(c,Math.ceil(O+x))}return c},Sn=()=>{const{tableData:r,isAllOverflow:n,scrollYLoad:i,scrollXLoad:c}=h,{fullAllDataRowIdData:g}=f,x=Ot.value,w=_.value;if(!n&&(i||c)&&w){const{handleGetRowId:C}=Tr(u);w.setAttribute("data-calc-row","Y"),r.forEach(S=>{const O=C(S),T=g[O];if(T){const A=Eo(T,w);T.height=Math.max(x,c?Math.max(T.height,A):A)}w.removeAttribute("data-calc-row")}),h.calcCellHeightFlag++}},Wt=r=>{const{sortBy:n,sortType:i}=r;return c=>{let g;return n?g=s.isFunction(n)?n({row:c,column:r}):s.get(c,n):g=$.getCellLabel(c,r),!i||i==="auto"?isNaN(g)?g:s.toNumber(g):i==="number"?s.toNumber(g):i==="string"?s.toValueString(g):g}},Ir=()=>{const{treeConfig:r}=e,{afterFullData:n,fullDataRowIdData:i,fullAllDataRowIdData:c}=f,{handleGetRowId:g}=Tr(u),x={};n.forEach((w,C)=>{const S=g(w),O=c[S],T=C+1;if(O)r||(O.seq=T),O._index=C;else{const A={row:w,rowid:S,seq:T,index:-1,$index:-1,_index:C,treeIndex:-1,_tIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};c[S]=A,i[S]=A}x[S]=w}),f.afterFullRowMaps=x},Yr=()=>{const{treeConfig:r}=e,{fullDataRowIdData:n,fullAllDataRowIdData:i,afterFullData:c,afterTreeFullData:g}=f,x=yt.value,{transform:w}=x,C=x.children||x.childrenField,S={};if(r){let O=0;const{handleGetRowId:T}=Tr(u);s.eachTree(g,(A,L,V,Y)=>{const P=T(A),ee=i[P],J=Y.map((ne,z)=>z%2===0?Number(ne)+1:".").join("");if(ee)ee.seq=J,ee.treeIndex=L,ee._tIndex=O;else{const ne={row:A,rowid:P,seq:J,index:-1,$index:-1,_index:-1,treeIndex:-1,_tIndex:O,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};i[P]=ne,n[P]=ne}O++,S[P]=A},{children:w?x.mapChildrenField:C}),w&&c.forEach((A,L)=>{const V=T(A),Y=i[V],P=L+1;Y&&(r||(Y.seq=P),Y._index=L)}),f.afterFullRowMaps=S}else Ir()},On=()=>{const{treeConfig:r}=e,{isRowGroupStatus:n}=h,{fullAllDataRowIdData:i,treeExpandedMaps:c,rowGroupExpandedMaps:g}=f,x=wt.value,w=yt.value,{handleGetRowId:C}=Tr(u),S=[],O={};if(r&&w.transform){const T=w.children||w.childrenField;return s.eachTree(f.afterTreeFullData,(A,L,V,Y,P)=>{const ee=C(A),J=C(P);if(!P||O[J]&&c[J]){const ne=i[ee];ne&&(ne._index=S.length),O[ee]=1,S.push(A)}},{children:T}),f.afterFullData=S,vi(S),S}else if(n){const{childrenField:T}=x;return s.eachTree(f.afterGroupFullData,(A,L,V,Y,P)=>{const ee=C(A),J=C(P);if(!P||O[J]&&g[J]){const ne=i[ee];ne&&(ne._index=S.length),O[ee]=1,S.push(A)}},{children:T}),f.afterFullData=S,vi(S),S}return f.afterFullData},uw=()=>{const{treeConfig:r}=e,{isRowGroupStatus:n}=h,{tableFullColumn:i,tableFullData:c,tableFullTreeData:g,tableFullGroupData:x}=f,w=qr.value,C=wr.value,S=wt.value,O=yt.value,T=O.children||O.childrenField,{transform:A,rowField:L,parentField:V,mapChildrenField:Y}=O,{isEvery:P,remote:ee,filterMethod:J}=w,{remote:ne,sortMethod:z,multiple:G,chronological:Ce}=C;let he=[],fe=[];if(!ee||!ne){const Pe=[];let Me=[];if(i.forEach(Se=>{const{field:Ie,sortable:ze,order:st,filters:Ue}=Se;if(!ee&&Ue&&Ue.length){const et=[],tt=[];Ue.forEach(dt=>{dt.checked&&(tt.push(dt),et.push(dt.value))}),tt.length&&Pe.push({column:Se,valueList:et,itemList:tt})}!ne&&ze&&st&&Me.push({column:Se,field:Ie,property:Ie,order:st,sortTime:Se.sortTime})}),G&&Ce&&Me.length>1&&(Me=s.orderBy(Me,"sortTime")),!ee&&Pe.length){const Se=Ie=>Pe.every(({column:ze,valueList:st,itemList:Ue})=>{const{filterMethod:et,filterRender:tt}=ze,dt=It(tt)?Tf.get(tt.name):null,Lt=dt?dt.tableFilterMethod||dt.filterMethod:null,zt=dt?dt.tableFilterDefaultMethod||dt.defaultTableFilterMethod||dt.defaultFilterMethod:null,Nt=Pr(Ie,ze);return et?Ue.some(rt=>et({value:rt.value,option:rt,cellValue:Nt,row:Ie,column:ze,$table:u})):Lt?Ue.some(rt=>Lt({value:rt.value,option:rt,cellValue:Nt,row:Ie,column:ze,$table:u})):J?J({$table:u,options:Ue,values:st,cellValue:Nt,row:Ie,column:ze}):zt?Ue.some(rt=>zt({value:rt.value,option:rt,cellValue:Nt,row:Ie,column:ze,$table:u})):st.indexOf(s.get(Ie,ze.field))>-1});n?(fe=s.searchTree(x,Se,{original:!0,isEvery:!0,children:S.mapChildrenField,mapChildren:S.childrenField}),he=fe):r&&A?(fe=s.searchTree(g,Se,{original:!0,isEvery:P,children:Y,mapChildren:T}),he=fe):(he=r?g.filter(Se):c.filter(Se),fe=he)}else n?(fe=s.searchTree(x,()=>!0,{original:!0,isEvery:!0,children:S.mapChildrenField,mapChildren:S.childrenField}),he=fe):r&&A?(fe=s.searchTree(g,()=>!0,{original:!0,isEvery:P,children:Y,mapChildren:T}),he=fe):(he=r?g.slice(0):c.slice(0),fe=he);if(!ne&&Me.length)if(n){if(z){const Se=z({data:fe,sortList:Me,$table:u});fe=s.isArray(Se)?Se:fe}else{const Se=s.toTreeArray(fe,{key:S.rowField,parentKey:S.parentField,children:S.mapChildrenField});fe=s.toArrayTree(s.orderBy(Se,Me.map(({column:Ie,order:ze})=>[Wt(Ie),ze])),{key:S.rowField,parentKey:S.parentField,children:S.childrenField,mapChildren:S.mapChildrenField})}he=fe}else if(r&&A){if(z){const Se=z({data:fe,sortList:Me,$table:u});fe=s.isArray(Se)?Se:fe}else{const Se=s.toTreeArray(fe,{children:Y});fe=s.toArrayTree(s.orderBy(Se,Me.map(({column:Ie,order:ze})=>[Wt(Ie),ze])),{key:L,parentKey:V,children:T,mapChildren:Y})}he=fe}else{if(z){const Se=z({data:he,sortList:Me,$table:u});he=s.isArray(Se)?Se:he}else he=s.orderBy(he,Me.map(({column:Se,order:Ie})=>[Wt(Se),Ie]));fe=he}}else n?(fe=s.searchTree(x,()=>!0,{original:!0,isEvery:!0,children:S.mapChildrenField,mapChildren:S.childrenField}),he=fe):r&&A?(fe=s.searchTree(g,()=>!0,{original:!0,isEvery:P,children:Y,mapChildren:T}),he=fe):(he=r?g.slice(0):c.slice(0),fe=he);f.afterFullData=he,f.afterTreeFullData=fe,f.afterGroupFullData=fe,Yr()},Vr=()=>{const{showHeaderOverflow:r,showFooterOverflow:n,mouseConfig:i,spanMethod:c,footerSpanMethod:g}=e,{isGroup:x,currentRow:w,tableColumn:C,scrollXLoad:S,scrollYLoad:O,overflowX:T,scrollbarWidth:A,overflowY:L,scrollbarHeight:V,scrollXWidth:Y,columnStore:P,editStore:ee,isAllOverflow:J,expandColumn:ne,isColLoading:z}=h,{visibleColumn:G,tableHeight:Ce,elemStore:he,customHeight:fe,customMinHeight:Pe,customMaxHeight:Me,tHeaderHeight:Se,tFooterHeight:Ie}=f,ze=f.xeGanttView,st=_.value;if(!st||!st.clientHeight)return;const Ue=["main","left","right"];let et=L?A:0,tt=T?V:0;const dt=be.value,Lt=ft.value,zt=fr.value,Nt=er.value,rt=ct(he["main-body-wrapper"]),or=ct(he["main-body-table"]);dt&&(dt.style.top=`${Se}px`,dt.style.height=rt?`${rt.offsetHeight-tt}px`:"");const tr=Lt.x||{},Bt=xt.value,rr=Lt.y||{},Pt=_e.value;let At=T?"visible":"hidden";tr.visible==="visible"||ze?(tt=V,At="visible"):(tr.visible==="hidden"||tr.visible===!1)&&(tt=0,At="hidden");let jt=L?"visible":"hidden";rr.visible==="hidden"||rr.visible===!1||ze&&!Pt?(et=0,jt="hidden"):rr.visible==="visible"&&(et=A,jt="visible");let Zt=0,ar=0;const Qt=Pe-Se-Ie-tt;Me&&(ar=Math.max(Qt,Me-Se-Ie-tt)),fe&&(Zt=fe-Se-Ie-tt),Zt||or&&(Zt=or.clientHeight),Zt&&(ar&&(Zt=Math.min(ar,Zt)),Zt=Math.max(Qt,Zt));const Or=K.value,pr=xe.value,zr=De.value;zr&&(zr.style.height=`${tt}px`,zr.style.visibility=At);const Br=He.value;Br&&(Br.style.left=Bt?`${et}px`:"",Br.style.width=`${st.clientWidth-et}px`),Or&&(Or.style.width=Bt?`${et}px`:"",Or.style.display=Bt&&T&&tt?"block":""),pr&&(pr.style.width=Bt?"":`${et}px`,pr.style.display=Bt?"":At==="visible"?"block":"");const Xr=Ke.value;Xr&&(Xr.style.width=`${et}px`,Xr.style.height=`${Zt+Se+Ie}px`,Xr.style.visibility=jt);const br=Ae.value;br&&(br.style.height=`${Se}px`,br.style.display=Se&&jt==="visible"?"block":"");const Rr=We.value;Rr&&(Rr.style.height=`${Zt}px`,Rr.style.top=`${Se}px`);const Lr=Xe.value;Lr&&(Lr.style.height=`${Ie}px`,Lr.style.top=`${Se+Zt}px`,Lr.style.display=Ie&&jt==="visible"?"block":"");const an=Fe.value;return an&&(an.style.height=`${Zt}px`,an.style.top=`${Se}px`),f.tBodyHeight=Zt,Ue.forEach((sn,is)=>{const Ro=is>0?sn:"",wi=["header","body","footer"],Ag=Ro==="left";let yi=[],Ei;Ro&&(yi=Ag?P.leftList:P.rightList,Ei=Ag?ie.value:ce.value),wi.forEach(dl=>{const Qr=ct(he[`${sn}-${dl}-wrapper`]),Nn=ct(he[`${sn}-${dl}-scroll`]),fl=ct(he[`${sn}-${dl}-table`]);if(dl==="header"){let $o=C,So=!1;x?$o=G:(S&&r&&(c||g||(So=!0)),(!So||!z&&(Ro||!T))&&($o=G),Ro&&So&&($o=yi||[]));const so=$o.reduce(($l,gl)=>$l+gl.renderWidth,0);Ro&&(x?Qr&&(Qr.style.width=Y?`${Y}px`:""):So?Qr&&(Qr.style.width=so?`${so}px`:""):Qr&&(Qr.style.width=Y?`${Y}px`:"")),Nn&&(Nn.style.height=`${Se}px`),fl&&(fl.style.width=so?`${so}px`:"")}else if(dl==="body"){Nn&&(Nn.style.maxHeight=Me?`${ar}px`:"",Nn.style.height=fe?`${Zt}px`:"",Nn.style.minHeight=`${Qt}px`),Ei&&(Qr&&(Qr.style.top=`${Se}px`),Ei.style.height=`${fe>0?fe:Ce+Se+Ie+tt}px`,Ei.style.width=`${yi.reduce((gl,as)=>gl+as.renderWidth,0)}px`);let $o=C,So=!1;(S||O||J)&&(ne&&Nt.mode!=="fixed"||c||g||(So=!0)),Ro&&($o=G,So&&($o=yi||[]));const so=$o.reduce((gl,as)=>gl+as.renderWidth,0);Ro&&(So?Qr&&(Qr.style.width=so?`${so}px`:""):Qr&&(Qr.style.width=Y?`${Y}px`:"")),fl&&(fl.style.width=so?`${so}px`:"",fl.style.paddingRight=et&&Ro&&(a.firefox||a.safari)?`${et}px`:"");const $l=ct(he[`${sn}-${dl}-emptyBlock`]);$l&&($l.style.width=so?`${so}px`:"")}else if(dl==="footer"){let $o=C,So=!1;S&&n&&(c||g||(So=!0)),(!So||!z&&(Ro||!T))&&($o=G),Ro&&So&&($o=yi||[]);const so=$o.reduce(($l,gl)=>$l+gl.renderWidth,0);Ro&&(So?Qr&&(Qr.style.width=so?`${so}px`:""):Qr&&(Qr.style.width=Y?`${Y}px`:"")),Nn&&(Nn.style.height=`${Ie}px`,Ei&&Qr&&(Qr.style.top=`${fe>0?fe-Ie-tt:Ce+Se}px`)),fl&&(fl.style.width=so?`${so}px`:"")}})}),w&&u.setCurrentRow(w),i&&zt.selected&&ee.selected.row&&ee.selected.column&&u.addCellSelectedClass(),ze&&ze.handleUpdateStyle&&ze.handleUpdateStyle(),ue()},pi=r=>u.triggerValidate?u.triggerValidate(r):ue(),za=(r,n)=>{pi("blur").catch(i=>i).then(()=>{u.handleEdit(n,r).then(()=>pi("change")).catch(i=>i)})},dw=()=>{const{sortConfig:r}=e;if(r){const n=wr.value;let{defaultSort:i}=n;i&&(s.isArray(i)||(i=[i]),i.length&&((r.multiple?i:i.slice(0,1)).forEach((c,g)=>{const{field:x,order:w}=c;if(x&&w){const C=u.getColumnByField(x);C&&C.sortable&&(C.order=w,C.sortTime=Date.now()+g)}}),n.remote||u.handleTableData(!0).then(Vr)))}},fw=()=>{const{checkboxConfig:r}=e;if(r){const{fullDataRowIdData:n}=f,i=it.value,{checkAll:c,checkRowKeys:g}=i;if(c)Wa(!0,!0);else if(g){const x=[];g.forEach(w=>{n[w]&&x.push(n[w].row)}),al(x,!0,!0)}}},gw=()=>{const{radioConfig:r}=e;if(r){const{fullDataRowIdData:n}=f,i=Dt.value,{checkRowKey:c,reserve:g}=i;if(c&&(n[c]&&hi(n[c].row,!0),g)){const x=Pl(u);f.radioReserveRow={[x]:c}}}},pw=()=>{const{expandConfig:r}=e;if(r){const{fullDataRowIdData:n}=f,i=er.value,{expandAll:c,expandRowKeys:g}=i;if(c)u.setAllRowExpand(!0);else if(g){const x=[];g.forEach(w=>{n[w]&&x.push(n[w].row)}),u.setRowExpand(x,!0)}}},hw=r=>{Dt.value.reserve&&(f.radioReserveRow=r)},il=(r,n)=>{const{checkboxReserveRowMap:i}=f;if(it.value.reserve){const g=$e(u,r);n?i[g]=r:i[g]&&delete i[g]}},hi=(r,n)=>{const i=Dt.value,{checkMethod:c}=i;return r&&(n||!c||c({$table:u,row:r}))&&(h.selectRadioRow=r,hw(r)),ue()},al=(r,n,i)=>(r&&!s.isArray(r)&&(r=[r]),u.handleBatchSelectRows(r,!!n,i),u.checkSelectionStatus(),ue()),Wa=(r,n)=>{const{treeConfig:i}=e,{isRowGroupStatus:c}=h,{afterFullData:g,afterTreeFullData:x,afterGroupFullData:w,checkboxReserveRowMap:C,selectCheckboxMaps:S}=f,O=yt.value,T=wt.value,A=O.children||O.childrenField,L=it.value,{checkField:V,reserve:Y,checkMethod:P}=L,{handleGetRowId:ee}=Tr(u),J=L.indeterminateField||L.halfField,ne={};if(V){const z=G=>{(n||!P||P({$table:u,row:G}))&&(r&&(ne[ee(G)]=G),s.set(G,V,r)),(i||c)&&J&&s.set(G,J,!1)};i||c?s.eachTree(g,z,{children:A}):g.forEach(z)}else c?r?s.eachTree(w,z=>{if(n||!P||P({$table:u,row:z})){const G=ee(z);ne[G]=z}},{children:T.mapChildrenField}):!n&&P&&s.eachTree(w,z=>{const G=ee(z);!P({$table:u,row:z})&&S[G]&&(ne[G]=z)},{children:T.mapChildrenField}):i?r?s.eachTree(x,z=>{if(n||!P||P({$table:u,row:z})){const G=ee(z);ne[G]=z}},{children:A}):!n&&P&&s.eachTree(x,z=>{const G=ee(z);!P({$table:u,row:z})&&S[G]&&(ne[G]=z)},{children:A}):r?!n&&P?g.forEach(z=>{const G=ee(z);(S[G]||P({$table:u,row:z}))&&(ne[G]=z)}):g.forEach(z=>{const G=ee(z);ne[G]=z}):!n&&P&&g.forEach(z=>{const G=ee(z);!P({$table:u,row:z})&&S[G]&&(ne[G]=z)});return Y&&(r?s.each(ne,(z,G)=>{C[G]=z}):g.forEach(z=>il(z,!1))),h.updateCheckboxFlag++,f.selectCheckboxMaps=V?{}:ne,h.isAllSelected=r,h.isIndeterminate=!1,f.treeIndeterminateRowMaps={},u.checkSelectionStatus(),ue()},vw=()=>{const{treeConfig:r}=e,{expandColumn:n,currentRow:i,selectRadioRow:c}=h,{fullDataRowIdData:g,fullAllDataRowIdData:x,radioReserveRow:w,selectCheckboxMaps:C,treeExpandedMaps:S,rowExpandedMaps:O}=f,T=er.value,A=yt.value,L=Dt.value,V=it.value;if(c&&!x[$e(u,c)]&&(h.selectRadioRow=null),L.reserve&&w){const Y=$e(u,w);g[Y]&&hi(g[Y].row,!0)}f.selectCheckboxMaps=rn(C),h.updateCheckboxFlag++,V.reserve&&al(wn(f.checkboxReserveRowMap),!0,!0),i&&!x[$e(u,i)]&&(h.currentRow=null),f.rowExpandedMaps=n?rn(O):{},h.rowExpandedFlag++,n&&T.reserve&&u.setRowExpand(wn(f.rowExpandedReserveRowMap),!0),f.treeExpandedMaps=r?rn(S):{},h.treeExpandedFlag++,r&&A.reserve&&u.setTreeExpand(wn(f.treeExpandedReserveRowMap),!0)},mw=()=>{const{treeConfig:r}=e;if(r){const{fullAllDataRowIdData:n}=f,i=yt.value,{expandAll:c,expandRowKeys:g}=i;if(c)u.setAllTreeExpand(!0);else if(g){const x=[];g.forEach(w=>{const C=n[w];C&&x.push(C.row)}),u.setTreeExpand(x,!0)}}},ug=r=>{const n=yt.value,i=it.value,{transform:c,loadMethod:g}=n,{checkStrictly:x}=i;return new Promise(w=>{if(g){const{fullAllDataRowIdData:C,treeExpandLazyLoadedMaps:S}=f,O=$e(u,r),T=C[O];S[O]=r,Promise.resolve(g({$table:u,row:r})).then(A=>{if(T&&(T.treeLoaded=!0),S[O]&&delete S[O],s.isArray(A)||(A=[]),A)return u.loadTreeChildren(r,A).then(L=>{const{treeExpandedMaps:V}=f;return L.length&&!V[O]&&(V[O]=r),h.treeExpandedFlag++,!x&&u.isCheckedByCheckboxRow(r)&&al(L,!0),ue().then(()=>{if(c)return u.handleTableData(),Yr(),ue()})})}).catch(()=>{const{treeExpandLazyLoadedMaps:A}=f;T&&(T.treeLoaded=!1),A[O]&&delete A[O]}).finally(()=>{h.treeExpandedFlag++,ue().then(()=>u.recalculate()).then(()=>w())})}else w()})},dg=(r,n)=>{const{treeExpandedReserveRowMap:i}=f;if(yt.value.reserve){const g=$e(u,r);n?i[g]=r:i[g]&&delete i[g]}},fg=r=>new Promise(n=>{const i=er.value,{loadMethod:c}=i;if(c){const{fullAllDataRowIdData:g,rowExpandLazyLoadedMaps:x}=f,w=$e(u,r),C=g[w];x[w]=r,c({$table:u,row:r,rowIndex:u.getRowIndex(r),$rowIndex:u.getVMRowIndex(r)}).then(()=>{const{rowExpandedMaps:S}=f;C&&(C.expandLoaded=!0),S[w]=r,h.rowExpandedFlag++}).catch(()=>{C&&(C.expandLoaded=!1)}).finally(()=>{const{rowExpandLazyLoadedMaps:S}=f;S[w]&&delete S[w],h.rowExpandedFlag++,ue().then(()=>u.recalculate()).then(()=>u.updateCellAreas()).then(()=>n())})}else n()}),gg=(r,n)=>{const{rowExpandedReserveRowMap:i}=f;if(er.value.reserve){const g=$e(u,r);n?i[g]=r:i[g]&&delete i[g]}},bw=()=>{const{mergeCells:r}=e;r&&u.setMergeCells(r)},xw=()=>{const{mergeHeaderCells:r}=e;r&&u.setMergeHeaderCells(r)},Cw=()=>{const{mergeFooterCells:r,mergeFooterItems:n}=e,i=r||n;i&&u.setMergeFooterCells(i)},ja=()=>ue().then(()=>{const{scrollXLoad:r,scrollYLoad:n}=h,{scrollXStore:i,scrollYStore:c}=f,g=vt.value,x=ht.value;if(r){const{toVisibleIndex:O,visibleSize:T}=Lo(),A=Math.max(0,x.oSize?s.toNumber(x.oSize):0);i.preloadSize=s.toNumber(x.preSize),i.offsetSize=A,i.visibleSize=T,i.endIndex=Math.max(i.startIndex+i.visibleSize+A,i.endIndex),i.visibleStartIndex=Math.max(i.startIndex,O),i.visibleEndIndex=Math.min(i.endIndex,O+T),u.updateScrollXData().then(()=>{cl()})}else u.updateScrollXSpace();const w=Hn();c.rowHeight=w,h.rowHeight=w;const{toVisibleIndex:C,visibleSize:S}=Fl();if(n){const O=Math.max(0,g.oSize?s.toNumber(g.oSize):0);c.preloadSize=s.toNumber(g.preSize),c.offsetSize=O,c.visibleSize=S,c.endIndex=Math.max(c.startIndex+S+O,c.endIndex),c.visibleStartIndex=Math.max(c.startIndex,C),c.visibleEndIndex=Math.min(c.endIndex,C+S),u.updateScrollYData().then(()=>{mi()})}else u.updateScrollYSpace()}),Yi=()=>{const{scrollXWidth:r,scrollYHeight:n}=h,{elemStore:i}=f,c=ft.value,g=ct(i["main-body-wrapper"]),x=ct(i["main-header-table"]),w=ct(i["main-footer-table"]),C=we.value,S=Re.value;let O=!1,T=!1;if(g){O=n>g.clientHeight,S&&(h.scrollbarWidth=c.width||S.offsetWidth-S.clientWidth||14),h.overflowY=O,T=r>g.clientWidth,C&&(h.scrollbarHeight=c.height||C.offsetHeight-C.clientHeight||14);const A=x?x.clientHeight:0,L=w?w.clientHeight:0;f.tableHeight=g.offsetHeight,f.tHeaderHeight=A,f.tFooterHeight=L,h.overflowX=T,h.parentHeight=Math.max(A+L+20,u.getParentHeight())}T&&u.checkScrolling()},Pn=(r,n,i)=>{const c=_.value;if(f.rceRunTime=Date.now(),!c||!c.clientWidth)return ue();const g=U.value;if(g){const[x,w,C,S]=g.children;mo("default",x),mo("medium",w),mo("small",C),mo("mini",S)}return n&&ln(),r&&zo(),Yi(),Vr(),_n(),ja().then(()=>{if(n&&ln(),r&&zo(),i&&Sn(),Vr(),Yi(),r&&ao(),_n(),r)return ja()})},no=(r,n,i)=>new Promise(c=>{const g=f.xeGanttView,{rceTimeout:x,rceRunTime:w}=f,S=ke.value.refreshDelay||20,O=_.value;O&&O.clientWidth&&(zo(),_n()),x?(clearTimeout(x),w&&w+(S-5)<Date.now()?c(Pn(r,n,i)):ue(()=>{c()})):c(Pn(r,n,i)),g&&g.handleLazyRecalculate&&g.handleLazyRecalculate(),f.rceTimeout=setTimeout(()=>{f.rceTimeout=void 0,Pn(r,n,i)},S)}),pg=()=>{no(!0,!0,!0)},hg=()=>{const{visibleColumn:r}=f,n=[];r.forEach(i=>{i.aggFunc&&n.push(i)}),h.aggHandleAggColumns=n},Xi=r=>{const n=[],i=[];r&&(s.isArray(r)?r:[r]).forEach(c=>{n.push(c),i.push({field:c})}),h.rowGroupList=i,h.aggHandleFields=n,hg()},vg=r=>{const n=wt.value,{mapChildrenField:i}=n;i&&(s.lastEach(r,c=>{let g=0;s.each(c[i],x=>{x.isAggregate?g+=x.childCount||0:g++}),c.childCount=g}),u.handlePivotTableAggregateData&&u.handlePivotTableAggregateData(r))},ww=()=>{const{aggregateConfig:r,rowGroupConfig:n}=e,{isRowGroupStatus:i}=h,{tableFullGroupData:c}=f,g=wt.value,{mapChildrenField:x}=g;if((r||n)&&i){const w=[];s.eachTree(c,C=>{C.isAggregate&&w.push(C)},{children:x}),vg(w)}},Ua=(r,n)=>{let i=r,c=r;if(n){const g=wt.value,{rowField:x,parentField:w,childrenField:C,mapChildrenField:S}=g,O=it.value,{checkField:T}=O,A=O.indeterminateField||O.halfField,L=n[0];if(L&&x&&w&&C&&S){i=[],c=[];const V=L.field,Y=u.getColumnByField(V),P={},ee=[],J=Pl(u);r.forEach(ne=>{const z=Y?u.getCellLabel(ne,Y):s.get(ne,V),G=s.eqNull(z)?"":z;let Ce=P[G];Ce||(Ce=[],P[G]=Ce),ne.isAggregate&&(ne.isAggregate=void 0),Ce.push(ne)}),s.objectEach(P,(ne,z)=>{const{fullData:G,treeData:Ce}=Ua(ne,n.slice(1)),he={isAggregate:!0,aggData:{},groupContent:z,groupField:V,childCount:0,[x]:Pi(),[w]:null,[J]:Pi(),[C]:Ce,[S]:Ce};T&&(he[T]=!1),A&&(he[A]=!1),ee.push(he),c.push(he),i.push(he),G.length&&i.push(...G)}),vg(ee)}}return{treeData:c,fullData:i}},sl=(r,n)=>{const{keepSource:i,treeConfig:c,rowGroupConfig:g,aggregateConfig:x}=e,{rowGroupList:w,scrollYLoad:C}=h,{scrollYStore:S,scrollXStore:O,lastScrollLeft:T,lastScrollTop:A}=f,L=Ct.value,V=yt.value,Y=er.value,{transform:P}=V,ee=V.children||V.childrenField;let J=[],ne=Fo(r?r.slice(0):[]);if(ne.length>Bb&&Ne("vxe.error.errMaxRow",[Bb]),c&&w.length)return Ne("vxe.error.noTree",["aggregate-config"]),ue();if(L.drag&&w.length)return Ne("vxe.error.errConflicts",["row-config.drag","aggregate-config"]),ue();let z=!1;if(c)P?(V.rowField||Ne("vxe.error.reqProp",["tree-config.rowField"]),V.parentField||Ne("vxe.error.reqProp",["tree-config.parentField"]),ee||Ne("vxe.error.reqProp",["tree-config.childrenField"]),V.mapChildrenField||Ne("vxe.error.reqProp",["tree-config.mapChildrenField"]),ee===V.mapChildrenField&&Ne("vxe.error.errConflicts",["tree-config.childrenField","tree-config.mapChildrenField"]),J=s.toArrayTree(ne,{key:V.rowField,parentKey:V.parentField,children:ee,mapChildren:V.mapChildrenField}),ne=J.slice(0)):J=ne.slice(0);else if((x||g)&&w.length){const Ce=Ua(ne,w);J=Ce.treeData,ne=Ce.fullData,z=!0}h.isRowGroupStatus=z,S.startIndex=0,S.endIndex=1,O.startIndex=0,O.endIndex=1,f.cvCacheMaps={},h.isRowLoading=!0,h.scrollVMLoading=!1,h.treeExpandedFlag++,h.rowExpandedFlag++,f.insertRowMaps={},h.insertRowFlag++,f.removeRowMaps={},h.removeRowFlag++;const G=vi(ne);return f.tableFullData=ne,f.tableFullTreeData=z?[]:J,f.tableFullGroupData=z?J:[],u.cacheRowMap(n),f.tableSynchData=r,n&&(f.isResizeCellHeight=!1),i&&u.cacheSourceMap(ne),u.clearCellAreas&&e.mouseConfig&&(u.clearCellAreas(),u.clearCopyCellArea()),u.clearMergeCells(),u.clearMergeFooterItems(),u.handleTableData(!0),u.updateFooter(),u.handleUpdateBodyMerge(),ue().then(()=>{kl(),Vr()}).then(()=>{ja()}).then(()=>{const Ce=vt.value;return G&&(S.endIndex=S.visibleSize),G&&(h.expandColumn&&Y.mode!=="fixed"&&Ne("vxe.error.notConflictProp",['column.type="expand','expand-config.mode="fixed"']),Ce.mode==="scroll"&&Y.mode==="fixed"&&Ze("vxe.error.notConflictProp",["virtual-y-config.mode=scroll","expand-config.mode=inside"]),e.height||e.maxHeight||Ne("vxe.error.reqProp",["height | max-height | virtual-y-config={enabled: false}"]),e.spanMethod&&Ne("vxe.error.scrollErrProp",["table.span-method"])),vw(),u.checkSelectionStatus(),u.dispatchEvent("data-change",{visibleColumn:f.visibleColumn,visibleData:f.afterFullData},null),new Promise(he=>{ue().then(()=>Pn(!1,!1,!1)).then(()=>{Pn(!1,!0,!0),ao()}).then(()=>{let fe=T,Pe=A;const Me=ht.value,Se=vt.value;Me.scrollToLeftOnChange&&(fe=0),Se.scrollToTopOnChange&&(Pe=0),h.isRowLoading=!1,Pn(!1,!1,!1),e.showOverflow||setTimeout(()=>{no(!1,!0,!0),setTimeout(()=>no(!1,!0,!0),3e3)},2e3),C===G?oa(u,fe,Pe).then(()=>{Pn(!1,!0,!0),ao(),he()}):setTimeout(()=>{oa(u,fe,Pe).then(()=>{Pn(!1,!0,!0),ao(),he()})})})})})},Ki=()=>{fw(),gw(),pw(),mw(),Dw(),bw(),xw(),Cw(),ue(()=>setTimeout(()=>u.recalculate()))},yw=()=>{dw()},Ya=()=>{const{scrollXLoad:r}=h,{visibleColumn:n,scrollXStore:i,fullColumnIdData:c}=f,g=r?n.slice(i.startIndex,i.endIndex):n.slice(0);g.forEach((x,w)=>{const C=x.id,S=c[C];S&&(S.$index=w)}),h.tableColumn=g},mg=()=>{const r=s.orderBy(f.collectColumn,"renderSortNumber");f.collectColumn=r;const n=_i(r);f.tableFullColumn=n,Rn()},cl=()=>{const{isScrollXBig:r}=h,{mergeBodyList:n,mergeFooterList:i,scrollXStore:c}=f,{preloadSize:g,startIndex:x,endIndex:w,offsetSize:C}=c,{toVisibleIndex:S,visibleSize:O}=Lo(),T={startIndex:Math.max(0,r?S-1:S-1-C-g),endIndex:r?S+O:S+O+C+g};c.visibleStartIndex=S-1,c.visibleEndIndex=S+O+1,nl(n.concat(i),T,"col");const{startIndex:A,endIndex:L}=T;(S<=x||S>=w-O-1)&&(x!==A||w!==L)&&(c.startIndex=A,c.endIndex=L,u.updateScrollXData()),u.closeTooltip()},Xa=r=>{const n=[],i=[],c=[],{isGroup:g,columnStore:x}=h,{collectColumn:w,tableFullColumn:C,scrollXStore:S,fullColumnIdData:O}=f;if(g){const L=[],V=[],Y=[];s.eachTree(w,(P,ee,J,ne,z)=>{const G=Kl(P);z&&z.fixed&&(P.fixed=z.fixed),z&&(P.fixed||"")!==(z.fixed||"")&&Ne("vxe.error.groupFixed"),G?P.visible=!!s.findTree(P.children,Ce=>Kl(Ce)?!1:Ce.visible):P.visible&&(P.fixed==="left"?n.push(P):P.fixed==="right"?c.push(P):i.push(P))}),w.forEach(P=>{P.visible&&(P.fixed==="left"?L.push(P):P.fixed==="right"?Y.push(P):V.push(P))}),h.tableGroupColumn=L.concat(V).concat(Y)}else C.forEach(L=>{L.visible&&(L.fixed==="left"?n.push(L):L.fixed==="right"?c.push(L):i.push(L))});const T=n.concat(i).concat(c);f.visibleColumn=T,Qi();const A=Rw();if(h.hasFixedColumn=n.length>0||c.length>0,Object.assign(x,{leftList:n,centerList:i,rightList:c}),A&&(e.spanMethod&&Ze("vxe.error.scrollErrProp",["span-method"]),e.footerSpanMethod&&Ze("vxe.error.scrollErrProp",["footer-span-method"]),r)){const{visibleSize:L}=Lo();S.startIndex=0,S.endIndex=L,S.visibleSize=L,S.visibleStartIndex=0,S.visibleEndIndex=L}return(T.length!==f.visibleColumn.length||!f.visibleColumn.every((L,V)=>L===T[V]))&&(u.clearMergeCells(),u.clearMergeFooterItems()),T.forEach((L,V)=>{const Y=L.id,P=O[Y];P&&(P._index=V)}),Ya(),hg(),r?(Qi(),u.updateFooter().then(()=>u.recalculate()).then(()=>(u.updateCellAreas(),u.recalculate()))):u.updateFooter()},Ew=()=>{const{collectColumn:r}=f,n={},i={};let c=1;s.eachTree(r,(g,x,w,C,S)=>{const{id:O,field:T}=g,A=S?S.id:null,L={$index:-1,_index:-1,column:g,colid:O,index:x,items:w,parent:S||null,width:0,oLeft:0};g.parentId=A,g.defaultParentId=A,g.sortNumber=c,g.renderSortNumber=c,c++,T&&(i[T]&&Ne("vxe.error.colRepet",["field",T]),i[T]=L),n[O]=L}),f.fullColumnIdData=n,f.fullColumnFieldData=i},bg=r=>{const n=er.value;f.collectColumn=r;const i=_i(r);return f.tableFullColumn=i,h.isColLoading=!0,Ew(),Promise.resolve(gi()).then(()=>{const{scrollXLoad:c,scrollYLoad:g,expandColumn:x}=h;return Rn(),Xa(!0).then(()=>{h.scrollXLoad&&cl()}),u.clearMergeCells(),u.clearMergeFooterItems(),u.handleTableData(!0),u.handleAggregateSummaryData(),(c||g)&&x&&n.mode!=="fixed"&&Ze("vxe.error.scrollErrProp",["column.type=expand"]),ue().then(()=>{Ge&&Ge.syncUpdate({collectColumn:f.collectColumn,$table:u}),u.handleUpdateCustomColumn&&u.handleUpdateCustomColumn();const w=Tt.value;return e.showCustomHeader&&h.isGroup&&(w.resizable||e.resizable)&&Ze("vxe.error.notConflictProp",["show-custom-header & colgroup","column-config.resizable=false"]),h.isColLoading=!1,no(!1,!0,!0)})})},Rw=r=>{const n=ht.value,i=f.tableFullColumn,c=!!n.enabled&&n.gt>-1&&(n.gt===0||n.gt<i.length);return h.scrollXLoad=c,c},vi=r=>{const{treeConfig:n}=e,i=f.xeGanttView,c=vt.value,g=yt.value,{transform:x}=g,w=r||f.tableFullData,C=(x||!n)&&!!c.enabled&&c.gt>-1&&(c.gt===0||c.gt<w.length);return h.scrollYLoad=C,i&&i.handleUpdateSYStatus&&i.handleUpdateSYStatus(C),C},xg=(r,n)=>{const{treeNodeColumn:i}=h,{fullAllDataRowIdData:c,tableFullTreeData:g,treeExpandedMaps:x,treeExpandLazyLoadedMaps:w}=f,C=yt.value,{reserve:S,lazy:O,accordion:T,toggleMethod:A}=C,L=C.children||C.childrenField,V=C.hasChild||C.hasChildField,Y=[],P=u.getColumnIndex(i),ee=u.getVMColumnIndex(i),{handleGetRowId:J}=Tr(u);let ne=A?r.filter(z=>A({$table:u,expanded:n,column:i,columnIndex:P,$columnIndex:ee,row:z})):r;if(T){ne=ne.length?[ne[ne.length-1]]:[];const z=s.findTree(g,G=>G===ne[0],{children:L});z&&z.items.forEach(G=>{const Ce=J(G);x[Ce]&&delete x[Ce]})}return n?ne.forEach(z=>{const G=J(z);if(!x[G]){const Ce=c[G];Ce&&(O&&z[V]&&!Ce.treeLoaded&&!w[G]?Y.push(ug(z)):z[L]&&z[L].length&&(x[G]=z))}}):ne.forEach(z=>{const G=J(z);x[G]&&delete x[G]}),S&&ne.forEach(z=>dg(z,n)),h.treeExpandedFlag++,Promise.all(Y).then(()=>u.recalculate())},Sw=(r,n)=>xg(r,n).then(()=>(On(),u.handleTableData(),h.treeExpandedFlag++,Yr(),ue())).then(()=>no(!0,!0,!0)).then(()=>{setTimeout(()=>{u.updateCellAreas()},30)}),Ow=(r,n)=>{const{fullAllDataRowIdData:i,tableFullGroupData:c,rowGroupExpandedMaps:g}=f,x=wt.value,{mapChildrenField:w,accordion:C}=x,{handleGetRowId:S}=Tr(u);let O=r;if(w){if(C){O=O.length?[O[O.length-1]]:[];const T=s.findTree(c,A=>$e(u,A)===$e(u,O[0]),{children:w});T&&T.items.forEach(A=>{const L=S(A);g[L]&&delete g[L]})}n?O.forEach(T=>{const A=S(T);g[A]||i[A]&&T[w]&&T[w].length&&(g[A]=T)}):O.forEach(T=>{const A=S(T);g[A]&&delete g[A]})}return h.rowGroupExpandedFlag++,u.recalculate()},Cg=(r,n)=>Ow(r,n).then(()=>(On(),u.handleTableData(),h.rowGroupExpandedFlag++,Yr(),ue())).then(()=>no(!0,!0,!0)).then(()=>{setTimeout(()=>{u.updateCellAreas()},30)}),Dw=()=>{const{isRowGroupStatus:r}=h;if(r){const n=wt.value,{expandAll:i,expandGroupFields:c}=n;i?u.setAllRowGroupExpand(!0):c&&c.length&&u.setRowGroupExpandByField(c,!0)}},wg=(r,n)=>{Wa(n),r&&Kt("checkbox-all",{records:()=>u.getCheckboxRecords(),reserves:()=>u.getCheckboxReserveRecords(),indeterminates:()=>u.getCheckboxIndeterminateRecords(),checked:n},r)},mi=()=>{const{isAllOverflow:r,isScrollYBig:n}=h,{mergeBodyList:i,scrollYStore:c}=f,{preloadSize:g,startIndex:x,endIndex:w,offsetSize:C}=c,S=r?C:C+1,{toVisibleIndex:O,visibleSize:T}=Fl(),A={startIndex:Math.max(0,n?O-1:O-1-C-g),endIndex:n?O+T:O+T+S+g};c.visibleStartIndex=O-1,c.visibleEndIndex=O+T+1,nl(i,A,"row");const{startIndex:L,endIndex:V}=A;(O<=x||O>=w-T-1)&&(x!==L||w!==V)&&(c.startIndex=L,c.endIndex=V,u.updateScrollYData())},Zi=r=>function(n){const{fullAllDataRowIdData:i}=f;if(n){const c=$e(u,n),g=i[c];if(g)return g[r]}return-1},Ka=r=>function(n){const{fullColumnIdData:i}=f;if(n){const c=i[n.id];if(c)return c[r]}return-1},Tw=()=>{const{lxTimeout:r,lxRunTime:n,scrollXStore:i}=f,{visibleSize:c}=i,g=c>26?26:c>16?14:6;r&&clearTimeout(r),(!n||n+g<Date.now())&&(f.lxRunTime=Date.now(),cl()),f.lxTimeout=setTimeout(()=>{f.lxTimeout=void 0,f.lxRunTime=void 0,cl()},g)},Fw=()=>{const{lyTimeout:r,lyRunTime:n,scrollYStore:i}=f,{visibleSize:c}=i,g=c>30?32:c>20?18:8;r&&clearTimeout(r),(!n||n+g<Date.now())&&(f.lyRunTime=Date.now(),mi()),f.lyTimeout=setTimeout(()=>{f.lyTimeout=void 0,f.lyRunTime=void 0,mi()},g)},Mw=(r,n)=>{const{lcsTimeout:i}=f;h.lazScrollLoading=!0,i&&clearTimeout(i),f.lcsTimeout=setTimeout(()=>{const{scrollXLoad:c,scrollYLoad:g,isAllOverflow:x}=h;f.lcsRunTime=Date.now(),f.lcsTimeout=void 0,f.intoRunScroll=!1,f.inVirtualScroll=!1,f.inWheelScroll=!1,f.inHeaderScroll=!1,f.inBodyScroll=!1,f.inFooterScroll=!1,h.lazScrollLoading=!1,f.scrollRenderType="",x||(Sn(),ao()),r&&c&&u.updateScrollXData(),n&&g&&u.updateScrollYData().then(()=>{x||(Sn(),ao()),u.updateScrollYSpace()}),_n(),u.updateCellAreas()},200)},Iw=r=>{let n=1;const i=Date.now();return r+25>i?n=1.18:r+30>i?n=1.15:r+40>i?n=1.12:r+55>i?n=1.09:r+75>i?n=1.06:r+100>i&&(n=1.03),n},Aw=(r,n)=>{requestAnimationFrame(()=>{n(r)})},kw=(r,n)=>{const i=Math.abs(r),c=performance.now();let g=0;const x=w=>{let C=(w-c)/i;C<0?C=0:C>1&&(C=1);const S=Math.pow(C,2),O=Math.floor(r*S)-g;g+=O,n(O),C<1&&requestAnimationFrame(x)};requestAnimationFrame(x)},Ji=r=>{const n=f.xeGanttView;if(n){const i=n.internalData,{elemStore:c}=i,g=ct(c["main-body-scroll"]);g&&(g.scrollTop=r)}},Kt=(r,n,i)=>{l(r,ZS(i,{$table:u,$grid:y,$gantt:m},n))},Lw=(r,n)=>{const{fullColumnIdData:i}=f,c=Er(u,r);return c&&i[c.id]?ab(u,c,n):ue()},Za=()=>{const r=_.value;r&&r.clientWidth&&r.clientHeight&&u.recalculate()},yg=(r,n)=>{u.analyColumnWidth(),u.recalculate().then(()=>{u.saveCustomStore("update:width"),u.updateCellAreas(),u.dispatchEvent("column-resizable-change",n,r),u.dispatchEvent("resizable-change",n,r),setTimeout(()=>u.recalculate(!0),300)})},Eg=(r,n)=>{h.resizeHeightFlag++,u.recalculate().then(()=>{u.updateCellAreas(),u.dispatchEvent("row-resizable-change",n,r),setTimeout(()=>u.recalculate(!0),300)})},Qi=()=>{const{visibleColumn:r,fullColumnIdData:n}=f;let i=0;for(let c=0,g=r.length;c<g;c++){const x=r[c],w=x.id,C=n[w];C&&(C.oLeft=i),i+=x.renderWidth}},ao=()=>{const{expandColumn:r}=h,{afterFullData:n,fullAllDataRowIdData:i,rowExpandedMaps:c}=f,g=er.value,x=Ct.value,w=ut.value,C=Ot.value,{handleGetRowId:S}=Tr(u);let O=0;for(let T=0,A=n.length;T<A;T++){const L=n[T],V=S(L),Y=i[V]||{};Y.oTop=O,O+=Y.resizeHeight||w.height||x.height||Y.height||C,r&&c[V]&&(O+=Y.expandHeight||g.height||0)}},_n=()=>{const{expandColumn:r,scrollYLoad:n,scrollYTop:i,isScrollYBig:c}=h,g=er.value,x=Ct.value,w=ut.value,C=Ot.value,{mode:S}=g;if(r&&S==="fixed"){const{elemStore:O,fullAllDataRowIdData:T}=f,A=Fe.value,L=ct(O["main-body-scroll"]);if(A&&L){let V=!1;s.arrayEach(A.children,Y=>{const P=Y,ee=P.getAttribute("rowid")||"",J=T[ee];if(J){const ne=P.offsetHeight+1,z=L.querySelector(`.vxe-body--row[rowid="${ee}"]`);let G=0;n?c&&z?G=z.offsetTop+z.offsetHeight:G=J.oTop+(J.resizeHeight||w.height||x.height||J.height||C):z&&(G=z.offsetTop+z.offsetHeight),c&&(G+=i),P.style.top=Zn(G),V||J.expandHeight!==ne&&(V=!0),J.expandHeight=ne}}),V&&(h.rowExpandHeightFlag++,ue(()=>{ao()}))}}},Rg=()=>{const{elemStore:r}=f,n=Fe.value,i=ct(r["main-body-scroll"]);n&&i&&(n.scrollTop=i.scrollTop)};$={dispatchEvent:Kt,getEl(){return _.value},clearAll(){return WR(u)},syncData(){return Ne("vxe.error.delFunc",["syncData","getData"]),ue().then(()=>(h.tableData=[],l("update:data",f.tableFullData),ue()))},updateData(){const{scrollXLoad:r,scrollYLoad:n}=h;return u.handleTableData(!0).then(()=>{if(u.updateFooter(),r||n)return r&&u.updateScrollXSpace(),n&&u.updateScrollYSpace(),u.refreshScroll()}).then(()=>(u.updateCellAreas(),no(!0,!0,!0))).then(()=>{setTimeout(()=>no(!1,!0,!0),50)})},loadData(r){const{initStatus:n}=f;return sl(r,!1).then(()=>(f.inited=!0,f.initStatus=!0,n||Ki(),no(!1,!0,!0)))},reloadData(r){return u.clearAll().then(()=>(f.inited=!0,f.initStatus=!0,sl(r,!0))).then(()=>(Ki(),no(!1,!0,!0)))},setRow(r,n){if(r&&n){let i=r;s.isArray(r)||(i=[r]);const c=Pl(u);i.forEach(g=>{const x=$e(u,g),w=s.clone(Object.assign({},n),!0);s.set(w,c,x),Object.assign(g,w)})}return ue()},reloadRow(r,n,i){const{keepSource:c}=e,{tableData:g}=h,{sourceDataRowIdData:x}=f;if(c){if(u.isAggregateRecord(r))return ue();const w=x[$e(u,r)];if(w&&r)if(i){const C=s.clone(s.get(n||r,i),!0);s.set(r,i,C),s.set(w,i,C)}else{const C=Pl(u),S=$e(u,r),O=s.clone(Object.assign({},n),!0);s.set(O,C,S),s.destructuring(w,Object.assign(r,O))}h.tableData=g.slice(0)}else Ne("vxe.error.reqProp",["keep-source"]);return ue()},getParams(){return e.params},loadTreeChildren(r,n){const{keepSource:i}=e,{tableSourceData:c,fullDataRowIdData:g,fullAllDataRowIdData:x,sourceDataRowIdData:w}=f,C=yt.value,{transform:S,mapChildrenField:O}=C,T=C.children||C.childrenField,A=x[$e(u,r)],L=A?A.level:0;return $.createData(n).then(V=>{if(i){const Y=$e(u,r),P=s.findTree(c,ee=>Y===$e(u,ee),{children:T});P&&(P.item[T]=s.clone(V,!0)),V.forEach(ee=>{const J=$e(u,ee);w[J]=s.clone(ee,!0)})}return s.eachTree(V,(Y,P,ee,J,ne,z)=>{const G=$e(u,Y),Ce=ne||A.row,he={row:Y,rowid:G,seq:-1,index:P,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:ee,parent:Ce,level:L+z.length,height:0,resizeHeight:0,oTop:0,expandHeight:0};g[G]=he,x[G]=he},{children:T}),r[T]=V,S&&(r[O]=s.clone(V,!1)),Yr(),V})},loadColumn(r){const{lastScrollLeft:n,lastScrollTop:i}=f,c=s.mapTree(r,g=>Fo(Rt.createColumn(u,g)));return bg(c).then(()=>{let g=n,x=i;const w=ht.value,C=vt.value;w.scrollToLeftOnChange&&(g=0),C.scrollToTopOnChange&&(x=0),oa(u,g,x)})},reloadColumn(r){return $.clearAll().then(()=>$.loadColumn(r))},getRowNode(r){if(r){const{fullAllDataRowIdData:n}=f,i=r.getAttribute("rowid");if(i){const c=n[i];if(c)return{rowid:c.rowid,item:c.row,index:c.index,items:c.items,parent:c.parent}}}return null},getColumnNode(r){if(r){const{fullColumnIdData:n}=f,i=r.getAttribute("colid");if(i){const c=n[i];if(c)return{colid:c.colid,item:c.column,index:c.index,items:c.items,parent:c.parent}}}return null},getRowSeq:Zi("seq"),getRowIndex:Zi("index"),getVTRowIndex:Zi("_index"),getVMRowIndex:Zi("$index"),getColumnIndex:Ka("index"),getVTColumnIndex:Ka("_index"),getVMColumnIndex:Ka("$index"),createData(r){return ue().then(()=>Fo(k.defineField(r)))},createRow(r){const n=s.isArray(r);return n||(r=[r||{}]),$.createData(r).then(i=>n?i:i[0])},revertData(r,n){const{keepSource:i,treeConfig:c}=e,{fullAllDataRowIdData:g,fullDataRowIdData:x,tableSourceData:w,sourceDataRowIdData:C,tableFullData:S,afterFullData:O,removeRowMaps:T}=f,A=yt.value,{transform:L}=A,{handleGetRowId:V}=Tr(u);if(!i)return Ne("vxe.error.reqProp",["keep-source"]),ue();let Y=r;r?s.isArray(r)||(Y=[r]):Y=s.toArray(u.getUpdateRecords());let P=!1;return Y.length&&Y.forEach(ee=>{const J=V(ee),ne=g[J];if(ne){const z=ne.row;if(!u.isInsertByRow(z)){const G=C[J];G&&z&&(n?s.set(z,n,s.clone(s.get(G,n),!0)):s.destructuring(z,s.clone(G,!0)),!x[J]&&u.isRemoveByRow(z)&&(T[J]&&delete T[J],S.unshift(z),O.unshift(z),P=!0))}}}),r?(P&&(h.removeRowFlag++,u.updateFooter(),u.cacheRowMap(!1),u.handleTableData(c&&L),c&&L||u.updateAfterDataIndex(),u.checkSelectionStatus(),h.scrollYLoad&&u.updateScrollYSpace()),ue().then(()=>(u.updateCellAreas(),no(!1,!0,!0)))):u.reloadData(w)},clearData(r,n){const{tableFullData:i,visibleColumn:c}=f;return arguments.length?r&&!s.isArray(r)&&(r=[r]):r=i,n?r.forEach(g=>s.set(g,n,null)):r.forEach(g=>{c.forEach(x=>{x.field&&Yo(g,x,null)})}),ue()},getCellElement(r,n){const{elemStore:i}=f,c=Er(u,n);if(!c)return null;const g=$e(u,r),x=ct(i["main-body-scroll"]),w=ct(i["left-body-scroll"]),C=ct(i["right-body-scroll"]);let S;return c&&(c.fixed&&(c.fixed==="left"?w&&(S=w):C&&(S=C)),S||(S=x),S)?S.querySelector(`.vxe-body--row[rowid="${g}"] .${c.id}`):null},getCellLabel(r,n){const i=Er(u,n);if(!i)return null;const{formatter:c}=i,g=Pr(r,i);let x=g;if(c){let w;const{fullAllDataRowIdData:C}=f,S=$e(u,r),O=i.id,T=C[S];if(T&&(w=T.formatData,w||(w=C[S].formatData={}),T&&w[O]&&w[O].value===g))return w[O].label;const A={cellValue:g,row:r,rowIndex:$.getRowIndex(r),column:i,columnIndex:$.getColumnIndex(i)};if(s.isString(c)){const L=qb.get(c),V=L?L.tableCellFormatMethod||L.cellFormatMethod:null;x=V?V(A):""}else if(s.isArray(c)){const L=qb.get(c[0]),V=L?L.tableCellFormatMethod||L.cellFormatMethod:null;x=V?V(A,...c.slice(1)):""}else x=c(A);w&&(w[O]={value:g,label:x})}return x},isInsertByRow(r){const n=$e(u,r);return!!h.insertRowFlag&&!!f.insertRowMaps[n]},isRemoveByRow(r){const n=$e(u,r);return!!h.removeRowFlag&&!!f.removeRowMaps[n]},removeInsertRow(){const{insertRowMaps:r}=f;return u.remove(s.values(r))},isUpdateByRow(r,n){const{keepSource:i}=e,{tableFullColumn:c,fullDataRowIdData:g,sourceDataRowIdData:x}=f;if(i){const w=s.isString(r)||s.isNumber(r)?r:$e(u,r),C=g[w];if(!C)return!1;const S=C.row,O=x[w];if(O){if(arguments.length>1)return!rl(O,S,n);for(let T=0,A=c.length;T<A;T++){const L=c[T].field;if(L&&!rl(O,S,L))return!0}}}return!1},getColumns(r){const{visibleColumn:n}=f;return s.isUndefined(r)?n.slice(0):n[r]},getColid(r){const n=Er(u,r);return n?n.id:null},getColumnById(r){const{fullColumnIdData:n}=f;return r&&n[r]?n[r].column:null},getColumnByField(r){const n=f.fullColumnFieldData;return r&&n[r]?n[r].column:null},getParentColumn(r){const{fullColumnIdData:n}=f,i=Er(u,r);return i&&i.parentId&&n[i.parentId]?n[i.parentId].column:null},getTableColumn(){return{collectColumn:f.collectColumn.slice(0),fullColumn:f.tableFullColumn.slice(0),visibleColumn:f.visibleColumn.slice(0),tableColumn:h.tableColumn.slice(0)}},moveColumnTo(r,n,i){const{fullColumnIdData:c,visibleColumn:g}=f,{dragToChild:x,dragPos:w,isCrossDrag:C}=Object.assign({},i),S=Er(u,r);let O=null;const T=S?c[S.id]:null;let A="left";if(s.isNumber(n)){if(T&&n){let L=T.items,V=T._index+n;C&&(L=g,V=T._index+n),V>0&&V<L.length-1&&(O=L[V]),n>0&&(A="right")}}else{O=Er(u,n);const L=O?c[O.id]:null;T&&L&&L._index>T._index&&(A="right")}return u.handleColDragSwapEvent(null,!0,S,O,w||A,x===!0)},moveRowTo(r,n,i){const{treeConfig:c}=e,{fullAllDataRowIdData:g,afterFullData:x}=f,{dragToChild:w,dragPos:C,isCrossDrag:S}=Object.assign({},i),O=yt.value,T=tb(u,r);let A=null,L="top";const V=T?g[$e(u,T)]:null;if(s.isNumber(n)){if(V&&n){let P=x,ee=V._index+n;c&&(P=V.items,O.transform&&(ee=V.treeIndex+n,S&&(P=x,ee=V._index+n))),ee>=0&&ee<=P.length-1&&(A=P[ee]),n>0&&(L="bottom")}}else{A=tb(u,n);const P=A?g[$e(u,A)]:null;V&&P&&P._index>V._index&&(L="bottom")}const Y=u.handleRowDragSwapEvent(null,!0,T,A,C||L,w===!0);return ra(),Y},getFullColumns(){const{collectColumn:r}=f;return r.slice(0)},getData(r){const n=e.data||f.tableSynchData;return s.isUndefined(r)?n.slice(0):n[r]},getCheckboxRecords(r){const{treeConfig:n}=e,{updateCheckboxFlag:i}=h,{tableFullData:c,afterFullData:g,tableFullTreeData:x,fullDataRowIdData:w,afterFullRowMaps:C,selectCheckboxMaps:S}=f,O=yt.value,T=it.value,{transform:A,mapChildrenField:L}=O,{checkField:V}=T,Y=O.children||O.childrenField;let P=[];if(i)if(V)if(n){const ee=r?A?x:c:A?x:g;P=s.filterTree(ee,J=>s.get(J,V),{children:A?L:Y})}else P=(r?c:g).filter(J=>s.get(J,V));else{const ee=r||n&&!A?w:C;s.each(S,(J,ne)=>{ee[ne]&&P.push(w[ne].row)})}return P},getTreeRowChildren(r){const{treeConfig:n}=e,{fullAllDataRowIdData:i}=f,c=yt.value,{transform:g,mapChildrenField:x}=c,w=c.children||c.childrenField;if(r&&n){let C;if(s.isString(r)?C=r:C=$e(u,r),C){const S=i[C],O=S?S.row:null;if(O)return O[g?x:w]||[]}}return[]},getTreeRowLevel(r){const{treeConfig:n}=e,{fullAllDataRowIdData:i}=f;if(r&&n){let c;if(s.isString(r)?c=r:c=$e(u,r),c){const g=i[c];if(g)return g.level}}return-1},getTreeParentRow(r){const{treeConfig:n}=e,{fullAllDataRowIdData:i}=f;if(r&&n){let c;if(s.isString(r)?c=r:c=$e(u,r),c){const g=i[c];if(g)return g.parent}}return null},getParentRow(r){return Ze("vxe.error.delFunc",["getParentRow","getTreeParentRow"]),u.getTreeParentRow(r)},getRowById(r){const{fullAllDataRowIdData:n}=f,i=s.eqNull(r)?"":encodeURIComponent(r||"");return n[i]?n[i].row:null},getRowid(r){return $e(u,r)},getTableData(){const{tableData:r,footerTableData:n}=h,{tableFullData:i,afterFullData:c,tableFullTreeData:g}=f;return{fullData:e.treeConfig?g.slice(0):i.slice(0),visibleData:c.slice(0),tableData:r.slice(0),footerData:n.slice(0)}},getFullData(){const{treeConfig:r}=e,{tableFullData:n,tableFullTreeData:i}=f;if(r){const c=yt.value,{transform:g,mapChildrenField:x,rowField:w,parentField:C}=c,S=c.children||c.childrenField;return g?s.toArrayTree(s.toTreeArray(i,{children:x}),{key:w,parentKey:C,children:S,mapChildren:x}):i.slice(0)}return n.slice(0)},setColumnFixed(r,n){let i=!1;const c=s.isArray(r)?r:[r],g=Tt.value,x=en.value;for(let w=0;w<c.length;w++){const C=c[w],S=Er(u,C),O=lb(u,S);if(O&&O.fixed!==n){if(!O.fixed&&x)return ye.modal&&ye.modal.message({status:"error",content:jo("vxe.table.maxFixedCol",[g.maxFixedSize])}),ue();s.eachTree([O],T=>{T.fixed=n,T.renderFixed=n}),k.saveCustomStore("update:fixed"),i||(i=!0)}}return i?$.refreshColumn():ue()},clearColumnFixed(r){let n=!1;return(s.isArray(r)?r:[r]).forEach(c=>{const g=Er(u,c),x=lb(u,g);x&&x.fixed&&(s.eachTree([x],w=>{w.fixed=null,w.renderFixed=null}),k.saveCustomStore("update:fixed"),n||(n=!0))}),n?$.refreshColumn():ue()},hideColumn(r){let n=!1;return(s.isArray(r)?r:[r]).forEach(c=>{const g=Er(u,c);g&&g.visible&&(g.visible=!1,n||(n=!0))}),n?k.handleCustom():ue()},showColumn(r){let n=!1;return(s.isArray(r)?r:[r]).forEach(c=>{const g=Er(u,c);g&&!g.visible&&(g.visible=!0,n||(n=!0))}),n?k.handleCustom():ue()},setColumnWidth(r,n){const{elemStore:i}=f;let c=!1;const g=s.isArray(r)?r:[r];let x=s.toInteger(n);if(Yl(n)){const w=ct(i["main-body-scroll"]),C=w?w.clientWidth-1:0;x=Math.floor(x*C)}return x&&(g.forEach(w=>{const C=Er(u,w);C&&(C.resizeWidth=x,c||(c=!0))}),c)?u.refreshColumn().then(()=>({status:c})):ue().then(()=>({status:c}))},getColumnWidth(r){const n=Er(u,r);return n?n.renderWidth:0},resetColumn(r){return Ze("vxe.error.delFunc",["resetColumn","resetCustom"]),u.resetCustom(r)},refreshColumn(r){return r&&mg(),Xa(!0).then(()=>u.refreshScroll()).then(()=>no(!1,!0,!0))},setRowHeightConf(r){const{fullAllDataRowIdData:n}=f;let i=!1;return r&&(s.each(r,(c,g)=>{const x=n[g];if(x){const w=s.toInteger(c);w&&(x.resizeHeight=w,i||(i=!0))}}),i&&(f.isResizeCellHeight=!0,h.resizeHeightFlag++)),ue().then(()=>(ao(),{status:i}))},getRowHeightConf(r){const{fullAllDataRowIdData:n,afterFullData:i}=f,{handleGetRowId:c}=Tr(u),g=Ct.value,x=ut.value,w=Ot.value,C={};return i.forEach(S=>{const O=c(S),T=n[O];if(T){const A=T.resizeHeight;if(A||r){const L=A||x.height||g.height||T.height||w;C[O]=L}}}),C},recalcRowHeight(r){const{fullAllDataRowIdData:n}=f,i=s.isArray(r)?r:[r],c=_.value;if(c){const{handleGetRowId:g}=Tr(u);c.setAttribute("data-calc-row","Y"),i.forEach(x=>{const w=s.isString(x)||s.isNumber(x)?x:g(x),C=n[w];C&&(C.resizeHeight=Eo(C,c)),c.removeAttribute("data-calc-row")}),h.calcCellHeightFlag++}return ue()},setRowHeight(r,n){const{fullAllDataRowIdData:i}=f;let c=!1;const g=s.isArray(r)?r:[r];let x=s.toInteger(n);if(Yl(n)){const w=B.value,C=w?w.$el:null,S=C?C.clientHeight-1:0;x=Math.floor(x*S)}if(x){const{handleGetRowId:w}=Tr(u);g.forEach(C=>{const S=s.isString(C)||s.isNumber(C)?C:w(C),O=i[S];O&&(O.resizeHeight=x,c||(c=!0))}),c&&(f.isResizeCellHeight=!0,h.resizeHeightFlag++)}return ue().then(()=>({status:c}))},getRowHeight(r){const{fullAllDataRowIdData:n}=f,i=Ct.value,c=ut.value,g=Ot.value,x=s.isString(r)||s.isNumber(r)?r:$e(u,r),w=n[x];return w?w.resizeHeight||c.height||i.height||w.height||g:0},refreshScroll(){const{elemStore:r,lastScrollLeft:n,lastScrollTop:i}=f,c=ct(r["main-header-scroll"]),g=ct(r["main-body-scroll"]),x=ct(r["main-footer-scroll"]),w=ct(r["left-body-scroll"]),C=ct(r["right-body-scroll"]),S=we.value,O=Re.value;return new Promise(T=>{if(n||i)return oa(u,n,i).then(()=>{setTimeout(T,10)});f.intoRunScroll=!0,lr(O,i),lr(g,i),lr(w,i),lr(C,i),sr(S,n),sr(g,n),sr(c,n),sr(x,n),setTimeout(()=>{f.intoRunScroll=!1,T()},10)})},recalculate(r){const n=!!r;return no(n,n,n)},openTooltip(r,n){const i=te.value;return i&&i.open?i.open(r,n):ue()},closeTooltip(){const{tooltipStore:r}=h,n=W.value,i=te.value;return r.visible&&(Object.assign(r,{row:null,column:null,content:null,visible:!1,type:null,currOpts:{}}),n&&n.close&&n.close()),i&&i.close&&i.close(),ue()},isAllCheckboxChecked(){return h.isAllSelected},isAllCheckboxIndeterminate(){return!h.isAllSelected&&h.isIndeterminate},getCheckboxIndeterminateRecords(r){const{treeConfig:n}=e,{fullDataRowIdData:i,treeIndeterminateRowMaps:c}=f;if(n){const g=[],x=[];return s.each(c,(w,C)=>{w&&(g.push(w),i[C]&&x.push(w))}),r?g:x}return[]},setCheckboxRow(r,n){return r&&!s.isArray(r)&&(r=[r]),al(r,n,!0)},setCheckboxRowKey(r,n){const{fullAllDataRowIdData:i}=f;s.isArray(r)||(r=[r]);const c=[];return r.forEach(g=>{const x=i[g];x&&c.push(x.row)}),al(c,n,!0)},isCheckedByCheckboxRow(r){const{updateCheckboxFlag:n}=h,{selectCheckboxMaps:i}=f,c=it.value,{checkField:g}=c;return g?s.get(r,g):!!n&&!!i[$e(u,r)]},isCheckedByCheckboxRowKey(r){const{updateCheckboxFlag:n}=h,{fullAllDataRowIdData:i,selectCheckboxMaps:c}=f,g=it.value,{checkField:x}=g;if(x){const w=i[r];return w?s.get(w.row,x):!1}return!!n&&!!c[r]},isIndeterminateByCheckboxRow(r){const{treeIndeterminateRowMaps:n}=f;return!!n[$e(u,r)]&&!u.isCheckedByCheckboxRow(r)},isIndeterminateByCheckboxRowKey(r){const{treeIndeterminateRowMaps:n}=f;return!!n[r]&&!u.isCheckedByCheckboxRowKey(r)},toggleCheckboxRow(r){const{selectCheckboxMaps:n}=f,i=it.value,{checkField:c}=i,g=c?!s.get(r,c):!n[$e(u,r)];return k.handleBatchSelectRows([r],g,!0),k.checkSelectionStatus(),ue()},setAllCheckboxRow(r){return Wa(r,!0)},getRadioReserveRecord(r){const{treeConfig:n}=e,{fullDataRowIdData:i,radioReserveRow:c,afterFullData:g}=f,x=Dt.value,w=yt.value,C=w.children||w.childrenField;if(x.reserve&&c){const S=$e(u,c);if(r){if(!i[S])return c}else{const O=Pl(u);if(n){if(s.findTree(g,A=>S===s.get(A,O),{children:C}))return c}else if(!g.some(T=>S===s.get(T,O)))return c}}return null},clearRadioReserve(){return f.radioReserveRow=null,ue()},getCheckboxReserveRecords(r){const{treeConfig:n}=e,{afterFullData:i,fullDataRowIdData:c,checkboxReserveRowMap:g}=f,x=it.value,w=yt.value,C=w.children||w.childrenField,S=[];if(x.reserve){const{handleGetRowId:O}=Tr(u),T={};n?s.eachTree(i,A=>{T[O(A)]=1},{children:C}):i.forEach(A=>{T[O(A)]=1}),s.each(g,(A,L)=>{A&&(r?c[L]||S.push(A):T[L]||S.push(A))})}return S},clearCheckboxReserve(){return f.checkboxReserveRowMap={},ue()},toggleAllCheckboxRow(){return wg(null,!h.isAllSelected),ue()},clearCheckboxRow(){const{treeConfig:r}=e,{tableFullData:n}=f,i=yt.value,c=i.children||i.childrenField,g=it.value,{checkField:x,reserve:w}=g,C=g.indeterminateField||g.halfField;if(x){const S=O=>{r&&C&&s.set(O,C,!1),s.set(O,x,!1)};r?s.eachTree(n,S,{children:c}):n.forEach(S)}return w&&n.forEach(S=>il(S,!1)),h.isAllSelected=!1,h.isIndeterminate=!1,f.selectCheckboxMaps={},f.treeIndeterminateRowMaps={},h.updateCheckboxFlag++,ue()},setCurrentRow(r){const n=f.xeGanttView,i=Ct.value,c=_.value;return $.clearCurrentRow(),h.currentRow=r,(i.isCurrent||e.highlightCurrentRow)&&c&&s.arrayEach(c.querySelectorAll(`[rowid="${$e(u,r)}"]`),g=>Do(g,"row--current")),n&&n.handleUpdateCurrentRow&&n.handleUpdateCurrentRow(r),ue()},isCheckedByRadioRow(r){const{selectRadioRow:n}=h;return r&&n?u.eqRow(n,r):!1},isCheckedByRadioRowKey(r){const{selectRadioRow:n}=h;return n?r===$e(u,n):!1},setRadioRow(r){return hi(r,!0)},setRadioRowKey(r){const{fullAllDataRowIdData:n}=f,i=n[r];return i?hi(i.row,!0):ue()},clearCurrentRow(){const r=f.xeGanttView,n=_.value;return h.currentRow=null,f.hoverRow=null,n&&s.arrayEach(n.querySelectorAll(".row--current"),i=>co(i,"row--current")),r&&r.handleUpdateCurrentRow&&r.handleUpdateCurrentRow(),ue()},clearRadioRow(){return h.selectRadioRow=null,ue()},getCurrentRecord(r){const{currentRow:n}=h,{fullDataRowIdData:i,afterFullRowMaps:c}=f;if(Ct.value.isCurrent||e.highlightCurrentRow){const x=$e(u,n);if(r){if(i[x])return n}else if(c[x])return n}return null},getRadioRecord(r){const{fullDataRowIdData:n,afterFullRowMaps:i}=f,{selectRadioRow:c}=h;if(c){const g=$e(u,c);if(r){if(n[g])return c}else if(i[g])return c}return null},getCurrentColumn(){return Tt.value.isCurrent||e.highlightCurrentColumn?h.currentColumn:null},setCurrentColumn(r){const{mouseConfig:n}=e,i=fr.value,c=n&&i.selected,g=Er(u,r);return g&&(u.clearCurrentColumn(),h.currentColumn=g),ue().then(()=>{c&&u.addCellSelectedClass()})},clearCurrentColumn(){return h.currentColumn=null,ue()},setPendingRow(r,n){const{handleGetRowId:i}=Tr(u),{pendingRowMaps:c}=f;return r&&!s.isArray(r)&&(r=[r]),n?r.forEach(g=>{const x=i(g);x&&!c[x]&&(c[x]=g)}):r.forEach(g=>{const x=i(g);x&&c[x]&&delete c[x]}),h.pendingRowFlag++,ue()},togglePendingRow(r){const{handleGetRowId:n}=Tr(u),{pendingRowMaps:i}=f;return r&&!s.isArray(r)&&(r=[r]),r.forEach(c=>{const g=n(c);g&&(i[g]?delete i[g]:i[g]=c)}),h.pendingRowFlag++,ue()},hasPendingByRow(r){return $.isPendingByRow(r)},isPendingByRow(r){const{pendingRowMaps:n}=f,i=$e(u,r);return!!n[i]},getPendingRecords(){const{fullAllDataRowIdData:r,pendingRowMaps:n}=f,i=[];return s.each(n,(c,g)=>{r[g]&&i.push(c)}),i},clearPendingRow(){return f.pendingRowMaps={},h.pendingRowFlag++,ue()},sort(r,n){const i=wr.value,{multiple:c,remote:g,orders:x}=i;return r&&s.isString(r)&&(r=[{field:r,order:n}]),s.isArray(r)||(r=[r]),r.length?(c||Vo(),(c?r:[r[0]]).forEach((w,C)=>{let{field:S,order:O}=w,T=S;s.isString(S)&&(T=$.getColumnByField(S)),T&&T.sortable&&(x&&x.indexOf(O)===-1&&(O=ol(T)),T.order!==O&&(T.order=O),T.sortTime=Date.now()+C)}),g||k.handleTableData(!0),ue().then(()=>(ao(),$.updateCellAreas(),Vr()))):ue()},setSort(r,n){return ll(null,r,n)},setSortByEvent(r,n){return ll(r,n,!0)},clearSort(r){const n=wr.value;if(r){const i=Er(u,r);i&&(i.order=null)}else Vo();return n.remote||u.handleTableData(!0),ue().then(()=>(ao(),Vr()))},clearSortByEvent(r,n){const{tableFullColumn:i}=f,c=wr.value,{multiple:g}=c,x=[];let w=null;return r&&(n?(w=Er(u,n),w&&(w.order=null)):i.forEach(C=>{C.order&&(C.order=null,x.push(C))}),c.remote||u.handleTableData(!0),g||(w=x[0]),w&&u.handleColumnSortEvent(r,w),g&&x.length&&Kt("clear-all-sort",{$table:u,$event:r,cols:x,sortList:[]},r)),ue().then(()=>(ao(),Vr()))},isSort(r){if(r){const n=Er(u,r);return n?n.sortable&&!!n.order:!1}return $.getSortColumns().length>0},getSortColumns(){const r=wr.value,{multiple:n,chronological:i}=r,c=[],{tableFullColumn:g}=f;return g.forEach(x=>{const{field:w,order:C}=x;x.sortable&&C&&c.push({column:x,field:w,property:w,order:C,sortTime:x.sortTime})}),n&&i&&c.length>1?s.orderBy(c,"sortTime"):c},setFilterByEvent(r,n,i){const c=Er(u,n);return c&&c.filters?(c.filters=ig(i||[]),u.handleColumnConfirmFilter(c,r)):ue()},closeFilter(){const{filterStore:r}=h,{column:n,visible:i}=r;return r.isAllSelected=!1,r.isIndeterminate=!1,r.options=[],r.visible=!1,i&&Kt("filter-visible",{column:n,property:n.field,field:n.field,filterList:()=>u.getCheckedFilters(),visible:!1},null),ue()},isActiveFilterByColumn(r){const n=Er(u,r);return n?n.filters&&n.filters.some(i=>i.checked):u.getCheckedFilters().length>0},isFilter(r){return $.isActiveFilterByColumn(r)},clearFilterByEvent(r,n){const{filterStore:i}=h,{tableFullColumn:c}=f,g=qr.value,{multiple:x}=g,w=[];let C=null;if(n?(C=Er(u,n),C&&u.handleClearFilter(C)):c.forEach(S=>{S.filters&&(w.push(S),u.handleClearFilter(S))}),(!n||C!==i.column)&&Object.assign(i,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),g.remote||u.updateData(),x||(C=w[0]),C){const S=()=>u.getCheckedFilters(),O=[],T=[];C.filters.forEach(L=>{L.checked&&(O.push(L.value),T.push(L.data))});const A={$table:u,$event:r,column:C,field:C.field,property:C.field,values:O,datas:T,filters:S,filterList:S};u.dispatchEvent("filter-change",A,r),u.dispatchEvent("clear-filter",A,r)}return x&&w.length&&Kt("clear-all-filter",{$table:u,$event:r,cols:w,filterList:[]},r),ue()},isRowExpandLoaded(r){const{fullAllDataRowIdData:n}=f,i=n[$e(u,r)];return i&&!!i.expandLoaded},clearRowExpandLoaded(r){const{fullAllDataRowIdData:n,rowExpandLazyLoadedMaps:i}=f,c=er.value,{lazy:g}=c,x=$e(u,r),w=n[x];return g&&w&&(w.expandLoaded=!1,delete i[x]),h.rowExpandedFlag++,ue()},reloadRowExpand(r){const{rowExpandLazyLoadedMaps:n}=f,i=er.value,{lazy:c}=i,g=$e(u,r);return c&&!n[g]&&u.clearRowExpandLoaded(r).then(()=>fg(r)),ue()},reloadExpandContent(r){return Ze("vxe.error.delFunc",["reloadExpandContent","reloadRowExpand"]),u.reloadRowExpand(r)},toggleRowExpand(r){return u.setRowExpand(r,!u.isRowExpandByRow(r))},setAllRowExpand(r){const n=yt.value,{tableFullData:i,tableFullTreeData:c}=f,g=n.children||n.childrenField;let x=[];return e.treeConfig?s.eachTree(c,w=>{x.push(w)},{children:g}):x=i,$.setRowExpand(x,r)},setRowExpand(r,n){const{expandColumn:i}=h;let{fullAllDataRowIdData:c,rowExpandedMaps:g,rowExpandLazyLoadedMaps:x}=f;const{handleGetRowId:w}=Tr(u),C=er.value,{reserve:S,lazy:O,accordion:T,toggleMethod:A}=C,L=[],V=i?u.getColumnIndex(i):-1,Y=i?u.getVMColumnIndex(i):-1;if(r){s.isArray(r)||(r=[r]),T&&(g={},f.rowExpandedMaps=g,r=r.slice(r.length-1,r.length));const P=A?r.filter(ee=>A({$table:u,expanded:n,column:i,columnIndex:V,$columnIndex:Y,row:ee,rowIndex:u.getRowIndex(ee),$rowIndex:u.getVMRowIndex(ee)})):r;n?P.forEach(ee=>{const J=w(ee);if(!g[J]){const ne=c[J];O&&!ne.expandLoaded&&!x[J]?L.push(fg(ee)):g[J]=ee}}):P.forEach(ee=>{const J=w(ee);g[J]&&delete g[J]}),S&&P.forEach(ee=>gg(ee,n))}return h.rowExpandedFlag++,Promise.all(L).then(()=>ue()).then(()=>no(!0,!0,!0)).then(()=>(ao(),_n(),Rg(),u.updateCellAreas()))},isRowExpandByRow(r){const{rowExpandedFlag:n}=h,{rowExpandedMaps:i}=f,c=$e(u,r);return!!n&&!!i[c]},isExpandByRow(r){return Ze("vxe.error.delFunc",["isExpandByRow","isRowExpandByRow"]),$.isRowExpandByRow(r)},clearRowExpand(){const{tableFullData:r,scrollYStore:n}=f,i=er.value,{reserve:c}=i,g=u.getRowExpandRecords();return f.rowExpandedMaps={},c&&r.forEach(x=>gg(x,!1)),h.rowExpandedFlag++,n.startIndex=0,n.endIndex=1,ue().then(()=>{if(g.length)return no(!0,!0,!0)}).then(()=>(ao(),_n(),Rg(),u.updateCellAreas()))},clearRowExpandReserve(){return f.rowExpandedReserveRowMap={},ue()},getRowExpandRecords(){const r=[];return s.each(f.rowExpandedMaps,n=>{n&&r.push(n)}),r},setRowGroups(r){const{aggregateConfig:n,rowGroupConfig:i}=e,c=wt.value,{maxGroupSize:g}=c;if(!(n||i))return Ne("vxe.error.reqProp",["aggregate-config"]),ue();const x=r?s.isArray(r)?r:[r]:[];return g&&x.length>g?(ye.modal&&ye.modal.message({status:"error",content:jo("vxe.table.maxGroupCol",[g])}),ue()):x.length?(Xi(x.map(w=>s.isString(w)?w:w.field)),sl(f.tableSynchData,!0)):ue()},getRowGroups(){const{aggregateConfig:r,rowGroupConfig:n}=e,{fullColumnFieldData:i}=f;if(r||n){const{rowGroupList:c}=h;return c.map(({field:g})=>{const x=i[g];return x?x.column:{field:g}})}return[]},getRowGroupFields(){return u.getRowGroups().map(r=>r.field)},clearRowGroups(){const{aggregateConfig:r,rowGroupConfig:n}=e;return r||n?(Xi([]),sl(f.tableSynchData,!0)):(Ne("vxe.error.reqProp",["aggregate-config"]),ue())},isRowGroupRecord(r){return Ze("vxe.error.delFunc",["isRowGroupRecord","isAggregateRecord"]),u.isAggregateRecord(r)},isRowGroupExpandByRow(r){return Ze("vxe.error.delFunc",["isRowGroupExpandByRow","isAggregateExpandByRow"]),u.isAggregateExpandByRow(r)},isAggregateRecord(r){const{isRowGroupStatus:n}=h;return n&&r.isAggregate},getAggregateContentByRow(r){const{isRowGroupStatus:n}=h;return n&&r&&r.isAggregate?r.groupContent:""},getAggregateRowChildren(r){const n=wt.value,{childrenField:i,mapChildrenField:c}=n,{isRowGroupStatus:g}=h;return g&&r&&r.isAggregate&&i&&c?r[c]||[]:[]},isAggregateExpandByRow(r){const{rowGroupExpandedFlag:n}=h,{rowGroupExpandedMaps:i}=f;return!!n&&!!i[$e(u,r)]},setRowGroupExpand(r,n){return r?(s.isArray(r)||(r=[r]),Cg(r,n)):ue()},setRowGroupExpandByField(r,n){const{isRowGroupStatus:i}=h,c=wt.value,{childrenField:g}=c;if(r&&(s.isArray(r)||(r=[r]),i)){const x=[],w={};if(r.forEach(C=>{w[C]=!0}),s.eachTree(f.afterGroupFullData,C=>{C.isAggregate&&w[C.groupField]&&x.push(C)},{children:g}),x.length)return Cg(x,n)}return ue()},setAllRowGroupExpand(r){const{tableFullGroupData:n}=f,i=wt.value,{mapChildrenField:c}=i,g={};return r&&c&&s.eachTree(n,x=>{x[c]&&x[c].length&&(g[$e(u,x)]=x)},{children:c}),f.rowGroupExpandedMaps=g,On(),u.handleTableData(),Yr(),h.rowGroupExpandedFlag++,no(!0,!0,!0)},clearRowGroupExpand(){return f.rowGroupExpandedMaps={},On(),u.handleTableData(),Yr(),h.rowGroupExpandedFlag++,no(!0,!0,!0)},getTreeExpandRecords(){const r=[];return s.each(f.treeExpandedMaps,n=>{n&&r.push(n)}),r},isTreeExpandLoaded(r){const{fullAllDataRowIdData:n}=f,i=n[$e(u,r)];return i&&!!i.treeLoaded},clearTreeExpandLoaded(r){const{fullAllDataRowIdData:n,treeExpandedMaps:i}=f,c=yt.value,{transform:g}=c;return r?(s.isArray(r)||(r=[r]),r.forEach(x=>{const w=$e(u,x),C=n[w];C&&(C.treeLoaded=!1,i[w]&&delete i[w])})):s.each(n,x=>{x.treeLoaded=!1}),f.treeExpandedMaps={},g&&(On(),u.handleTableData()),h.treeExpandedFlag++,ue()},reloadTreeExpand(r){const{treeExpandLazyLoadedMaps:n}=f,i=yt.value,c=i.hasChild||i.hasChildField,{transform:g,lazy:x}=i,w=$e(u,r);return x&&r[c]&&!n[w]?u.clearTreeExpandLoaded(r).then(()=>ug(r)).then(()=>{g&&(On(),u.handleTableData()),h.treeExpandedFlag++}).then(()=>u.recalculate()):ue()},reloadTreeChilds(r){return Ze("vxe.error.delFunc",["reloadTreeChilds","reloadTreeExpand"]),u.reloadTreeExpand(r)},toggleTreeExpand(r){return u.setTreeExpand(r,!u.isTreeExpandByRow(r))},setAllTreeExpand(r){const{tableFullData:n}=f,i=yt.value,{transform:c,lazy:g}=i,x=i.children||i.childrenField,w=[];return s.eachTree(n,C=>{const S=C[x];(g||S&&S.length)&&w.push(C)},{children:x}),u.setTreeExpand(w,r).then(()=>{if(c)return On(),h.treeExpandedFlag++,u.recalculate()})},setTreeExpand(r,n){const i=yt.value,{transform:c}=i;return r&&(s.isArray(r)||(r=[r]),r.length)?c?Sw(r,n):xg(r,n):ue()},isTreeExpandByRow(r){const{treeExpandedFlag:n}=h,{treeExpandedMaps:i}=f;return!!n&&!!i[$e(u,r)]},clearTreeExpand(){const{tableFullTreeData:r}=f,n=yt.value,i=n.children||n.childrenField,{transform:c,reserve:g}=n,x=u.getTreeExpandRecords();return f.treeExpandedMaps={},g&&s.eachTree(r,w=>dg(w,!1),{children:i}),u.handleTableData().then(()=>{c&&(On(),u.handleTableData()),h.treeExpandedFlag++}).then(()=>{if(x.length)return u.recalculate()})},clearTreeExpandReserve(){return f.treeExpandedReserveRowMap={},ue()},getScroll(){const{scrollXLoad:r,scrollYLoad:n}=h,{elemStore:i}=f,c=ct(i["main-body-scroll"]);return{virtualX:r,virtualY:n,scrollTop:c?c.scrollTop:0,scrollLeft:c?c.scrollLeft:0}},scrollTo(r,n){const{elemStore:i}=f,c=ct(i["main-header-scroll"]),g=ct(i["main-body-scroll"]),x=ct(i["main-footer-scroll"]),w=ct(i["left-body-scroll"]),C=ct(i["right-body-scroll"]),S=we.value,O=Re.value;return f.intoRunScroll=!0,r&&(s.isNumber(r)||(n=r.top,r=r.left)),s.isNumber(r)&&(sr(S,r),sr(g,r),sr(c,r),sr(x,r),cl()),s.isNumber(n)&&(lr(O,n),lr(g,n),lr(w,n),lr(C,n),mi()),h.scrollXLoad||h.scrollYLoad?new Promise(T=>{setTimeout(()=>{ue(()=>{f.intoRunScroll=!1,T()})},30)}):ue().then(()=>{f.intoRunScroll=!1})},scrollToRow(r,n){const{isAllOverflow:i,scrollYLoad:c,scrollXLoad:g}=h,x=[];return r&&(e.treeConfig?x.push(u.scrollToTreeRow(r)):x.push(ib(u,r))),n&&x.push(Lw(n,r)),Promise.all(x).then(()=>{if(r)return!i&&(c||g)&&(Sn(),ln()),ue()})},scrollToColumn(r){const{fullColumnIdData:n}=f,i=Er(u,r);return i&&n[i.id]?ab(u,i):ue()},clearScroll(){const{elemStore:r,scrollXStore:n,scrollYStore:i}=f,c=ct(r["main-header-scroll"]),g=ct(r["main-body-scroll"]),x=ct(r["main-footer-scroll"]),w=ct(r["left-body-scroll"]),C=ct(r["right-body-scroll"]),S=we.value,O=Re.value;return f.intoRunScroll=!0,sr(S,0),sr(g,0),sr(c,0),sr(x,0),lr(O,0),lr(g,0),lr(w,0),lr(C,0),n.startIndex=0,n.visibleStartIndex=0,n.endIndex=n.visibleSize,n.visibleEndIndex=n.visibleSize,i.startIndex=0,i.visibleStartIndex=0,i.endIndex=i.visibleSize,i.visibleEndIndex=i.visibleSize,ue().then(()=>{f.intoRunScroll=!1})},updateFooter(){const{showFooter:r,footerData:n,footerMethod:i}=e,{visibleColumn:c,afterFullData:g}=f;let x=[];return r&&n&&n.length?x=n.slice(0):r&&i&&(x=c.length?i({columns:c,data:g,$table:u,$grid:y,$gantt:m}):[]),h.footerTableData=x,u.handleUpdateFooterMerge(),u.dispatchEvent("footer-data-change",{visibleColumn:f.visibleColumn,footData:x},null),ue()},updateStatus(r,n){return ue().then(()=>{const{editRules:i}=e;if(r&&i)return u.handleCellRuleUpdateStatus("change",r,n)})},setMergeCells(r){return e.spanMethod&&Ne("vxe.error.errConflicts",["merge-cells","span-method"]),Go(r),u.handleUpdateBodyMerge(),ue().then(()=>{const{expandColumn:n}=h,{mergeBodyList:i}=f;return n&&i.length&&Ze("vxe.error.errConflicts",["type=expand","merge-cells | span-method"]),u.updateCellAreas(),Vr()})},removeMergeCells(r){e.spanMethod&&Ne("vxe.error.errConflicts",["merge-cells","span-method"]);const n=Il(r);return u.handleUpdateBodyMerge(),ue().then(()=>(u.updateCellAreas(),Vr(),n))},getMergeCells(){return f.mergeBodyList.slice(0)},clearMergeCells(){return f.mergeBodyList=[],f.mergeBodyMaps={},f.mergeBodyCellMaps={},h.mergeBodyFlag++,ue().then(()=>Vr())},setMergeHeaderCells(r){return on(r),u.handleUpdateHeaderMerge(),ue().then(()=>Vr())},removeMergeHeaderCells(r){const n=fi(r);return u.handleUpdateHeaderMerge(),ue().then(()=>(Vr(),n))},getMergeHeaderCells(){return f.mergeHeaderList.slice(0)},clearMergeHeaderCells(){return f.mergeHeaderList=[],f.mergeHeaderMaps={},f.mergeHeaderCellMaps={},h.mergeHeadFlag++,ue().then(()=>Vr())},setMergeFooterCells(r){return e.footerSpanMethod&&Ne("vxe.error.errConflicts",["merge-footer-cells | merge-footer-items","footer-span-method"]),Mr(r),u.handleUpdateFooterMerge(),ue().then(()=>Vr())},setMergeFooterItems(r){return u.setMergeFooterCells(r)},removeMergeFooterCells(r){e.footerSpanMethod&&Ne("vxe.error.errConflicts",["merge-footer-cells | merge-footer-items","footer-span-method"]);const n=yn(r);return u.handleUpdateFooterMerge(),ue().then(()=>(Vr(),n))},removeMergeFooterItems(r){return u.removeMergeFooterCells(r)},getMergeFooterCells(){return f.mergeFooterList.slice(0)},getMergeFooterItems(){return u.getMergeFooterCells()},clearMergeFooterCells(){return f.mergeFooterList=[],f.mergeFooterMaps={},f.mergeFooterCellMaps={},h.mergeFootFlag++,ue().then(()=>Vr())},clearMergeFooterItems(){return u.clearMergeFooterCells()},updateCellAreas(){const{mouseConfig:r}=e,n=fr.value;return r&&n.area&&u.handleRecalculateCellAreaEvent?u.handleRecalculateCellAreaEvent():ue()},getCustomStoreData(){const{id:r}=e,n=Jr.value,{isRowGroupStatus:i,rowGroupList:c}=h,{fullColumnFieldData:g,collectColumn:x}=f,{storage:w,checkMethod:C,storeOptions:S}=n,O=w===!0,T=O?{}:Object.assign({},w||{},S),A=vr(T.resizable,O),L=vr(T.visible,O),V=vr(T.fixed,O),Y=vr(T.sort,O),P=vr(T.aggGroup,O),ee=vr(T.aggFunc,O),J={},ne=[],z={},G={},Ce={},he={},fe={resizableData:void 0,sortData:void 0,visibleData:void 0,fixedData:void 0,aggGroupData:void 0,aggFuncData:void 0};if(!r)return w&&Ne("vxe.error.reqProp",["id"]),fe;let Pe=0,Me=0,Se=0,Ie=0,ze=0;const st={};return s.eachTree(x,(Ue,et,tt,dt,Lt)=>{const zt=Ue.getKey();if(!zt){Ne("vxe.error.reqProp",[`${Ue.getTitle()||Ue.type||""} -> column.field=?`]);return}if(Lt){if(Y){const Nt=Lt.getKey(),rt=st[Nt];if(Me=1,rt){const or={k:zt};st[zt]=or,rt.c||(rt.c=[]),rt.c.push(or)}}}else{if(Y){Me=1;const Nt={k:zt};st[zt]=Nt,ne.push(Nt)}V&&(Ue.fixed||"")!==(Ue.defaultFixed||"")&&(Se=1,G[zt]=Ue.fixed)}A&&Ue.resizeWidth&&(Pe=1,J[zt]=Ue.renderWidth),L&&(!C||C({$table:u,column:Ue}))&&(!Ue.visible&&Ue.defaultVisible?(Ie=1,z[zt]=!1):Ue.visible&&!Ue.defaultVisible&&(Ie=1,z[zt]=!0)),ee&&(Ue.aggFunc||"")!==(Ue.defaultAggFunc||"")&&(ze=1,he[zt]=Ue.aggFunc)}),Pe&&(fe.resizableData=J),Me&&(fe.sortData=ne),Se&&(fe.fixedData=G),Ie&&(fe.visibleData=z),P&&i&&(c.forEach(Ue=>{const et=g[Ue.field];et&&(Ce[et.column.getKey()]=!0)}),fe.aggGroupData=Ce),ze&&(fe.aggFuncData=he),fe},focus(){return f.isActivated=!0,ue()},blur(){return f.isActivated=!1,ue()},connect(r){return u.connectToolbar(r)},connectToolbar(r){return r?(Ge=r,Ge.syncUpdate({collectColumn:f.collectColumn,$table:u})):Ne("vxe.error.barUnableLink"),ue()}};const Hw=r=>{const{editStore:n,ctxMenuStore:i,filterStore:c,customStore:g}=h,{mouseConfig:x,editRules:w}=e,C=_.value,S=Cr.value,O=je.value,T=Kr.value,{actived:A}=n,L=X.value,V=M.value,Y=H.value,P=F.value;if(V&&(Jt(r,C,"vxe-cell--filter").flag||Jt(r,V.getRefMaps().refElem.value).flag||Jt(r,document.body,"vxe-table--ignore-clear").flag||k.preventEvent(r,"event.clearFilter",c.args,$.closeFilter)),Y&&(g.btnEl===r.target||Jt(r,document.body,"vxe-toolbar-custom-target").flag||Jt(r,Y.getRefMaps().refElem.value).flag||Jt(r,document.body,"vxe-table--ignore-clear").flag||k.preventEvent(r,"event.clearCustom",{},()=>{u.closeCustom&&u.closeCustom()})),A.row){if(S.autoClear!==!1){const J=A.args.cell;(!J||!Jt(r,J).flag)&&(L&&Jt(r,L.$el).flag||(!f._lastCallTime||f._lastCallTime+50<Date.now())&&(Jt(r,document.body,"vxe-table--ignore-clear").flag||k.preventEvent(r,"event.clearEdit",A.args,()=>{let ne;if(S.mode==="row"){const z=Jt(r,C,"vxe-body--row"),G=z.flag?$.getRowNode(z.targetElem):null;ne=G?!u.eqRow(G.item,A.args.row):!1}else ne=!Jt(r,C,"col--edit").flag;if(ne||(ne=Jt(r,C,"vxe-header--row").flag),ne||(ne=Jt(r,C,"vxe-footer--row").flag),!ne&&e.height&&!h.overflowY){const z=r.target;hn(z,"vxe-table--body-wrapper")&&(ne=r.offsetY<z.clientHeight)}(ne||!Jt(r,C).flag)&&setTimeout(()=>{u.handleClearEdit(r).then(()=>{!f.isActivated&&w&&O.autoClear&&(h.validErrorMaps={})})})})))}}else if(x&&!Jt(r,C).flag&&!(R&&Jt(r,R.getRefMaps().refElem.value).flag)&&!(P&&Jt(r,P.getRefMaps().refElem.value).flag)&&!(Ge&&Jt(r,Ge.getRefMaps().refElem.value).flag)&&(u.clearSelected&&u.clearSelected(),T.autoClear&&u.getCellAreas)){const J=u.getCellAreas();J&&J.length&&!Jt(r,document.body,"vxe-table--ignore-areas-clear").flag&&k.preventEvent(r,"event.clearAreas",{},()=>{u.clearCellAreas(),u.clearCopyCellArea(),Kt("clear-cell-area-selection",{cellAreas:J},r)})}u.closeMenu&&i.visible&&P&&!Jt(r,P.getRefMaps().refElem.value).flag&&u.closeMenu();const ee=Jt(r,R?R.getRefMaps().refElem.value:C).flag;!ee&&w&&O.autoClear&&(h.validErrorMaps={}),f.isActivated=ee},$w=()=>{$.closeFilter(),u.closeMenu&&u.closeMenu()},Pw=()=>{$.closeTooltip(),u.closeMenu&&u.closeMenu()},_w=r=>{const{mouseConfig:n,keyboardConfig:i}=e,{filterStore:c,ctxMenuStore:g,editStore:x}=h,w=fr.value,C=yr.value,{actived:S}=x;dr.hasKey(r,Oo.ESCAPE)&&k.preventEvent(r,"event.keydown",null,()=>{if(Kt("keydown-start",{},r),i&&n&&w.area&&u.handleKeyboardCellAreaEvent)u.handleKeyboardCellAreaEvent(r);else if((S.row||c.visible||g.visible)&&(r.stopPropagation(),u.closeMenu&&u.closeMenu(),$.closeFilter(),i&&C.isEsc&&S.row)){const T=S.args;u.handleClearEdit(r),w.selected&&ue(()=>u.handleSelected(T,r))}Kt("keydown",{},r),Kt("keydown-end",{},r)})},qw=r=>{f.isActivated&&u.preventEvent(r,"event.keydown",null,()=>{const{mouseConfig:n,keyboardConfig:i,treeConfig:c,editConfig:g,highlightCurrentRow:x,highlightCurrentColumn:w}=e,{ctxMenuStore:C,editStore:S,currentRow:O}=h,{afterFullData:T}=f,A=Sr.value,L=nr.value,V=yr.value,Y=fr.value,P=Cr.value,ee=yt.value,J=Zr.value,ne=Ct.value,z=Tt.value,{selected:G,actived:Ce}=S,he=ee.children||ee.childrenField,fe=r.keyCode,Pe=dr.hasKey(r,Oo.ESCAPE),Me=dr.hasKey(r,Oo.BACKSPACE),Se=dr.hasKey(r,Oo.TAB),Ie=dr.hasKey(r,Oo.ENTER),ze=dr.hasKey(r,Oo.SPACEBAR),st=dr.hasKey(r,Oo.ARROW_LEFT),Ue=dr.hasKey(r,Oo.ARROW_UP),et=dr.hasKey(r,Oo.ARROW_RIGHT),tt=dr.hasKey(r,Oo.ARROW_DOWN),dt=dr.hasKey(r,Oo.DELETE),Lt=dr.hasKey(r,Oo.F2),zt=dr.hasKey(r,Oo.CONTEXT_MENU),Nt=$i(r),rt=r.shiftKey,or=r.altKey,tr=st||Ue||et||tt,Bt=A&&C.visible&&(Ie||ze||tr),rr=It(g)&&Ce.column&&Ce.row,Pt=P.beforeEditMethod||P.activeMethod;if(Bt)r.preventDefault(),C.showChild&&Kl(C.selected)?u.moveCtxMenu(r,C,"selectChild",st,!1,C.selected.children):u.moveCtxMenu(r,C,"selected",et,!0,J);else if(i&&n&&Y.area&&u.handleKeyboardCellAreaEvent)u.handleKeyboardCellAreaEvent(r);else if(Pe){if(u.closeMenu&&u.closeMenu(),u.closeFilter(),i&&V.isEsc&&Ce.row){const At=Ce.args;u.handleClearEdit(r),Y.selected&&ue(()=>u.handleSelected(At,r))}}else if(ze&&i&&V.isChecked&&G.row&&G.column&&(G.column.type==="checkbox"||G.column.type==="radio"))r.preventDefault(),G.column.type==="checkbox"?k.handleToggleCheckRowEvent(r,G.args):k.triggerRadioRowEvent(r,G.args);else if(Lt&&It(g))rr||G.row&&G.column&&(r.preventDefault(),u.handleEdit(G.args,r));else if(zt)f._keyCtx=G.row&&G.column&&L.length,clearTimeout(f.keyCtxTimeout),f.keyCtxTimeout=setTimeout(()=>{f._keyCtx=!1},1e3);else if(Ie&&!or&&i&&V.isEnter&&(G.row||Ce.row||c&&(ne.isCurrent||x)&&O)){const{isLastEnterAppendRow:At,beforeEnterMethod:jt,enterMethod:Zt}=V;if(Nt){if(Ce.row){const ar=Ce.args;u.handleClearEdit(r),Y.selected&&ue(()=>{u.handleSelected(ar,r)})}}else if(G.row||Ce.row){const ar=G.row?G.args:Ce.args;if(rt)V.enterToTab?u.moveTabSelected(ar,rt,r):u.moveEnterSelected(ar,st,!0,et,!1,r);else if(V.enterToTab)u.moveTabSelected(ar,rt,r);else{const Qt=G.row||Ce.row,Or=G.column||Ce.column,pr=u.getVTRowIndex(Qt),zr={row:Qt,rowIndex:u.getRowIndex(Qt),$rowIndex:u.getVMRowIndex(Qt),_rowIndex:pr,column:Or,columnIndex:u.getColumnIndex(Or),$columnIndex:u.getVMColumnIndex(Or),_columnIndex:u.getVTColumnIndex(Or),$table:u};if(!jt||jt(zr)!==!1){if(At&&pr>=T.length-1){u.insertAt({},-1).then(({row:Br})=>{u.scrollToRow(Br,Or),u.handleSelected(Object.assign(Object.assign({},ar),{row:Br}),r)}),u.dispatchEvent("enter-append-row",zr,r);return}u.moveEnterSelected(ar,st,!1,et,!0,r),Zt&&Zt(zr)}}}else if(c&&(ne.isCurrent||x)&&O){const ar=O[he];if(ar&&ar.length){r.preventDefault();const Qt=ar[0],Or={$table:u,row:Qt,rowIndex:u.getRowIndex(Qt),$rowIndex:u.getVMRowIndex(Qt)};u.setTreeExpand(O,!0).then(()=>u.scrollToRow(Qt)).then(()=>u.triggerCurrentRowEvent(r,Or))}}}else if(tr&&i&&V.isArrow)rr||(Y.selected&&G.row&&G.column?u.moveArrowSelected(G.args,st,Ue,et,tt,r):((Ue||tt)&&(ne.isCurrent||x)&&u.moveCurrentRow(Ue,tt,r),(st||et)&&(z.isCurrent||w)&&u.moveCurrentColumn(st,et,r)));else if(Se&&i&&V.isTab)G.row||G.column?u.moveTabSelected(G.args,rt,r):(Ce.row||Ce.column)&&u.moveTabSelected(Ce.args,rt,r);else if(i&&V.isDel&&dt&&It(g)&&(G.row||G.column)){if(!rr){const{delMethod:At}=V,jt={row:G.row,rowIndex:$.getRowIndex(G.row),column:G.column,columnIndex:$.getColumnIndex(G.column),$table:u,$grid:y,$gantt:m};(!Pt||Pt(jt))&&(At?At(jt):Yo(G.row,G.column,null),$.updateFooter(),Kt("cell-delete-value",jt,r))}}else if(Me&&i&&V.isBack&&It(g)&&(G.row||G.column)){if(!rr){const{backMethod:At}=V;if(V.isDel&&It(g)&&(G.row||G.column)){const jt={row:G.row,rowIndex:u.getRowIndex(G.row),column:G.column,columnIndex:u.getColumnIndex(G.column),$table:u,$grid:y,$gantt:m};(!Pt||Pt(jt))&&(At?At(jt):(Yo(G.row,G.column,null),u.handleEdit(G.args,r)),Kt("cell-backspace-value",jt,r))}}}else if(Me&&i&&c&&V.isBack&&(ne.isCurrent||x)&&O){const{parent:At}=s.findTree(f.afterTreeFullData,jt=>jt===O,{children:he});if(At){r.preventDefault();const jt={row:At,rowIndex:u.getRowIndex(At),$rowIndex:u.getVMRowIndex(At),$table:u,$grid:y,$gantt:m};u.setTreeExpand(At,!1).then(()=>u.scrollToRow(At)).then(()=>u.triggerCurrentRowEvent(r,jt))}}else if(i&&It(g)&&V.isEdit&&!Nt&&(ze||fe>=48&&fe<=57||fe>=65&&fe<=90||fe>=96&&fe<=111||fe>=186&&fe<=192||fe>=219&&fe<=222)){const{editMode:At,editMethod:jt}=V;if(G.column&&G.row&&It(G.column.editRender)){const Zt=P.beforeEditMethod||P.activeMethod,ar={row:G.row,rowIndex:u.getRowIndex(G.row),column:G.column,columnIndex:u.getColumnIndex(G.column),$table:u,$grid:y,$gantt:m};(!Zt||Zt(Object.assign(Object.assign({},G.args),{$table:u,$grid:y,$gantt:m})))&&(jt?jt(ar):(At!=="insert"&&Yo(G.row,G.column,null),u.handleEdit(G.args,r)))}}Kt("keydown",{},r)})},Nw=r=>{const{keyboardConfig:n,mouseConfig:i}=e,{editStore:c,filterStore:g}=h,{isActivated:x}=f,w=fr.value,C=yr.value,{actived:S}=c;x&&!g.visible&&(S.row||S.column||n&&C.isClip&&i&&w.area&&u.handlePasteCellAreaEvent&&u.handlePasteCellAreaEvent(r),Kt("paste",{},r))},Bw=r=>{const{keyboardConfig:n,mouseConfig:i}=e,{editStore:c,filterStore:g}=h,{isActivated:x}=f,w=fr.value,C=yr.value,{actived:S}=c;x&&!g.visible&&(S.row||S.column||n&&C.isClip&&i&&w.area&&u.handleCopyCellAreaEvent&&u.handleCopyCellAreaEvent(r),Kt("copy",{},r))},Gw=r=>{const{keyboardConfig:n,mouseConfig:i}=e,{editStore:c,filterStore:g}=h,{isActivated:x}=f,w=fr.value,C=yr.value,{actived:S}=c;x&&!g.visible&&(S.row||S.column||n&&C.isClip&&i&&w.area&&u.handleCutCellAreaEvent&&u.handleCutCellAreaEvent(r),Kt("cut",{},r))},Sg=()=>{u.closeMenu&&u.closeMenu();const r=_.value;!r||!r.clientWidth||(pg(),u.updateCellAreas())},ea=r=>{const n=W.value;clearTimeout(f.tooltipTimeout),r?$.closeTooltip():n&&n.setActived&&n.setActived(!0)},qn=()=>{fo=null,I.row=null},Og=()=>{const{dragRow:r,dragCol:n}=h;(r||n)&&(ta(),Ja(),ul(),qn(),h.dragRow=null,h.dragCol=null)},Ja=()=>{const r=_.value;if(r){const n="row--drag-origin";s.arrayEach(r.querySelectorAll(`.${n}`),i=>{i.draggable=!1,co(i,n)})}},Vw=r=>{const n=_.value;if(n){const i="row--drag-origin",c=$e(u,r);s.arrayEach(n.querySelectorAll(`[rowid="${c}"]`),g=>{Do(g,i)})}},zw=r=>{const{dragConfig:n}=e,{dragRow:i}=h,c=re.value,{tooltipMethod:g}=c,x=g||(n?n.rowTooltipMethod:null);let w="";x?w=`${x({$table:u,row:i})||""}`:w=jo("vxe.table.dragTip",[r.textContent||""]),h.dragTipText=w},Ww=r=>{const n=_.value;if(n){const i=[];s.eachTree([r],g=>{i.push(`[colid="${g.id}"]`)});const c="col--drag-origin";s.arrayEach(n.querySelectorAll(i.join(",")),g=>{Do(g,c)})}},ta=()=>{const r=_.value;if(r){const n="col--drag-origin";s.arrayEach(r.querySelectorAll(`.${n}`),i=>{i.draggable=!1,co(i,n)})}},jw=r=>{const{dragCol:n}=h,i=Ee.value,{tooltipMethod:c}=i;let g="";c?g=`${c({$table:u,column:n})||""}`:g=jo("vxe.table.dragTip",[r.textContent||""]),h.dragTipText=g},Hl=(r,n,i,c,g)=>{let x=_.value;if(m&&n){const{refGanttContainerElem:J}=m.getRefMaps(),ne=J.value;ne&&(x=ne)}if(!x)return;const{overflowX:w,scrollbarWidth:C,overflowY:S,scrollbarHeight:O}=h,{prevDragToChild:T}=f,A=x.getBoundingClientRect(),L=S?C:0,V=w?O:0,Y=x.clientWidth,P=x.clientHeight;if(n){const J=Te.value;if(J)if(c){const ne=_e.value,z=n.getBoundingClientRect();let G=n.clientHeight;const Ce=Math.max(1,z.y-A.y);Ce+G>P-V&&(G=P-Ce-V),J.style.display="block",J.style.left=`${ne?L:0}px`,J.style.top=`${Ce}px`,J.style.height=`${G}px`,J.style.width=`${Y-L}px`,J.setAttribute("drag-pos",g),J.setAttribute("drag-to-child",T?"y":"n")}else J.style.display=""}else if(i){const J=Le.value;if(J)if(c){const ne=xt.value,z=ie.value,G=z?z.clientWidth:0,Ce=ce.value,he=Ce?Ce.clientWidth:0,fe=i.getBoundingClientRect();let Pe=i.clientWidth;const Me=Math.max(0,fe.y-A.y),Se=G;let Ie=fe.x-A.x;Ie<Se&&(Pe-=Se-Ie,Ie=Se);const ze=Y-he-(he?0:L);Ie+Pe>ze&&(Pe=ze-Ie),J.style.display="block",J.style.top=`${Me}px`,J.style.left=`${Ie}px`,J.style.width=`${Pe}px`,T?J.style.height=`${fe.height}px`:J.style.height=`${P-Me-(ne?0:V)}px`,J.setAttribute("drag-pos",g),J.setAttribute("drag-to-child",T?"y":"n")}else J.style.display=""}const ee=le.value;ee&&(ee.style.display="block",ee.style.top=`${Math.min(x.clientHeight-x.scrollTop-ee.clientHeight,r.clientY-A.y)}px`,ee.style.left=`${Math.min(x.clientWidth-x.scrollLeft-ee.clientWidth-16,r.clientX-A.x)}px`,ee.setAttribute("drag-status",c?T?"sub":"normal":"disabled"))},ul=()=>{const r=le.value,n=Te.value,i=Le.value;r&&(r.style.display=""),n&&(n.style.display=""),i&&(i.style.display="")},ra=()=>{let r=_.value;const n=[".vxe-body--row"];if(m){const{refGanttContainerElem:i}=m.getRefMaps(),c=i.value;c&&(r=c),n.push(".vxe-gantt-view--body-row",".vxe-gantt-view--chart-row")}ul(),Ja(),rS(r,n),f.prevDragToChild=!1,h.dragRow=null,h.dragCol=null},Qa=(r,n,i,c,g,x,w)=>{const C=g||c;if(!C)return ue();w.cell=c;const{tooltipStore:S}=h,{column:O,row:T}=w,{showAll:A,contentMethod:L}=n,V=L?L(w):null,Y=L&&!s.eqNull(V),P=Y?V:s.toString(O.type==="html"?C.innerText:C.textContent).trim(),ee=C.scrollWidth>C.clientWidth;if(P&&(A||Y||ee)){const J=jr(P);Object.assign(S,{row:T,column:O,visible:!0,content:J,type:i,currOpts:n}),ue(()=>{const ne=W.value;ne&&ne.open&&ne.open(ee?C:x,J)})}return ue()},bi=(r,n)=>{if(r){if(R)return R.callSlot(r,n);if(s.isFunction(r))return _r(r(n))}return[]};k={getSetupOptions(){return Ht()},updateAfterDataIndex:Yr,callSlot:bi,getParentElem(){const r=_.value;if(R){const n=R.getRefMaps().refElem.value;return n?n.parentNode:null}return r?r.parentNode:null},getParentHeight(){const{height:r}=e,n=_.value;if(n){const i=n.parentNode,c=r==="100%"||r==="auto"?$f(i):0;let g=0;return i&&(m&&hn(i,"vxe-gantt--table-wrapper")?g=m.getParentHeight():y&&hn(i,"vxe-grid--table-wrapper")?g=y.getParentHeight():g=i.clientHeight),Math.floor(g-c)}return 0},getExcludeHeight(){return R?R.getExcludeHeight():0},defineField(r){const{treeConfig:n}=e,i=er.value,c=yt.value,g=Dt.value,x=it.value,w=c.children||c.childrenField,C=Pl(u);return s.isArray(r)||(r=[r]),r.map(S=>(f.tableFullColumn.forEach(T=>{const{field:A,editRender:L}=T;if(A&&!s.has(S,A)&&!S[A]){let V=null;if(L){const{defaultValue:Y}=L;s.isFunction(Y)?V=Y({column:T}):s.isUndefined(Y)||(V=Y)}s.set(S,A,V)}}),[g.labelField,x.checkField,x.labelField,i.labelField].forEach(T=>{T&&gn(s.get(S,T))&&s.set(S,T,null)}),n&&c.lazy&&s.isUndefined(S[w])&&(S[w]=null),gn(s.get(S,C))&&s.set(S,C,Pi()),S))},handleTableData(r){const{scrollYLoad:n}=h,{scrollYStore:i,fullDataRowIdData:c}=f,g=f.xeGanttView;let x=f.afterFullData;r&&(uw(),x=On());const w=n?x.slice(i.startIndex,i.endIndex):x.slice(0),C={};return w.forEach((S,O)=>{const T=$e(u,S),A=c[T];A&&(A.$index=O),C[T]=S}),h.tableData=w,f.visibleDataRowIdData=C,g&&g.updateViewData&&g.updateViewData(),ue()},cacheRowMap(r){const{treeConfig:n}=e,{isRowGroupStatus:i}=h,{currKeyField:c,fullAllDataRowIdData:g,tableFullData:x,tableFullTreeData:w,tableFullGroupData:C,treeExpandedMaps:S}=f,O=r?{}:Object.assign({},g),T={},A={},{handleUpdateRowId:L}=eb(u),V=(Y,P,ee,J,ne,z,G,Ce)=>{let he=O[z];A[z]&&Ne("vxe.error.repeatKey",[c,z]),he||(he={row:Y,rowid:z,seq:Ce,index:-1,_index:-1,$index:-1,treeIndex:P,_tIndex:-1,items:ee,parent:ne,level:G,height:0,resizeHeight:0,oTop:0,expandHeight:0},T[z]=he,O[z]=he),he.treeLoaded=!1,he.expandLoaded=!1,he.row=Y,he.items=ee,he.parent=ne,he.level=G,he.index=J,he.treeIndex=P,A[z]=!0,T[z]=he,O[z]=he};if(n){const Y=yt.value,{lazy:P}=Y,ee=Y.children||Y.childrenField,J=Y.hasChild||Y.hasChildField;s.eachTree(w,(ne,z,G,Ce,he,fe)=>{const Pe=L(ne);n&&P&&(ne[J]&&ne[ee]===void 0&&(ne[ee]=null),S[Pe]&&(!ne[ee]||!ne[ee].length)&&delete S[Pe]),V(ne,z,G,he?-1:z,he,Pe,fe.length-1,ob(Ce))},{children:ee})}else if(i){const Y=wt.value,{mapChildrenField:P}=Y;s.eachTree(C,(ee,J,ne,z,G,Ce)=>{const he=L(ee);V(ee,J,ne,G?-1:J,G,he,Ce.length-1,ob(z))},{children:P})}else x.forEach((Y,P,ee)=>{V(Y,P,ee,P,null,L(Y),0,P+1)});f.fullDataRowIdData=T,f.fullAllDataRowIdData=O,h.treeExpandedFlag++},cacheSourceMap(r){const{treeConfig:n}=e,i=yt.value,c=s.clone(r,!0),{handleUpdateRowId:g}=eb(u),x={},w=C=>{const S=g(C);x[S]=C};if(n){const C=i.children||i.childrenField;s.eachTree(c,w,{children:i.transform?i.mapChildrenField:C})}else c.forEach(w);f.sourceDataRowIdData=x,f.tableSourceData=c},analyColumnWidth(){const{tableFullColumn:r}=f,n=Tt.value,{width:i,minWidth:c}=n,g=[],x=[],w=[],C=[],S=[],O=[],T=[],A=[];r.forEach(L=>{i&&!L.width&&(L.width=i),c&&!L.minWidth&&(L.minWidth=c),L.visible&&(L.resizeWidth?g.push(L):L.width==="auto"?T.push(L):Hf(L.width)?x.push(L):Yl(L.width)?S.push(L):Hf(L.minWidth)?w.push(L):L.minWidth==="auto"?C.push(L):Yl(L.minWidth)?O.push(L):A.push(L))}),Object.assign(h.columnStore,{resizeList:g,pxList:x,pxMinList:w,autoMinList:C,scaleList:S,scaleMinList:O,autoList:T,remainList:A})},handleColResizeMousedownEvent(r,n,i){r.stopPropagation(),r.preventDefault();const{column:c}=i,{columnStore:g,overflowX:x,scrollbarHeight:w}=h,{visibleColumn:C}=f,{leftList:S,rightList:O}=g,T=Be.value,A=x?w:0,L=_.value,V=ie.value,Y=ce.value,P=de.value;if(!P)return;const ee=n==="left",J=n==="right",ne=P.firstElementChild,z=xt.value,{clientX:G}=r,Ce=r.target;let he=Ce.parentElement,fe=c;const Pe=c.children&&c.children.length;if(Pe&&(fe=BR(c),Pe)){const Bt=he?he.parentElement:null,rr=Bt?Bt.parentElement:null;he=rr?rr.querySelector(`.vxe-header--column[colid="${fe.id}"]`):null}if(!he)return;const Me=s.assign(i,{cell:he,$table:u});let Se=0;const Ie=L.getBoundingClientRect(),ze=Y?Y.getBoundingClientRect():null,st=he.getBoundingClientRect(),Ue=Ce.getBoundingClientRect(),et=Ce.clientWidth,tt=s.floor(et/2),dt=Ue.x-Ie.x+tt,Lt=nb(Me)-tt,zt=J?0:st.x-Ie.x+et+Lt,Nt=st.x-Ie.x+he.clientWidth-Lt;let rt=0,or=0;if(ee||J){let Bt=!1;const rr=ee?S:O;for(let Pt=0;Pt<rr.length;Pt++){const At=rr[Pt];Bt?rt+=At.renderWidth:(Bt=At.id===fe.id,Bt||(or+=At.renderWidth))}}const tr=Bt=>{Bt.stopPropagation(),Bt.preventDefault();const rr=L.clientHeight,Pt=Bt.clientX-G;let At=dt+Pt;ee?ze&&(At=Math.min(At,ze.x-Ie.x-rt-Lt)):J&&(V&&(At=Math.max(At,V.clientWidth+or+Lt)),At=Math.min(At,Nt)),Se=Math.max(At,zt);const jt=Math.max(1,Se);if(P.style.left=`${jt}px`,P.style.top=`${z?A:0}px`,P.style.height=`${z?rr-A:rr}px`,T.showDragTip&&ne){ne.textContent=jo("vxe.table.resizeColTip",[Math.floor(fe.renderWidth+(J?dt-Se:Se-dt))]);const Zt=L.clientWidth,ar=P.clientWidth,Qt=ne.clientWidth,Or=ne.clientHeight;let pr=-Qt;jt<Qt+ar?pr=0:jt>Zt&&(pr+=Zt-jt),ne.style.left=`${pr}px`,ne.style.top=`${Math.min(rr-Or,Math.max(0,Bt.clientY-Ie.y-Or/2))}px`}h.isDragResize=!0};h.isDragResize=!0,Do(L,"col-drag--resize"),P.style.display="block",document.onmousemove=tr,document.onmouseup=function(Bt){document.onmousemove=null,document.onmouseup=null,P.style.display="none",f._lastResizeTime=Date.now(),setTimeout(()=>{h.isDragResize=!1},50);const rr=fe.renderWidth+(J?dt-Se:Se-dt),Pt=Object.assign(Object.assign({},i),{resizeWidth:rr,resizeColumn:fe});T.dragMode==="fixed"&&C.forEach(At=>{At.id!==fe.id&&(At.resizeWidth||(At.resizeWidth=At.renderWidth))}),u.handleColResizeCellAreaEvent?u.handleColResizeCellAreaEvent(Bt,Pt):(fe.resizeWidth=rr,yg(Bt,Pt)),co(L,"col-drag--resize")},tr(r),u.closeMenu&&u.closeMenu()},handleColResizeDblclickEvent(r,n){const i=Be.value,{isDblclickAutoWidth:c}=i,g=_.value;if(c&&g){r.stopPropagation(),r.preventDefault();const{fullColumnIdData:x}=f,{column:w}=n;let C=w;w.children&&w.children.length&&s.eachTree(w.children,ee=>{C=ee});const S=C.id,O=x[S],A=r.target.parentNode,L=Object.assign(n,{cell:A,$table:u}),V=nb(L);g.setAttribute("data-calc-col","Y");let Y=Ll(C,g);g.removeAttribute("data-calc-col"),O&&(Y=Math.max(Y,O.width)),Y=Math.max(V,Y);const P=Object.assign(Object.assign({},n),{resizeWidth:Y,resizeColumn:C});h.isDragResize=!1,f._lastResizeTime=Date.now(),u.handleColResizeDblclickCellAreaEvent?u.handleColResizeDblclickCellAreaEvent(r,P):(C.resizeWidth=Y,yg(r,P))}},handleRowResizeMousedownEvent(r,n){r.stopPropagation(),r.preventDefault();const{row:i}=n,{showOverflow:c}=e,{overflowX:g,scrollbarWidth:x,overflowY:w,scrollbarHeight:C}=h,{elemStore:S,fullAllDataRowIdData:O}=f,T=w?x:0,A=g?C:0,L=_e.value,V=Be.value,Y=Ct.value,P=ut.value;let ee=_.value;if(m){const{refGanttContainerElem:Nt}=m.getRefMaps(),rt=Nt.value;rt&&(ee=rt)}const J=me.value;if(!J)return;const{clientY:ne}=r,z=J.firstElementChild,Ce=r.currentTarget.parentNode,he=Ce.parentNode;if(!ct(S["main-body-scroll"]))return;const Pe=$e(u,i),Me=O[Pe];if(!Me)return;const Se=Ot.value;let Ie=Me.resizeHeight||P.height||Y.height||Me.height||Se;c||(Ie=Ce.clientHeight);const ze=ee.getBoundingClientRect(),st=he.getBoundingClientRect(),Ue=ne-st.y-he.clientHeight;let et=Ie;const tt=Ce.querySelector(".vxe-cell");let dt=0;if(tt){const Nt=getComputedStyle(tt);dt=Math.max(1,Math.ceil(s.toNumber(Nt.paddingTop)+s.toNumber(Nt.paddingBottom)))}const Lt=st.y-ze.y+dt,zt=Nt=>{Nt.stopPropagation(),Nt.preventDefault();const rt=ee.clientWidth-T,or=ee.clientHeight-A;let tr=Nt.clientY-ze.y-Ue;if(tr<Lt?tr=Lt:et=Math.max(dt,Ie+Nt.clientY-ne),J.style.left=`${L?T:0}px`,J.style.top=`${tr}px`,J.style.width=`${rt}px`,V.showDragTip&&z){z.textContent=jo("vxe.table.resizeRowTip",[et]);const Bt=z.clientWidth,rr=z.clientHeight;let Pt=Math.max(2,Nt.clientX-ze.x),At=0;Pt+Bt>=rt-2&&(Pt=rt-Bt-2),tr+rr>=or&&(At=or-(tr+rr)),z.style.left=`${Pt}px`,z.style.top=`${At}px`}h.isDragResize=!0};h.isDragResize=!0,Do(ee,"row-drag--resize"),J.style.display="block",document.onmousemove=zt,document.onmouseup=function(Nt){if(document.onmousemove=null,document.onmouseup=null,J.style.display="none",f._lastResizeTime=Date.now(),setTimeout(()=>{h.isDragResize=!1},50),et!==Ie){const rt=Object.assign(Object.assign({},n),{resizeHeight:et,resizeRow:i});f.isResizeCellHeight=!0,u.handleRowResizeCellAreaEvent?u.handleRowResizeCellAreaEvent(Nt,rt):(Me.resizeHeight=et,Eg(Nt,rt),ao())}co(ee,"row-drag--resize")},zt(r)},handleRowResizeDblclickEvent(r,n){const i=Be.value,{isDblclickAutoHeight:c}=i,g=_.value;if(c&&g){r.stopPropagation(),r.preventDefault();const{editStore:x}=h,{fullAllDataRowIdData:w}=f,{actived:C}=x,{row:S}=n,O=$e(u,S),T=w[O];if(!T)return;const A=()=>{g.setAttribute("data-calc-row","Y");const L=Eo(T,g);g.removeAttribute("data-calc-row");const V=Object.assign(Object.assign({},n),{resizeHeight:L,resizeRow:S});h.isDragResize=!1,f._lastResizeTime=Date.now(),u.handleRowResizeDblclickCellAreaEvent?u.handleRowResizeDblclickCellAreaEvent(r,V):(T.resizeHeight=L,Eg(r,V))};C.row||C.column?u.clearEdit().then(A):A()}},saveCustomStore(r){const{customConfig:n}=e,i=gt.value,c=Jr.value,{updateStore:g,storage:x,storeOptions:w}=c,C=x===!0,S=C?{}:Object.assign({},x||{},w),O=vr(S.resizable,C),T=vr(S.visible,C),A=vr(S.fixed,C),L=vr(S.sort,C),V=vr(S.aggGroup,C),Y=vr(S.aggFunc,C);if(r!=="reset"&&(h.isCustomStatus=!0),x&&(n?It(c):c.enabled)&&(O||T||A||L||V||Y)){if(!i)return Ne("vxe.error.reqProp",["id"]),ue();const P=r==="reset"?{resizableData:{},sortData:[],visibleData:{},fixedData:{},aggGroupData:{},aggFuncData:{}}:$.getCustomStoreData();if(g)return g({$table:u,id:i,type:r,storeData:P});di(i,r==="reset"?null:P)}return ue()},handleCustom(){const{mouseConfig:r}=e;return r&&(u.clearSelected&&u.clearSelected(),u.clearCellAreas&&(u.clearCellAreas(),u.clearCopyCellArea())),k.analyColumnWidth(),$.refreshColumn(!0)},handleUpdateDataQueue(){h.upDataFlag++},handleRefreshColumnQueue(){h.reColumnFlag++},handleFilterOptions(r){const{filterStore:n}=h,{filters:i,filterMultiple:c,filterRender:g}=r,x=It(g)?Tf.get(g.name):null,w=r.filterRecoverMethod||(x?x.tableFilterRecoverMethod||x.filterRecoverMethod:null);n.multiple=c,n.options=i,n.column=r,n.options.forEach(C=>{const{_checked:S,checked:O}=C;C._checked=O,!O&&S!==O&&w&&w({option:C,column:r,$table:u})}),u.checkFilterOptions()},preventEvent(r,n,i,c,g){let x=Nb.get(n);!x.length&&n==="event.clearEdit"&&(x=Nb.get("event.clearActived"),x.length&&Ze("vxe.error.delEvent",["event.clearActived","event.clearEdit"]));let w=null,C=!1;for(let S=0;S<x.length;S++){const O=x[S],T=O(Object.assign({$table:u,$grid:y,gantt:m,$event:r},i));if(T===!1){C=!0;break}else if(T&&T.status===!1){w=T.result,C=!0;break}}return C||c&&(w=c()),g&&g(),w},updateCheckboxStatus(){const{treeConfig:r}=e,{isRowGroupStatus:n}=h,{afterTreeFullData:i,afterGroupFullData:c,selectCheckboxMaps:g,treeIndeterminateRowMaps:x}=f,w=wt.value,C=yt.value,S=C.children||C.childrenField,O=it.value,{checkField:T,indeterminateField:A,checkStrictly:L,checkMethod:V}=O;if(!L){if(n||r){const{handleGetRowId:Y}=Tr(u),P={},ee=[];if(n){const J=w.mapChildrenField;J&&s.eachTree(c,ne=>{const z=Y(ne),G=ne[J];G&&G.length&&!P[z]&&(P[z]=1,ee.unshift([ne,z,G]))},{children:J})}else if(r){const{transform:J,mapChildrenField:ne}=C;s.eachTree(i,z=>{const G=Y(z),Ce=z[J?ne:S];Ce&&Ce.length&&!P[G]?(P[G]=1,ee.unshift([z,G,Ce])):A&&s.set(z,A,!1)},{children:J?ne:S})}ee.forEach(J=>{const ne=J[0],z=J[1],G=J[2];let Ce=0,he=0,fe=0;const Pe=G.length;G.forEach(V?Ie=>{const ze=Y(Ie),st=T?s.get(Ie,T):g[ze];V({$table:u,row:Ie})?(st?Ce++:x[ze]&&he++,fe++):st?Ce++:x[ze]&&he++}:Ie=>{const ze=Y(Ie);(T?s.get(Ie,T):g[ze])?Ce++:x[ze]&&he++,fe++});let Me=!1;Pe>0?fe>0?Me=(Ce>0||he>0)&&Ce>=fe:Ce>0&&Ce>=fe||g[z]?Me=!0:Me=!1:Me=g[z];const Se=!Me&&(Ce>0||he>0);T&&s.set(ne,T,Me),A&&s.set(ne,A,Se),Me?(T||(g[z]=ne),x[z]&&delete x[z]):(T||g[z]&&delete g[z],Se?x[z]=ne:x[z]&&delete x[z])})}h.updateCheckboxFlag++}},updateAllCheckboxStatus(){const{treeConfig:r}=e,{isRowGroupStatus:n}=h,{afterFullData:i,afterTreeFullData:c,afterGroupFullData:g,checkboxReserveRowMap:x,selectCheckboxMaps:w,treeIndeterminateRowMaps:C}=f,S=wt.value,{mapChildrenField:O}=S,T=it.value,{checkField:A,checkMethod:L,showReserveStatus:V}=T,{handleGetRowId:Y}=Tr(u);let P=0,ee=0,J=0,ne=0,z=0;const G=r?c:n?g:i;G.forEach(L?fe=>{const Pe=Y(fe),Me=A?s.get(fe,A):w[Pe];if(n&&u.isAggregateRecord(fe)){const Se=fe[O||""];Me?(z++,P++):C[Pe]?(z++,J++):Se&&Se.length&&Se.some(Ie=>L({$table:u,row:Ie}))&&z++}else L({$table:u,row:fe})?(Me?P++:C[Pe]&&J++,z++):Me?ee++:C[Pe]&&ne++}:fe=>{const Pe=Y(fe);(A?s.get(fe,A):w[Pe])?P++:C[Pe]&&J++,z++});const Ce=G.length>0?z>0?P>=z:P>=G.length:!1;let he=!Ce&&(P>0||J>0||ee>0||ne>0);!Ce&&!he&&V&&(he=!s.isEmpty(x)),h.isAllSelected=Ce,h.isIndeterminate=he},checkSelectionStatus(){u.updateCheckboxStatus(),u.updateAllCheckboxStatus()},handleBatchSelectRows(r,n,i){const{treeConfig:c}=e,{isRowGroupStatus:g}=h,{selectCheckboxMaps:x}=f,w=wt.value,C=yt.value,{transform:S,mapChildrenField:O}=C,T=C.children||C.childrenField,A=it.value,{checkField:L,checkStrictly:V,checkMethod:Y}=A,{handleGetRowId:P}=Tr(u),ee=A.indeterminateField||A.halfField;if(L){if((c||g)&&!V){s.eachTree(r,J=>{(i||!Y||Y({$table:u,row:J}))&&(s.set(J,L,n),ee&&s.set(J,ee,!1),il(J,n))},{children:S?O:T}),h.updateCheckboxFlag++;return}r.forEach(J=>{(i||!Y||Y({$table:u,row:J}))&&(s.set(J,L,n),il(J,n))}),h.updateCheckboxFlag++;return}if(!V){if(g){s.eachTree(r,J=>{const ne=P(J);(i||!Y||Y({$table:u,row:J}))&&(n?x[ne]=J:x[ne]&&delete x[ne],il(J,n))},{children:w.mapChildrenField}),h.updateCheckboxFlag++;return}else if(c){s.eachTree(r,J=>{const ne=P(J);(i||!Y||Y({$table:u,row:J}))&&(n?x[ne]=J:x[ne]&&delete x[ne],il(J,n))},{children:S?O:T}),h.updateCheckboxFlag++;return}}r.forEach(J=>{const ne=P(J);(i||!Y||Y({$table:u,row:J}))&&(n?x[ne]||(x[ne]=J):x[ne]&&delete x[ne],il(J,n),h.updateCheckboxFlag++)})},handleSelectRow({row:r},n,i){u.handleBatchSelectRows([r],n,i)},handleUpdateBodyMerge(){const{mergeBodyList:r}=f;f.mergeBodyCellMaps=$n(r),h.mergeBodyFlag++},handleUpdateHeaderMerge(){const{mergeHeaderList:r}=f;f.mergeHeaderCellMaps=$n(r),h.mergeHeadFlag++},handleUpdateFooterMerge(){const{mergeFooterList:r}=f;f.mergeFooterCellMaps=$n(r),h.mergeFootFlag++},handleAggregateSummaryData(){return ww()},triggerHeaderTitleEvent(r,n,i){const c=n.content||n.message;if(c){const{tooltipStore:g}=h,{column:x}=i,w=mn(c);ea(!0),g.row=null,g.column=x,g.visible=!0,g.currOpts=n,ue(()=>{const C=W.value;C&&C.open&&C.open(r.currentTarget,w)})}},triggerHeaderTooltipEvent(r,n){const{tooltipStore:i}=h,c=Qe.value,{column:g}=n;ea(!0);const x=r.currentTarget;if(!x)return;const w=x.parentElement;if(!w)return;const C=w.parentElement;if(!C)return;const S=C.parentElement;if(S&&(i.column!==g||!i.visible)){const O=S.querySelector(".vxe-cell--title");Qa(r,c,"header",S,(hn(S,"col--ellipsis")?O:w)||w,O||C,n)}},triggerBodyTooltipEvent(r,n){const{editConfig:i}=e,{editStore:c}=h,{tooltipStore:g}=h,x=Ft.value,w=Cr.value,{actived:C}=c,{row:S,column:O}=n,T=r.currentTarget;if(ea(g.column!==O||g.row!==S),!(O.editRender&&It(i)&&(w.mode==="row"&&C.row===S||C.row===S&&C.column===O))&&(g.column!==O||g.row!==S||!g.visible)){const A=T.querySelector(".vxe-cell--wrapper");let L=null,V=T.querySelector(O.type==="html"?".vxe-cell--html":".vxe-cell--label");O.treeNode&&(L=T.querySelector(".vxe-tree-cell")),V||(V=A),Qa(r,x,"body",T,L||A,V,n)}},triggerFooterTooltipEvent(r,n){const{column:i}=n,{tooltipStore:c}=h,g=kt.value,x=r.currentTarget;if(ea(c.column!==i||!!c.row),c.column!==i||!c.visible){const w=x.querySelector(".vxe-cell--wrapper");let C=null,S=x.querySelector(i.type==="html"?".vxe-cell--html":".vxe-cell--label");i.type==="html"&&(C=x.querySelector(".vxe-cell--html")),S||(S=w),Qa(r,g,"footer",x,C||w,S,n)}},handleTargetLeaveEvent(){const r=Ft.value;let n=W.value;n&&n.setActived&&n.setActived(!1),r.enterable?f.tooltipTimeout=setTimeout(()=>{n=W.value,n&&n.isActived&&!n.isActived()&&u.closeTooltip()},r.leaveDelay):u.closeTooltip()},triggerHeaderCellClickEvent(r,n){const{_lastResizeTime:i}=f,c=wr.value,g=Tt.value,x=$t.value,{column:w}=n,C=r.currentTarget,S=i&&i>Date.now()-300,O=Jt(r,C,"vxe-cell--sort").flag,T=Jt(r,C,"vxe-cell--filter").flag;c.trigger==="cell"&&!(S||O||T)&&u.triggerSortEvent(r,w,ol(w)),Kt("header-cell-click",Object.assign({triggerResizable:S,triggerSort:O,triggerFilter:T,cell:C},n),r),(g.isCurrent||e.highlightCurrentColumn)&&(!x.trigger||["header","default"].includes(x.trigger))&&u.triggerCurrentColumnEvent(r,n)},triggerHeaderCellDblclickEvent(r,n){Kt("header-cell-dblclick",Object.assign({cell:r.currentTarget},n),r)},triggerCellClickEvent(r,n){const{treeConfig:i,highlightCurrentRow:c,highlightCurrentColumn:g,editConfig:x,aggregateConfig:w,rowGroupConfig:C}=e,{editStore:S,isDragResize:O,expandColumn:T,checkboxColumn:A,radioColumn:L}=h;if(O)return;const V=er.value,Y=Cr.value,P=yt.value,ee=Dt.value,J=it.value,ne=yr.value,z=wt.value,G=Ct.value,Ce=Tt.value,he=$t.value,{actived:fe,focused:Pe}=S,{row:Me,column:Se}=n,{type:Ie,treeNode:ze,rowGroupNode:st}=Se,Ue=Ie==="radio",et=Ie==="checkbox",tt=Ie==="expand",dt=r.currentTarget,Lt=Ue&&Jt(r,dt,"vxe-cell--radio").flag,zt=et&&Jt(r,dt,"vxe-cell--checkbox").flag,Nt=ze&&Jt(r,dt,"vxe-cell--tree-btn").flag,rt=tt&&Jt(r,dt,"vxe-table--expanded").flag,or=tt&&Jt(r,dt,"vxe-row-group--node-btn").flag;n=Object.assign({cell:dt,triggerRadio:Lt,triggerCheckbox:zt,triggerTreeNode:Nt,triggerExpandNode:rt},n),!zt&&!Lt&&(!rt&&(T&&V.trigger==="row"||tt&&V.trigger==="cell")&&u.triggerRowExpandEvent(r,n),i&&(P.trigger==="row"||ze&&P.trigger==="cell")&&u.triggerTreeExpandEvent(r,n),(w||C)&&(z.trigger==="row"||st&&z.trigger==="cell")&&u.triggerRowGroupExpandEvent(r,n)),Nt||(!rt&&!or&&((G.isCurrent||c)&&!zt&&!Lt&&u.triggerCurrentRowEvent(r,n),(Ce.isCurrent||g)&&(!he.trigger||["cell","default"].includes(he.trigger))&&!zt&&!Lt&&u.triggerCurrentColumnEvent(r,n),!Lt&&(L&&ee.trigger==="row"||Ue&&ee.trigger==="cell")&&u.triggerRadioRowEvent(r,n),!zt&&(A&&J.trigger==="row"||et&&J.trigger==="cell")&&u.handleToggleCheckRowEvent(r,n)),It(x)&&(ne.arrowCursorLock&&r&&Y.mode==="cell"&&r.target&&/^input|textarea$/i.test(r.target.tagName)&&(Pe.column=Se,Pe.row=Me),Y.trigger==="manual"?fe.args&&fe.row===Me&&Se!==fe.column&&za(r,n):(!fe.args||Me!==fe.row||Se!==fe.column)&&(Y.trigger==="click"||Y.trigger==="dblclick"&&Y.mode==="row"&&fe.row===Me)&&za(r,n))),It(x)&&Y.trigger==="dblclick"&&fe.row&&fe.column&&(Y.mode==="row"?u.eqRow(fe.row,Me)||u.handleClearEdit(r):Y.mode==="cell"&&(!u.eqRow(fe.row,Me)||fe.column.id!==Se.id)&&u.handleClearEdit(r)),Kt("cell-click",n,r)},triggerCellDblclickEvent(r,n){const{editConfig:i}=e,{editStore:c,isDragResize:g}=h;if(g)return;const x=Cr.value,{actived:w}=c,C=r.currentTarget;n=Object.assign({cell:C},n),It(i)&&x.trigger==="dblclick"&&(!w.args||r.currentTarget!==w.args.cell)&&(x.mode==="row"?pi("blur").catch(S=>S).then(()=>{u.handleEdit(n,r).then(()=>pi("change")).catch(S=>S)}):x.mode==="cell"&&u.handleEdit(n,r).then(()=>pi("change")).catch(S=>S)),Kt("cell-dblclick",n,r)},handleToggleCheckRowEvent(r,n){const{selectCheckboxMaps:i}=f,c=it.value,{checkField:g,trigger:x}=c,{row:w}=n;if(x==="manual")return;let C=!1;g?C=!s.get(w,g):C=!i[$e(u,w)],r?u.triggerCheckRowEvent(r,n,C):(u.handleBatchSelectRows([w],C),u.checkSelectionStatus())},triggerCheckRowEvent(r,n,i){const{treeConfig:c}=e,{row:g}=n,{isRowGroupStatus:x}=h,{afterFullData:w}=f,C=it.value,{checkMethod:S,trigger:O}=C;if(O!=="manual"){if(r.stopPropagation(),C.isShiftKey&&r.shiftKey&&!(c||x)){const T=u.getCheckboxRecords();if(T.length){const A=T[0],L=u.getVTRowIndex(g),V=u.getVTRowIndex(A);if(L!==V){u.setAllCheckboxRow(!1);const Y=L<V?w.slice(L,V+1):w.slice(V,L+1);ue(()=>{al(Y,!0,!1)}),Kt("checkbox-range-select",Object.assign({rangeRecords:Y},n),r);return}}}(x||!S||S({$table:u,row:g}))&&(u.handleBatchSelectRows([g],i),u.checkSelectionStatus(),Kt("checkbox-change",Object.assign({records:()=>u.getCheckboxRecords(),reserves:()=>u.getCheckboxReserveRecords(),indeterminates:()=>u.getCheckboxIndeterminateRecords(),checked:i},n),r))}},triggerCheckAllEvent(r,n){const i=it.value,{trigger:c}=i;c!=="manual"&&(r&&r.stopPropagation(),wg(r,n))},triggerRadioRowEvent(r,n){const{selectRadioRow:i}=h,{row:c}=n,g=Dt.value,{trigger:x,checkMethod:w}=g;if(x!=="manual"&&(r.stopPropagation(),!w||w({$table:u,row:c}))){let C=c,S=i!==C;S?hi(C):g.strict||(S=i===C,S&&(C=null,u.clearRadioRow())),S&&Kt("radio-change",Object.assign({oldValue:i,newValue:C},n),r)}},triggerCurrentColumnEvent(r,n){const{currentColumn:i}=h,c=Tt.value,g=$t.value,x=g.beforeSelectMethod||c.currentMethod,{column:w}=n,{trigger:C}=g;if(C==="manual")return;const S=i!==w;!x||x({column:w,$table:u})?(u.setCurrentColumn(w),S&&Kt("current-column-change",Object.assign({oldValue:i,newValue:w},n),r)):Kt("current-column-disabled",n,r)},triggerCurrentRowEvent(r,n){const{currentRow:i}=h,c=Ct.value,g=Q.value,x=g.beforeSelectMethod||c.currentMethod,{row:w}=n,{trigger:C}=g;if(C==="manual")return;const S=i!==w;!x||x({row:w,$table:u})?(u.setCurrentRow(w),S&&(Kt("current-row-change",Object.assign({oldValue:i,newValue:w},n),r),Kt("current-change",Object.assign({oldValue:i,newValue:w},n),r))):Kt("current-row-disabled",n,r)},triggerRowExpandEvent(r,n){const{expandColumn:i}=h,{rowExpandLazyLoadedMaps:c}=f,g=er.value,{row:x}=n,{lazy:w,trigger:C}=g;if(C==="manual")return;r.stopPropagation();const S=$e(u,x);if(!w||!c[S]){const O=!u.isRowExpandByRow(x),T=i?u.getColumnIndex(i):-1,A=i?u.getVMColumnIndex(i):-1;u.setRowExpand(x,O),Kt("toggle-row-expand",{expanded:O,column:i,columnIndex:T,$columnIndex:A,row:x,rowIndex:u.getRowIndex(x),$rowIndex:u.getVMRowIndex(x)},r)}},triggerRowGroupExpandEvent(r,n){const{rowGroupExpandedMaps:i}=f,c=wt.value,{row:g,column:x}=n,{trigger:w}=c;if(w==="manual")return;r.stopPropagation();const C=$e(u,g),S=!i[C],O=u.getColumnIndex(x),T=u.getVMColumnIndex(x);u.setRowGroupExpand(g,S),Kt("toggle-row-group-expand",{expanded:S,column:x,columnIndex:O,$columnIndex:T,row:g},r)},triggerTreeExpandEvent(r,n){const{treeExpandLazyLoadedMaps:i,treeEATime:c}=f,g=yt.value,{row:x,column:w}=n,{lazy:C,trigger:S,accordion:O}=g;if(S==="manual")return;r.stopPropagation();const T=$e(u,x);if(!C||!i[T]){const A=!u.isTreeExpandByRow(x),L=u.getColumnIndex(w),V=u.getVMColumnIndex(w);c&&clearTimeout(c),u.setTreeExpand(x,A).then(()=>{O&&(f.treeEATime=setTimeout(()=>{f.treeEATime=void 0,u.scrollToRow(x)},30))}),Kt("toggle-tree-expand",{expanded:A,column:w,columnIndex:L,$columnIndex:V,row:x},r)}},handleColumnSortEvent(r,n){const{mouseConfig:i}=e,c=fr.value,{field:g,sortable:x,order:w}=n;if(x){const C={$table:u,$event:r,column:n,field:g,property:g,order:w,sortList:$.getSortColumns(),sortTime:n.sortTime};i&&c.area&&u.handleSortEvent&&u.handleSortEvent(r,C),w||Kt("clear-sort",C,r),Kt("sort-change",C,r)}},triggerSortEvent(r,n,i){const c=wr.value,{multiple:g,allowClear:x}=c,{field:w,sortable:C}=n;C&&(!i||n.order===i?x&&u.clearSort(g?n:null):u.sort({field:w,order:i}),u.handleColumnSortEvent(r,n))},handleCellRuleUpdateStatus(r,n,i){const{validStore:c}=h,{row:g,column:x}=n;if(u.hasCellRules&&u.hasCellRules(r,g,x)){const w=u.getCellElement(g,x);if(w){const C=!s.isUndefined(i);return u.validCellRules(r,g,x,i).then(()=>{C&&c.visible&&Yo(g,x,i),u.clearValidate(g,x)}).catch(({rule:S})=>{C&&Yo(g,x,i),u.showValidTooltip({rule:S,row:g,column:x,cell:w})})}}return ue()},triggerHeaderCellMousedownEvent(r,n){const{mouseConfig:i}=e,c=fr.value,g=Tt.value,x=Ee.value,{trigger:w,isCrossDrag:C,isPeerDrag:S,disabledMethod:O}=x,T=r.currentTarget,A=T&&T.tagName&&T.tagName.toLowerCase()==="input",L=Jt(r,T,"vxe-cell--checkbox").flag,V=Jt(r,T,"vxe-cell--sort").flag,Y=Jt(r,T,"vxe-cell--filter").flag;let P=!1;const ee=g.drag&&w==="cell";if(!(A||L||V||Y)){const{column:J}=n;ee&&!J.fixed&&(C||S||!J.parentId)&&!(O&&O(n))&&(P=!0,u.handleHeaderCellDragMousedownEvent(r,n))}!P&&i&&c.area&&u.handleHeaderCellAreaModownEvent&&u.handleHeaderCellAreaModownEvent(r,Object.assign({cell:T,triggerSort:V,triggerFilter:Y},n)),u.focus(),u.closeMenu&&u.closeMenu()},triggerCellMousedownEvent(r,n){const{column:i}=n,{type:c,treeNode:g}=i,x=c==="radio",w=c==="checkbox",C=c==="expand",S=Ct.value,O=re.value,{trigger:T,isCrossDrag:A,isPeerDrag:L,disabledMethod:V}=O,Y=r.currentTarget;n.cell=Y;const P=Y&&Y.tagName&&Y.tagName.toLowerCase()==="input",ee=x&&Jt(r,Y,"vxe-cell--radio").flag,J=w&&Jt(r,Y,"vxe-cell--checkbox").flag,ne=g&&Jt(r,Y,"vxe-cell--tree-btn").flag,z=C&&Jt(r,Y,"vxe-table--expanded").flag;let G=!1;S.drag&&(G=T==="row"||i.dragSort&&T==="cell");let Ce=!1;P||ee||J||ne||z||G&&(A||L||!n.level)&&!(V&&V(n))&&(Ce=!0,u.handleCellDragMousedownEvent(r,n)),!Ce&&u.handleCellMousedownEvent&&u.handleCellMousedownEvent(r,n),u.focus(),u.closeFilter(),u.closeMenu&&u.closeMenu()},triggerCellMouseupEvent(){Og()},handleRowDragDragstartEvent(r){r.dataTransfer&&r.dataTransfer.setDragImage(Lf(),0,0)},handleRowDragSwapEvent(r,n,i,c,g,x){const{treeConfig:w,dragConfig:C}=e,S=re.value,{afterFullData:O,tableFullData:T,fullAllDataRowIdData:A}=f,L=f.xeGanttView,{animation:V,isPeerDrag:Y,isCrossDrag:P,isSelfToChildDrag:ee,dragEndMethod:J,dragToChildMethod:ne}=S,z=yt.value,G=ut.value,Ce=Ct.value,he=Ot.value,{transform:fe,rowField:Pe,mapChildrenField:Me,parentField:Se}=z,Ie=z.children||z.childrenField,ze=J||(C?C.dragEndMethod:null),st=g==="bottom"?1:0,Ue=_.value,et={status:!1};if(!(Ue&&c&&i))return Promise.resolve(et);if(c!==i){const tt={oldRow:i,newRow:c,dragRow:i,dragPos:g,dragToChild:!!x,offsetIndex:st},dt=ee&&ne?ne(tt):x;return Promise.resolve(ze?ze(tt):!0).then(Lt=>{if(!Lt)return et;const zt=$e(u,i),Nt=A[zt]||{},rt=Nt._index;let or=0,tr=-1;if(V){or=Ql(Nt,G,Ce,he);const Pt=Ue.querySelector(`.vxe-body--row[rowid="${zt}"]`);Pt&&(tr=Pt.offsetTop)}let Bt=-1,rr=-1;if(w){if(fe){const Pt=Nt,At=$e(u,c),jt=A[At];if(Pt&&jt){const{level:Zt}=Pt,{level:ar}=jt,Qt={};s.eachTree([i],br=>{Qt[$e(u,br)]=br},{children:Me});let Or=!1;if(Zt&&ar)if(Y&&!P){if(Pt.row[Se]!==jt.row[Se])return et}else{if(!P)return et;if(Qt[At]&&(Or=!0,!(P&&ee)))return ye.modal&&ye.modal.message({status:"error",content:jo("vxe.error.treeDragChild")}),et}else if(Zt){if(!P)return et}else if(ar){if(!P)return et;if(Qt[At]&&(Or=!0,!(P&&ee)))return ye.modal&&ye.modal.message({status:"error",content:jo("vxe.error.treeDragChild")}),et}const pr=s.toTreeArray(f.afterTreeFullData,{key:Pe,parentKey:Se,children:Me}),zr=u.findRowIndexOf(pr,i);pr.splice(zr,1);const Xr=u.findRowIndexOf(pr,c)+st;pr.splice(Xr,0,i),Or&&P&&ee&&s.each(i[Ie],br=>{br[Se]=i[Se]}),i[Se]=dt?c[Pe]:c[Se],f.tableFullTreeData=s.toArrayTree(pr,{key:Pe,parentKey:Se,children:Ie,mapChildren:Me})}}}else{Bt=u.findRowIndexOf(O,i);const Pt=u.findRowIndexOf(T,i);O.splice(Bt,1),T.splice(Pt,1);const At=u.findRowIndexOf(O,c),jt=u.findRowIndexOf(T,c);rr=At+st;const Zt=jt+st;O.splice(rr,0,i),T.splice(Zt,0,i)}return u.handleTableData(w&&fe),u.cacheRowMap(!1),vi(),w&&fe||u.updateAfterDataIndex(),u.checkSelectionStatus(),h.scrollYLoad&&u.updateScrollYSpace(),r&&Kt("row-dragend",{oldRow:i,newRow:c,dragRow:i,dragPos:g,dragToChild:dt,offsetIndex:st,_index:{newIndex:rr,oldIndex:Bt}},r),ue().then(()=>{if(V){const{tableData:Pt}=h,At=A[zt],jt=At._index,Zt=Pt[0],ar=A[$e(u,Zt)];let Qt=Ue;if(m&&L){const{refGanttContainerElem:Br}=m.getRefMaps(),Xr=Br.value;Xr&&(Qt=Xr)}if(ar){const Br=ar._index,Xr=Br+Pt.length;let br=-1,Rr=-1,Lr=1;rt<Br?(br=0,Rr=jt-Br):rt>Xr?(br=At.$index+1,Rr=Pt.length,Lr=-1):jt>rt?(br=rt-Br,Rr=br+jt-rt):(br=jt-Br,Rr=br+rt-jt+1,Lr=-1);const an=Pt.slice(br,Rr);if(an.length){const sn=[];an.forEach(Ro=>{const wi=$e(u,Ro);sn.push(`.vxe-body--row[rowid="${wi}"]`),m&&sn.push(`.vxe-gantt-view--body-row[rowid="${wi}"]`,`.vxe-gantt-view--chart-row[rowid="${wi}"]`)});const is=Qt.querySelectorAll(sn.join(","));na(is,Lr*or)}}const Or=[`.vxe-body--row[rowid="${zt}"]`];m&&Or.push(`.vxe-gantt-view--body-row[rowid="${zt}"]`,`.vxe-gantt-view--chart-row[rowid="${zt}"]`);const pr=Qt.querySelectorAll(Or.join(",")),zr=pr[0];tr>-1&&zr&&na(pr,tr-zr.offsetTop)}ao(),_n(),u.updateCellAreas(),u.recalculate()}).then(()=>({status:!0}))}).catch(()=>et)}return Promise.resolve(et)},handleCrossTableRowDragFinishEvent(r){const{tableData:n}=h,{fullAllDataRowIdData:i}=f,c=Ct.value,g=ut.value,x=Ot.value,w=re.value,{animation:C,isCrossTableDrag:S}=w,O=yt.value,{mapChildrenField:T}=O,A=_.value;if(S&&fo&&I){const{row:L}=I;if(L){const V=$e(u,L),Y=i[V];let P=0,ee=-1;Y&&(C&&(P=Ql(Y,g,c,x)),ee=Y.$index);const J=ee>-1&&ee<n.length-1?n.slice(ee+1):[],ne=s.toTreeArray([L],{updated:!0,children:T});u.remove(ne).then(()=>{if(C&&P&&J.length){const z=f.xeGanttView;let G=A;if(m&&z){const{refGanttContainerElem:fe}=m.getRefMaps(),Pe=fe.value;Pe&&(G=Pe)}const Ce=[];J.forEach(fe=>{const Pe=$e(u,fe);Ce.push(`.vxe-body--row[rowid="${Pe}"]`),m&&Ce.push(`.vxe-gantt-view--body-row[rowid="${Pe}"]`,`.vxe-gantt-view--chart-row[rowid="${Pe}"]`)});const he=G.querySelectorAll(Ce.join(","));na(he,P)}}),Kt("row-remove-dragend",{row:L},r),ra(),qn()}}},handleCrossTableRowDragoverEmptyEvent(r){const{tableData:n}=h,i=re.value,{isCrossTableDrag:c}=i;if(c&&fo&&!n.length){const{$oldTable:g,$newTable:x}=fo;if(g){const w=g.reactData;g.xID!==u.xID&&(x&&x.xID!==u.xID&&x.hideCrossTableRowDropClearStatus(),r.preventDefault(),g.hideCrossTableRowDropClearStatus(),fo.$newTable=u,f.prevDragRow=null,h.dragTipText=w.dragTipText,Hl(r,r.currentTarget,null,!0,""))}}},handleCrossTableRowDragInsertEvent(r){const{treeConfig:n}=e,{prevDragRow:i,prevDragPos:c,prevDragToChild:g}=f,x=re.value,{animation:w,isSelfToChildDrag:C,isCrossTableDrag:S,dragEndMethod:O,dragToChildMethod:T}=x,A=Ct.value,L=ut.value,V=Ot.value,Y=yt.value,{parentField:P,mapChildrenField:ee}=Y,J=Y.children||Y.childrenField;if(S&&fo&&I){const{row:ne}=I,{$oldTable:z}=fo,G=_.value;if(z&&ne){const Ce=ne;let he=-1;i&&(he=c==="bottom"?1:0);const fe={oldRow:Ce,newRow:i,dragRow:Ce,dragPos:c,dragToChild:!!g,offsetIndex:he},Pe=C&&T?T(fe):g,Me={status:!1};Promise.resolve(O?O(fe):!0).then(Se=>{if(!Se)return Me;let Ie=Promise.resolve();if(n){const ze=s.toTreeArray([Ce],{updated:!0,children:ee});z.handleCrossTableRowDragFinishEvent(r),i?Ce[P]=i[P]:Ce[P]=null,ze.forEach(st=>{st[J]=void 0,st[ee]=void 0}),i?c==="bottom"?Ie=u.insertNextAt(ze,i):Ie=u.insertAt(ze,i):Ie=u.insert(ze)}else z.handleCrossTableRowDragFinishEvent(r),i?c==="bottom"?Ie=u.insertNextAt(Ce,i):Ie=u.insertAt(Ce,i):Ie=u.insert(Ce);Kt("row-insert-dragend",{oldRow:ne,newRow:i,dragRow:Ce,dragPos:c,dragToChild:Pe,offsetIndex:he},r),ra(),Ie.then(()=>{const{tableData:ze}=h,{fullAllDataRowIdData:st}=f,Ue=$e(u,Ce),et=st[Ue];let tt=0,dt=-1;et&&(w&&(tt=Ql(et,L,A,V)),dt=et.$index);const Lt=dt>-1?ze.slice(dt):[];if(w&&tt&&Lt.length){const zt=f.xeGanttView;let Nt=G;if(m&&zt){const{refGanttContainerElem:tr}=m.getRefMaps(),Bt=tr.value;Bt&&(Nt=Bt)}const rt=[];Lt.forEach(tr=>{const Bt=$e(u,tr);rt.push(`.vxe-body--row[rowid="${Bt}"]`),m&&rt.push(`.vxe-gantt-view--body-row[rowid="${Bt}"]`,`.vxe-gantt-view--chart-row[rowid="${Bt}"]`)});const or=Nt.querySelectorAll(rt.join(","));na(or,-tt)}})})}}},hideCrossTableRowDropClearStatus(){ul()},handleRowDragDragendEvent(r){const{treeConfig:n}=e,{fullAllDataRowIdData:i,prevDragToChild:c}=f,{dragRow:g}=h,x=yt.value,{lazy:w}=x,C=x.hasChild||x.hasChildField,{prevDragRow:S,prevDragPos:O}=f,T=re.value,{isCrossTableDrag:A}=T;if(A&&fo){const{$newTable:L}=fo;if(L&&L.xID!==u.xID){L.handleCrossTableRowDragInsertEvent(r);return}}if(n&&w&&c){const L=$e(u,S),V=i[L];S[C]?V&&V.treeLoaded&&u.handleRowDragSwapEvent(r,!0,g,S,O,c):u.handleRowDragSwapEvent(r,!0,g,S,O,c)}else u.handleRowDragSwapEvent(r,!0,g,S,O,c);ra(),qn()},handleRowDragDragoverEvent(r){const{treeConfig:n}=e,{fullAllDataRowIdData:i}=f,{dragRow:c}=h,g=yt.value,{lazy:x,transform:w,parentField:C}=g,S=g.hasChild||g.hasChildField,O=re.value,{isPeerDrag:T,isCrossDrag:A,isToChildDrag:L,isCrossTableDrag:V}=O;if(!c&&!(V&&(!n||A)&&fo)){r.preventDefault();return}const Y=$i(r),P=r.currentTarget,ee=P.getAttribute("rowid")||"",J=i[ee];if(J){r.preventDefault();const ne=J.row,z=$e(u,ne),G=i[z],he=r.clientY-P.getBoundingClientRect().y<P.clientHeight/2?"top":"bottom";if(f.prevDragToChild=!!(n&&w&&A&&L&&Y),f.prevDragRow=ne,f.prevDragPos=he,V&&(!n||A)&&fo){const{$oldTable:fe,$newTable:Pe}=fo;if(fe){const Me=fe.reactData;if(fe.xID===u.xID)Pe&&Pe.hideCrossTableRowDropClearStatus(),h.isCrossDragRow=!1,Me.isCrossDragRow=!1,fo.$newTable=null;else{Pe&&Pe.xID!==u.xID&&Pe.hideCrossTableRowDropClearStatus(),fe.hideCrossTableRowDropClearStatus(),Me.isCrossDragRow=!0,h.dragTipText=Me.dragTipText,fo.$newTable=u,Hl(r,P,null,!0,he);return}}}if(u.eqRow(c,ne)||Y&&n&&x&&ne[S]&&G&&!G.treeLoaded||!A&&n&&w&&(T?c[C]!==ne[C]:J.level)){Hl(r,P,null,!1,he);return}Hl(r,P,null,!0,he),Kt("row-dragover",{oldRow:c,targetRow:ne,dragPos:he},r)}},handleCellDragMousedownEvent(r,n){var i;r.stopPropagation();const{dragConfig:c}=e,g=re.value,{isCrossTableDrag:x,trigger:w,dragStartMethod:C}=g,{row:S}=n,O=r.currentTarget,T=w==="cell"||w==="row"?O:(i=O.parentElement)===null||i===void 0?void 0:i.parentElement,A=T.parentElement,L=C||(c?c.dragStartMethod:null);if(Ja(),L&&!L(n)){A.draggable=!1,h.dragRow=null,h.dragCol=null,qn(),ul();return}x&&(I.row=S,fo={$oldTable:u,$newTable:null}),h.dragRow=S,h.isCrossDragRow=!1,h.dragCol=null,A.draggable=!0,Vw(S),zw(T),Kt("row-dragstart",n,r)},handleCellDragMouseupEvent(){Og()},handleHeaderCellDragDragstartEvent(r){r.dataTransfer&&r.dataTransfer.setDragImage(Lf(),0,0)},handleColDragSwapColumn(){return mg(),Xa(!1).then(()=>{u.updateCellAreas(),u.saveCustomStore("update:sort")})},handleColDragSwapEvent(r,n,i,c,g,x){const{mouseConfig:w}=e,C=Ee.value,{animation:S,isPeerDrag:O,isCrossDrag:T,isSelfToChildDrag:A,isToChildDrag:L,dragEndMethod:V,dragToChildMethod:Y}=C,{collectColumn:P,fullColumnIdData:ee}=f,J=_.value,ne=g==="right"?1:0,z={status:!1};if(!(J&&c&&i))return Promise.resolve(z);if(c!==i){const G=i,Ce=c,he={oldColumn:G,newColumn:Ce,dragColumn:G,dragPos:g,dragToChild:!!x,offsetIndex:ne},fe=A&&Y?Y(he):x;return Promise.resolve(V?V(he):!0).then(Pe=>{if(!Pe)return z;let Me=null;const Se=[];let Ie=0;S&&s.eachTree([G],rt=>{!Me&&(!rt.children||!rt.children.length)&&(Me=rt,Ie+=rt.renderWidth),Se.push(rt)}),Me||(Me=G);const ze=ee[Me.id]||{},st=ze._index;let Ue=-1;if(S){const rt=J.querySelector(`.vxe-table--column[colid="${Me.id}"]`);rt&&(Ue=rt.offsetLeft)}let et=-1,tt=-1;const dt={};s.eachTree([G],rt=>{dt[rt.id]=rt});let Lt=!1;if(G.parentId&&Ce.parentId)if(O&&!T){if(G.parentId!==Ce.parentId)return z}else{if(!T)return z;if(dt[Ce.id]&&(Lt=!0,!(T&&A)))return ye.modal&&ye.modal.message({status:"error",content:jo("vxe.error.treeDragChild")}),z}else if(G.parentId){if(!T)return z}else if(Ce.parentId){if(!T)return z;if(dt[Ce.id]&&(Lt=!0,!(T&&A)))return ye.modal&&ye.modal.message({status:"error",content:jo("vxe.error.treeDragChild")}),z}const zt=s.findTree(P,rt=>rt.id===G.id);if(Lt&&T&&A){if(zt){const{items:rt,index:or}=zt,tr=G.children||[];tr.forEach(Bt=>{Bt.parentId=G.parentId}),rt.splice(or,1,...tr),G.children=[]}}else if(zt){const{items:rt,index:or,parent:tr}=zt;rt.splice(or,1),tr||(et=or)}const Nt=s.findTree(P,rt=>rt.id===Ce.id);if(Nt){const{items:rt,index:or,parent:tr}=Nt;T&&L&&fe?(G.parentId=Ce.id,Ce.children=(Ce.children||[]).concat([G])):(G.parentId=Ce.parentId,rt.splice(or+ne,0,G)),tr||(tt=or)}return s.eachTree(P,(rt,or,tr,Bt,rr)=>{if(!rr){const Pt=or+1;rt.renderSortNumber=Pt}}),w&&(u.clearSelected&&u.clearSelected(),u.clearCellAreas&&(u.clearCellAreas(),u.clearCopyCellArea())),r&&Kt("column-dragend",{oldColumn:G,newColumn:Ce,dragColumn:G,dragPos:g,dragToChild:fe,offsetIndex:ne,_index:{newIndex:tt,oldIndex:et}},r),ue().then(()=>{if(n)return u.handleColDragSwapColumn()}).then(()=>{if(S){const{tableColumn:rt}=h,{visibleColumn:or,fullColumnIdData:tr}=f;let Bt=null;const rr={};if(s.eachTree([G],Pt=>{!Bt&&(!Pt.children||!Pt.children.length)&&(Bt=Pt),rr[Pt.id]=Pt}),Bt||(Bt=G),Ie&&Se.length){const Pt=s.findIndexOf(or,Qt=>!!Bt&&Qt.id===Bt.id),At=rt[0],jt=tr[At.id];if(jt){const Qt=jt._index,Or=Qt+rt.length;let pr=-1,zr=-1,Br=1;st<Qt?(pr=0,zr=Pt-Qt):st>Or?(pr=ze.$index+1,zr=rt.length,Br=-1):Pt>st?(pr=st-Qt,zr=pr+Pt-st):(pr=Pt-Qt+1,zr=pr+st-Pt,Br=-1);const Xr=[],br={};for(let Rr=pr;Rr<zr;Rr++){const Lr=rt[Rr];!br[Lr.id]&&!rr[Lr.id]&&(br[Lr.id]=Lr,Xr.push(Lr))}if(s.eachTree([Ce],Rr=>{br[Rr.id]||(br[Rr.id]=Rr,Xr.push(Rr))}),Xr.length){const Rr=J.querySelectorAll(Xr.map(Lr=>`.vxe-table--column[colid="${Lr.id}"]`).join(","));fb(Rr,Br*Ie)}}const Zt=J.querySelectorAll(Se.map(Qt=>`.vxe-table--column[colid="${Qt.id}"]`).join(",")),ar=Zt[0];Ue>-1&&ar&&fb(Zt,Ue-ar.offsetLeft)}}return Qi(),cl(),u.updateCellAreas(),{status:!0}})}).catch(()=>z)}return Promise.resolve(z)},handleHeaderCellDragDragendEvent(r){const{dragCol:n}=h,{prevDragCol:i,prevDragPos:c,prevDragToChild:g}=f,x=_.value;u.handleColDragSwapEvent(r,!0,n,i,c,g),ul(),ta(),oS(x,[".vxe-table--column"]),f.prevDragToChild=!1,h.dragRow=null,h.dragCol=null,qn()},handleHeaderCellDragDragoverEvent(r){const{dragCol:n}=h,i=Ee.value,{isToChildDrag:c,isPeerDrag:g,isCrossDrag:x}=i;if(!n){r.preventDefault();return}const w=$i(r),C=r.currentTarget,S=C.getAttribute("colid"),O=u.getColumnById(S);if(O){r.preventDefault();const{clientX:T}=r,L=T-C.getBoundingClientRect().x<C.clientWidth/2?"left":"right";if(f.prevDragToChild=!!(x&&c&&w),f.prevDragCol=O,f.prevDragPos=L,O.fixed||n&&n.id===O.id||!x&&(g?n.parentId!==O.parentId:O.parentId)){Hl(r,null,C,!1,L);return}Hl(r,null,C,!0,L),Kt("column-dragover",{oldColumn:n,targetColumn:O,dragPos:L},r);const V=_.value;if(!V)return;const Y=we.value,P=B.value,ee=P?P.$el:null,J=Y||ee;if(J){const ne=V.getBoundingClientRect(),z=V.clientWidth,G=ie.value,Ce=G?G.clientWidth:0,he=ce.value,fe=he?he.clientWidth:0,Pe=ne.x+Ce,Me=ne.x+z-fe,Se=28,Ie=T-Pe,ze=Me-T;if(Ie>0&&Ie<=Se){const st=Math.floor(z/(Ie>Se/2?240:120));J.scrollLeft-=st*(Se-Ie)}else if(ze>0&&ze<=Se){const st=Math.floor(z/(ze>Se/2?240:120));J.scrollLeft+=st*(Se-ze)}}}},handleHeaderCellDragMousedownEvent(r,n){var i;r.stopPropagation();const c=Ee.value,{trigger:g,dragStartMethod:x}=c,{column:w}=n,C=r.currentTarget,S=g==="cell"?C:(i=C.parentElement)===null||i===void 0?void 0:i.parentElement;if(ta(),x&&!x(n)){S.draggable=!1,h.dragRow=null,h.dragCol=null,qn(),ul();return}h.dragCol=w,h.dragRow=null,S.draggable=!0,qn(),Ww(w),jw(S),Kt("column-dragstart",n,r)},handleHeaderCellDragMouseupEvent(){ta(),ul(),qn(),h.dragRow=null,h.dragCol=null},handleScrollEvent(r,n,i,c,g,x){const{highlightHoverRow:w}=e,{lastScrollLeft:C,lastScrollTop:S}=f,O=we.value,T=Re.value;if(!O||!T)return;const A=Ct.value,L=X.value,V=W.value,Y=T.clientHeight,P=O.clientWidth,ee=T.scrollHeight,J=O.scrollWidth;let ne=!1,z=!1,G=!1,Ce=!1,he="",fe=!1,Pe=!1,Me=!1,Se=!1;if(i){const ze=at.value;G=g<=0,G||(Ce=g+P>=J),g>C?(he="right",g+P>=J-ze&&(Se=!0)):(he="left",g<=ze&&(Me=!0)),u.checkScrolling(),f.lastScrollLeft=g}if(n){const ze=St.value;ne=c<=1,ne||(z=c+Y>=ee-1),c>S?(he="bottom",c+Y>=ee-ze&&(Pe=!0)):(he="top",c<=ze&&(fe=!0)),f.lastScrollTop=c}h.lastScrollTime=Date.now();const Ie=Object.assign({scrollTop:c,scrollLeft:g,bodyHeight:Y,bodyWidth:P,scrollHeight:ee,scrollWidth:J,isX:i,isY:n,isTop:ne,isBottom:z,isLeft:G,isRight:Ce,direction:he},x);_n(),Mw(i,n),i&&u.closeFilter(),(A.isHover||w)&&u.clearHoverRow(),L&&L.reactData.visible&&L.close(),V&&V.reactData.visible&&V.close(),(Pe||fe||Se||Me)&&Kt("scroll-boundary",Ie,r),Kt("scroll",Ie,r)},triggerScrollXEvent(){ht.value.immediate?cl():Tw()},triggerScrollYEvent(){vt.value.immediate?mi():Fw()},triggerBodyScrollEvent(r,n){const{scrollYLoad:i,scrollXLoad:c}=h,{elemStore:g,intoRunScroll:x,lastScrollTop:w,lastScrollLeft:C,inWheelScroll:S,inVirtualScroll:O,inHeaderScroll:T,inBodyScroll:A,scrollRenderType:L,inFooterScroll:V}=f;if(S||O||T||V)return;const Y=we.value,P=Re.value,ee=ct(g["left-body-scroll"]),J=ct(g["main-body-scroll"]),ne=ct(g["right-body-scroll"]),z=ct(g["main-header-scroll"]),G=ct(g["main-footer-scroll"]),Ce=Fe.value;if(x||!J||!Y||!P||A&&L!==n)return;let he=P.scrollTop,fe=Y.scrollLeft;ee&&n==="left"?he=ee.scrollTop:ne&&n==="right"?he=ne.scrollTop:(he=J.scrollTop,fe=J.scrollLeft);const Pe=fe!==C,Me=he!==w;f.inBodyScroll=!0,f.scrollRenderType=n,Me&&(n==="left"?(lr(J,he),lr(ne,he)):n==="right"?(lr(J,he),lr(ee,he)):(lr(ee,he),lr(ne,he)),lr(P,he),lr(Ce,he),Ji(he),i&&u.triggerScrollYEvent(r)),Pe&&(sr(Y,fe),sr(z,fe),sr(G,fe),c&&u.triggerScrollXEvent(r)),u.handleScrollEvent(r,Me,Pe,he,fe,{type:"body",fixed:n})},triggerHeaderScrollEvent(r,n){const{scrollXLoad:i}=h,{elemStore:c,intoRunScroll:g,inWheelScroll:x,inVirtualScroll:w,inBodyScroll:C,inFooterScroll:S}=f;if(x||w||C||S)return;const O=Re.value,T=we.value,A=ct(c["main-body-scroll"]),L=ct(c["main-header-scroll"]),V=ct(c["main-footer-scroll"]);if(g||!L||!T||!O)return;const Y=O.scrollTop,P=L.scrollLeft,ee=!0,J=!1;f.inHeaderScroll=!0,sr(T,P),sr(V,P),sr(A,P),i&&u.triggerScrollXEvent(r),u.handleScrollEvent(r,J,ee,Y,P,{type:"header",fixed:n})},triggerFooterScrollEvent(r,n){const{scrollXLoad:i}=h,{elemStore:c,intoRunScroll:g,inWheelScroll:x,inVirtualScroll:w,inHeaderScroll:C,inBodyScroll:S}=f;if(x||w||C||S)return;const O=Re.value,T=we.value,A=ct(c["main-body-scroll"]),L=ct(c["main-header-scroll"]),V=ct(c["main-footer-scroll"]);if(g||!V||!T||!O)return;const Y=O.scrollTop,P=V.scrollLeft,ee=!0,J=!1;f.inFooterScroll=!0,sr(T,P),sr(L,P),sr(A,P),i&&u.triggerScrollXEvent(r),u.handleScrollEvent(r,J,ee,Y,P,{type:"footer",fixed:n})},triggerBodyWheelEvent(r){const{target:n,deltaY:i,deltaX:c,shiftKey:g}=r;if(n&&/^textarea$/i.test(n.tagName)||!i&&!c)return;const{highlightHoverRow:x}=Ea,{scrollXLoad:w,scrollYLoad:C,expandColumn:S}=h,O=gr.value,T=ir.value;if(!(O||T||S))return;const{elemStore:A,lastScrollTop:L,lastScrollLeft:V}=f,Y=Ct.value,P=we.value,ee=Re.value,J=ct(A["left-body-scroll"]),ne=ct(A["main-header-scroll"]),z=ct(A["main-body-scroll"]),G=ct(A["main-footer-scroll"]),Ce=ct(A["right-body-scroll"]),he=Fe.value;if(!P||!ee||!z)return;const fe=Iw(h.lastScrollTime),Pe=g?0:Math.ceil(i*fe),Me=g?Math.ceil((g&&i||c)*fe):0,Se=Pe<0,Ie=z.scrollTop;if(Se?Ie<=0:Ie>=z.scrollHeight-z.clientHeight)return;const ze=Ie+Pe,st=z.scrollLeft+Me,Ue=st!==V,et=ze!==L;if((Y.isHover||x)&&u.clearHoverRow(),Ue)if(r.preventDefault(),f.inWheelScroll=!0,a.firefox||a.safari){const tt=st;sr(P,tt),sr(z,tt),sr(ne,tt),sr(G,tt),w&&u.triggerScrollXEvent(r),u.handleScrollEvent(r,et,Ue,z.scrollTop,tt,{type:"table",fixed:""})}else Aw(st,tt=>{f.inWheelScroll=!0;const dt=tt;sr(P,dt),sr(z,dt),sr(ne,dt),sr(G,dt),w&&u.triggerScrollXEvent(r),u.handleScrollEvent(r,et,Ue,z.scrollTop,dt,{type:"table",fixed:""})});if(et)if(r.preventDefault(),f.inWheelScroll=!0,a.firefox||a.safari){const tt=ze;lr(ee,tt),lr(z,tt),lr(J,tt),lr(Ce,tt),lr(he,tt),Ji(tt),C&&u.triggerScrollYEvent(r),u.handleScrollEvent(r,et,Ue,tt,z.scrollLeft,{type:"table",fixed:""})}else kw(ze-Ie,tt=>{f.inWheelScroll=!0;const dt=z.scrollTop+tt;lr(ee,dt),lr(z,dt),lr(J,dt),lr(Ce,dt),lr(he,dt),Ji(dt),C&&u.triggerScrollYEvent(r),u.handleScrollEvent(r,et,Ue,dt,z.scrollLeft,{type:"table",fixed:""})})},triggerVirtualScrollXEvent(r){const{scrollXLoad:n}=h,{elemStore:i,inWheelScroll:c,lastScrollTop:g,inHeaderScroll:x,inBodyScroll:w,inFooterScroll:C}=f;if(x||w||C||c)return;const S=ct(i["main-header-scroll"]),O=ct(i["main-body-scroll"]),T=ct(i["main-footer-scroll"]),A=Re.value,L=r.currentTarget,{scrollLeft:V}=L,Y=A||O;let P=0;Y&&(P=Y.scrollTop);const ee=!0,J=P!==g;f.inVirtualScroll=!0,sr(O,V),sr(S,V),sr(T,V),n&&u.triggerScrollXEvent(r),u.handleScrollEvent(r,J,ee,P,V,{type:"table",fixed:""})},triggerVirtualScrollYEvent(r){const{scrollYLoad:n}=h,{elemStore:i,inWheelScroll:c,lastScrollLeft:g,inHeaderScroll:x,inBodyScroll:w,inFooterScroll:C}=f;if(x||w||C||c)return;const S=ct(i["left-body-scroll"]),O=ct(i["main-body-scroll"]),T=ct(i["right-body-scroll"]),A=Fe.value,L=we.value,V=r.currentTarget,{scrollTop:Y}=V,P=L||O;let ee=0;P&&(ee=P.scrollLeft);const J=ee!==g,ne=!0;f.inVirtualScroll=!0,lr(O,Y),lr(S,Y),lr(T,Y),lr(A,Y),Ji(Y),n&&u.triggerScrollYEvent(r),u.handleScrollEvent(r,ne,J,Y,ee,{type:"table",fixed:""})},scrollToTreeRow(r){const{treeConfig:n}=e,{isRowGroupStatus:i}=h,{tableFullData:c}=f,g=[];if(n||i){const x=wt.value,w=yt.value,C=w.children||w.childrenField,S=s.findTree(c,O=>u.eqRow(O,r),{children:i?x.mapChildrenField:C});if(S){const O=S.nodes;O.forEach((T,A)=>{A<O.length-1&&!u.isTreeExpandByRow(T)&&g.push(u.setTreeExpand(T,!0))})}}return Promise.all(g).then(()=>ib(u,r))},updateScrollYStatus:vi,updateScrollXSpace(){const{scrollXLoad:r,overflowX:n,scrollXWidth:i}=h,{visibleColumn:c,scrollXStore:g,elemStore:x,fullColumnIdData:w}=f,C=f.xeGanttView,S=fr.value,O=B.value;if(O?O.$el:null){const A=ct(x["main-body-scroll"]),L=ct(x["main-body-table"]),V=ct(x["main-header-table"]),Y=ct(x["main-footer-table"]);let P=0;const ee=c[g.startIndex];ee&&(P=(w[ee.id]||{}).oLeft);let J=0;A&&(J=A.clientWidth);let ne=!1,z=i;i>zl&&(A&&L&&A.scrollLeft+J>=zl?P=zl-L.clientWidth:P=(zl-J)*(P/(i-J)),z=zl,ne=!0),r&&n||(P=0),V&&(V.style.transform=V.getAttribute("xvm")?`translate(${P}px, 0px)`:""),L&&(L.style.transform=`translate(${P}px, ${h.scrollYTop||0}px)`),Y&&(Y.style.transform=Y.getAttribute("xvm")?`translate(${P}px, 0px)`:""),["main"].forEach(he=>{["header","body","footer"].forEach(Pe=>{const Me=ct(x[`${he}-${Pe}-xSpace`]);Me&&(Me.style.width=r?`${z}px`:"")})}),h.scrollXLeft=P,h.scrollXWidth=z,h.isScrollXBig=ne;const Ce=Je.value;return Ce&&(Ce.style.width=`${z}px`),Yi(),ne&&S.area&&Ne("vxe.error.notProp",["mouse-config.area"]),C&&C.handleUpdateSXSpace&&C.handleUpdateSXSpace(),ue().then(()=>{Vr()})}},updateScrollYSpace(){const{isAllOverflow:r,overflowY:n,scrollYLoad:i,expandColumn:c}=h,{scrollYStore:g,elemStore:x,isResizeCellHeight:w,afterFullData:C,fullAllDataRowIdData:S,rowExpandedMaps:O}=f,T=f.xeGanttView,{startIndex:A}=g,L=fr.value,V=er.value,Y=Ct.value,P=ut.value,ee=Ot.value,J=ct(x["main-body-scroll"]),ne=ct(x["main-body-table"]),z=ct(x["left-body-table"]),G=ct(x["right-body-table"]),Ce=["main","left","right"];let he=0,fe=0,Pe=!1;if(i)if(!(w||P.height||Y.height)&&!c&&r)fe=C.length*ee,fe>vl&&(Pe=!0),he=Math.max(0,A*ee);else{const et=C[A];let tt=$e(u,et),dt=S[tt]||{};he=dt.oTop||0;const Lt=C[C.length-1];tt=$e(u,Lt),dt=S[tt]||{},fe=(dt.oTop||0)+(dt.resizeHeight||P.height||Y.height||dt.height||ee),c&&O[tt]&&(fe+=dt.expandHeight||V.height||0),fe>vl&&(Pe=!0)}else ne&&(fe=ne.clientHeight);let Me=0;J&&(Me=J.clientHeight);let Se=fe,Ie=he;Pe&&(J&&ne&&J.scrollTop+Me>=vl?Ie=vl-ne.clientHeight:Ie=(vl-Me)*(he/(fe-Me)),Se=vl),i&&n||(Ie=0),z&&(z.style.transform=`translate(0px, ${Ie}px)`),ne&&(ne.style.transform=`translate(${h.scrollXLeft||0}px, ${Ie}px)`),G&&(G.style.transform=`translate(0px, ${Ie}px)`),Ce.forEach(Ue=>{["header","body","footer"].forEach(tt=>{const dt=ct(x[`${Ue}-${tt}-ySpace`]);dt&&(dt.style.height=Se?`${Se}px`:"")})});const ze=lt.value;ze&&(ze.style.height=Se?`${Se}px`:"");const st=ot.value;return st&&(st.style.height=Se?`${Se}px`:""),h.scrollYTop=Ie,h.scrollYHeight=fe,h.isScrollYBig=Pe,Yi(),Pe&&L.area&&Ne("vxe.error.notProp",["mouse-config.area"]),T&&T.handleUpdateSYSpace&&T.handleUpdateSYSpace(),ue().then(()=>{Vr()})},updateScrollXData(){const{isAllOverflow:r}=h;return Ya(),u.updateScrollXSpace(),ue().then(()=>{Ya(),u.updateScrollXSpace(),r||u.updateScrollYSpace()})},updateScrollYData(){return u.handleTableData(),u.updateScrollYSpace(),ue().then(()=>{u.handleTableData(),u.updateScrollYSpace()})},checkScrolling(){const{elemStore:r}=f,n=ct(r["main-body-scroll"]),i=ie.value,c=ce.value,x=we.value||n;x&&(i&&(x.scrollLeft>0?Do(i,"scrolling--middle"):co(i,"scrolling--middle")),c&&(x.clientWidth<x.scrollWidth-Math.ceil(x.scrollLeft)?Do(c,"scrolling--middle"):co(c,"scrolling--middle")))},handleUpdateAggData(){return sl(f.tableSynchData,!0)},updateZindex(){e.zIndex?f.tZindex=e.zIndex:f.tZindex<kC()&&(f.tZindex=AC())},handleCheckedCheckboxRow:al,triggerHoverEvent(r,{row:n}){k.setHoverRow(n)},setHoverRow(r){const n=f.xeGanttView,i=$e(u,r),c=_.value;k.clearHoverRow(),c&&s.arrayEach(c.querySelectorAll(`.vxe-body--row[rowid="${i}"]`),g=>Do(g,"row--hover")),f.hoverRow=r,n&&n.handleUpdateHoverRow&&n.handleUpdateHoverRow(r)},clearHoverRow(){const r=f.xeGanttView,n=_.value;n&&s.arrayEach(n.querySelectorAll(".vxe-body--row.row--hover"),i=>co(i,"row--hover")),f.hoverRow=null,r&&r.handleUpdateHoverRow&&r.handleUpdateHoverRow()},getCell(r,n){return $.getCellElement(r,n)},findRowIndexOf(r,n){return n?s.findIndexOf(r,i=>u.eqRow(i,n)):-1},eqRow(r,n){return r&&n?r===n?!0:$e(u,r)===$e(u,n):!1},handleConnectGanttView(r){return r&&r.connectUpdate&&(r.connectUpdate({$table:u}),f.xeGanttView=r),ue()}},Object.assign(u,$,k);const Dg=r=>{const{showHeader:n,showFooter:i}=e,{tableData:c,tableColumn:g,tableGroupColumn:x,columnStore:w,footerTableData:C}=h,S=r==="left",O=S?w.leftList:w.rightList;return E("div",{ref:S?ie:ce,class:`vxe-table--fixed-${r}-wrapper`},[n?E(vb,{ref:S?q:ge,fixedType:r,tableData:c,tableColumn:g,tableGroupColumn:x,fixedColumn:O}):eo(u),E(pb,{ref:S?se:ve,fixedType:r,tableData:c,tableColumn:g,fixedColumn:O}),i?E(xb,{ref:S?pe:Oe,footerTableData:C,tableColumn:g,fixedColumn:O,fixedType:r}):eo(u)])},Uw=()=>{const r=Ur.value,n=o.empty,i={$table:u,$grid:y,gantt:m};if(n)return n(i);{const c=r.name?Tf.get(r.name):null,g=c?c.renderTableEmpty||c.renderTableEmptyView||c.renderEmpty:null;if(g)return _r(g(r,i))}return mn(e.emptyText)||jo("vxe.table.emptyText")},Yw=()=>{const{dragConfig:r}=e,{dragRow:n,dragCol:i,dragTipText:c}=h,g=Ee.value,x=re.value,C=(x.slots||{}).tip||(r&&r.slots?r.slots.rowTip:null),O=(g.slots||{}).tip,T=n||(x.isCrossTableDrag?I.row:null);return T&&C?bi(C,{row:T}):i&&O?bi(O,{column:i}):[E("span",c)]},Xw=()=>{const{dragRow:r,dragCol:n}=h,i=Ct.value,c=Tt.value,g=re.value,x=Ee.value,w=r||(g.isCrossTableDrag?I.row:null);return i.drag||c.drag?E("div",{class:"vxe-table--drag-wrapper"},[E("div",{ref:Te,class:["vxe-table--drag-row-line",{"is--guides":g.showGuidesStatus}]}),E("div",{ref:Le,class:["vxe-table--drag-col-line",{"is--guides":x.showGuidesStatus}]}),w&&g.showDragTip||n&&x.showDragTip?E("div",{ref:le,class:"vxe-table--drag-sort-tip"},[E("div",{class:"vxe-table--drag-sort-tip-wrapper"},[E("div",{class:"vxe-table--drag-sort-tip-status"},[E("span",{class:["vxe-table--drag-sort-tip-normal-status",w?ga().TABLE_DRAG_STATUS_ROW:ga().TABLE_DRAG_STATUS_COLUMN]}),E("span",{class:["vxe-table--drag-sort-tip-sub-status",ga().TABLE_DRAG_STATUS_SUB_ROW]}),E("span",{class:["vxe-table--drag-sort-tip-disabled-status",ga().TABLE_DRAG_DISABLED]})]),E("div",{class:"vxe-table--drag-sort-tip-content"},Yw())])]):eo(u)]):eo(u)},Kw=()=>{const{treeConfig:r}=e,{expandColumn:n,isRowGroupStatus:i}=h,c=uo.value,g=er.value,{mode:x}=g;if(x!=="fixed")return eo(u);const w=[E("div",{key:"repY",ref:ot})];if(n){const{handleGetRowId:C}=Tr(u);c.forEach(S=>{const O=er.value,{height:T,padding:A,indent:L}=O,{fullAllDataRowIdData:V,fullColumnIdData:Y}=f,P=yt.value,{transform:ee,seqMode:J}=P,ne={},z=C(S),G=V[z],Ce=n.id,he=Y[Ce]||{};let fe=0,Pe=-1,Me=-1,Se=-1,Ie=-1;G&&(Se=G.index,Ie=G.$index,Me=G._index,fe=G.level,Pe=G.seq,i||r&&ee&&J==="increasing"?Pe=G._index+1:r&&J==="fixed"&&(Pe=G._tIndex+1)),T&&(ne.height=`${T}px`),(i||r)&&(ne.paddingLeft=`${fe*(s.isNumber(L)?L:P.indent)+30}px`);let ze=-1,st=-1,Ue=-1;he&&(ze=he.index,st=he.$index,Ue=he._index);const et={$table:u,$grid:y,$gantt:m,seq:Pe,column:n,columnIndex:ze,$columnIndex:st,_columnIndex:Ue,fixed:"",type:"body",level:fe,rowid:z,row:S,rowIndex:Se,$rowIndex:Ie,_rowIndex:Me,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};w.push(E("div",{key:z,class:["vxe-body--row-expanded-cell",{"is--padding":A,"is--ellipsis":T}],rowid:z,style:ne},n.renderData(et)))})}return E("div",{ref:Fe,class:"vxe-table--row-expanded-wrapper"},w)},Tg=()=>E("div",{key:"vsx",ref:De,class:"vxe-table--scroll-x-virtual"},[E("div",{ref:K,class:"vxe-table--scroll-x-left-corner"}),E("div",{ref:He,class:"vxe-table--scroll-x-wrapper"},[E("div",{ref:we,class:"vxe-table--scroll-x-handle",onScroll:u.triggerVirtualScrollXEvent},[E("div",{ref:Je,class:"vxe-table--scroll-x-space"})]),E("div",{class:"vxe-table--scroll-x-handle-appearance"})]),E("div",{ref:xe,class:"vxe-table--scroll-x-right-corner"})]),Fg=()=>E("div",{ref:Ke,class:"vxe-table--scroll-y-virtual"},[E("div",{ref:Ae,class:"vxe-table--scroll-y-top-corner"}),E("div",{ref:We,class:"vxe-table--scroll-y-wrapper"},[E("div",{ref:Re,class:"vxe-table--scroll-y-handle",onScroll:u.triggerVirtualScrollYEvent},[E("div",{ref:lt,class:"vxe-table--scroll-y-space"})]),E("div",{class:"vxe-table--scroll-y-handle-appearance"})]),E("div",{ref:Xe,class:"vxe-table--scroll-y-bottom-corner"})]),Mg=()=>{const{showHeader:r,showFooter:n}=e,{overflowX:i,tableData:c,tableColumn:g,tableGroupColumn:x,footerTableData:w,columnStore:C}=h,{leftList:S,rightList:O}=C;return E("div",{ref:j,class:"vxe-table--viewport-wrapper"},[E("div",{class:"vxe-table--main-wrapper"},[r?E(vb,{ref:N,tableData:c,tableColumn:g,tableGroupColumn:x}):eo(u),E(pb,{ref:B,tableData:c,tableColumn:g}),n?E(xb,{ref:Z,footerTableData:w,tableColumn:g}):eo(u)]),E("div",{class:"vxe-table--fixed-wrapper"},[S&&S.length&&i?Dg("left"):eo(u),O&&O.length&&i?Dg("right"):eo(u)]),Kw()])},Ig=()=>{const r=_e.value;return E("div",{class:"vxe-table--layout-wrapper"},r?[Fg(),Mg()]:[Mg(),Fg()])},Zw=()=>{const{loading:r,stripe:n,showHeader:i,height:c,treeConfig:g,mouseConfig:x,showFooter:w,highlightCell:C,highlightHoverRow:S,highlightHoverColumn:O,editConfig:T,editRules:A}=e,{isGroup:L,overflowX:V,overflowY:Y,scrollXLoad:P,scrollYLoad:ee,tableData:J,initStore:ne,isRowGroupStatus:z,columnStore:G,filterStore:Ce,customStore:he,tooltipStore:fe}=h,{teleportToWrapperElem:Pe,popupToWrapperElem:Me}=f,{leftList:Se,rightList:Ie}=G,ze=o.loading,st={header:o.headerTooltip||o["header-tooltip"],body:o.tooltip,footer:o.footerTooltip||o["footer-tooltip"]},Ue=fe.visible&&fe.type?st[fe.type]:null,et=re.value,tt=Xt.value,dt=Ar.value,Lt=je.value,zt=it.value,Nt=yt.value,rt=Ct.value,or=Tt.value,tr=D.value,Bt=Bo.value,rr=fr.value,Pt=Kr.value,At=kr.value,jt=Sr.value,Zt=h.isColLoading||h.isRowLoading||r,ar=Be.value,Qt=x&&rr.area,Or=Ee.value,pr=xt.value,zr=_e.value,{isCrossTableDrag:Br}=et,Xr={onKeydown:_w};return Br&&!J.length&&(Xr.onDragover=u.handleCrossTableRowDragoverEmptyEvent),E("div",Object.assign({ref:_,class:["vxe-table","vxe-table--render-default",`tid_${d}`,`border--${Bt}`,`sx-pos--${pr?"top":"bottom"}`,`sy-pos--${zr?"left":"right"}`,{[`size--${tr}`]:tr,[`valid-msg--${Lt.msgMode}`]:!!A,"vxe-editable":!!T,"old-cell-valid":A&&Ht().cellVaildMode==="obsolete","cell--highlight":C,"cell--selected":x&&rr.selected,"cell--area":Qt,"header-cell--area":Qt&&Pt.selectCellByHeader,"body-cell--area":Qt&&Pt.selectCellByBody,"row--highlight":rt.isHover||S,"column--highlight":or.isHover||O,"checkbox--range":zt.range,"col--drag-cell":or.drag&&Or.trigger==="cell","is--header":i,"is--footer":w,"is--group":L,"is-row-group":z,"is--tree-line":g&&(Nt.showLine||Nt.line),"is--fixed-left":Se.length,"is--fixed-right":Ie.length,"is--animat":!!e.animat,"is--round":e.round,"is--stripe":!g&&n,"is--loading":Zt,"is--empty":!Zt&&!J.length,"is--scroll-y":Y,"is--scroll-x":V,"is--virtual-x":P,"is--virtual-y":ee}],spellcheck:!1},Xr),[E("div",{class:"vxe-table-slots"},o.default?o.default({}):[]),E("div",{ref:U,class:"vxe-table-vars"},[E("div",{class:"vxe-table-var-default"}),E("div",{class:"vxe-table-var-medium"}),E("div",{class:"vxe-table-var-small"}),E("div",{class:"vxe-table-var-mini"})]),E("div",{key:"tw",class:"vxe-table--render-wrapper"},pr?[Tg(),Ig()]:[Ig(),Tg()]),E("div",{key:"tn",ref:be,class:"vxe-table--empty-placeholder"},[E("div",{class:"vxe-table--empty-content"},Uw())]),E("div",{key:"tl",class:"vxe-table--border-line"}),E("div",{key:"tcl",ref:de,class:"vxe-table--resizable-col-bar"},ar.showDragTip?[E("div",{class:"vxe-table--resizable-number-tip"})]:[]),E("div",{key:"ttw"},[E(Ca,{to:Pe,disabled:!(m&&Pe)},[E("div",{ref:ae},[E("div",{key:"trl",ref:me,class:"vxe-table--resizable-row-bar"},ar.showDragTip?[E("div",{class:"vxe-table--resizable-number-tip"})]:[]),ne.custom?E(cS,{key:"cs",ref:H,customStore:he}):eo(u),p?E(p,{key:"lg",class:"vxe-table--loading",modelValue:Zt,icon:At.icon,text:At.text},ze?{default:()=>bi(ze,{$table:u,$grid:y,$gantt:m,loading:Zt})}:{}):ze?E("div",{class:["vxe-loading--custom-wrapper",{"is--visible":Zt}]},bi(ze,{$table:u,$grid:y,$gantt:m,loading:Zt})):eo(u),Xw()])])]),E("div",{key:"tpw"},[E(Ca,{to:Me,disabled:!(R&&Me)},[E("div",{ref:oe},[ne.filter?E(uS,{key:"tf",ref:M,filterStore:Ce}):eo(u),jt?E(hS,{key:"tm",ref:F}):eo(u)])])]),ne.import&&e.importConfig?E(fS,{key:"it",defaultOptions:h.importParams,storeData:h.importStore}):eo(u),ne.export&&(e.exportConfig||e.printConfig)?E(gS,{key:"et",defaultOptions:h.exportParams,storeData:h.exportStore}):eo(u),b?E("div",{},[E(b,{key:"ctp",ref:te,isArrow:!1,enterable:!1}),E(b,{key:"btp",ref:W,theme:tt.theme,enterable:tt.enterable,enterDelay:tt.enterDelay,leaveDelay:tt.leaveDelay,useHTML:tt.useHTML,width:tt.width,height:tt.height,minWidth:tt.minWidth,minHeight:tt.minHeight,maxWidth:tt.maxWidth,maxHeight:tt.maxHeight},Ue?{content:()=>{const{type:br,row:Rr,column:Lr,content:an}=fe;if(Ue){if(Lr&&br==="header")return E("div",{key:br},Ue({column:Lr,tooltipContent:an,$table:u,$grid:y,$gantt:m}));if(Rr&&Lr&&br==="body")return E("div",{key:br},Ue({row:Rr,column:Lr,tooltipContent:an,$table:u,$grid:y,$gantt:m}));if(Rr&&Lr&&br==="footer")return E("div",{key:br},Ue({row:Rr,column:Lr,tooltipContent:an,$table:u,$grid:y,$gantt:m}))}return eo(u)}}:{}),e.editRules&&Lt.showMessage&&(Lt.message==="default"?!c:Lt.message==="tooltip")?E(b,{key:"vtp",ref:X,class:[{"old-cell-valid":A&&Ht().cellVaildMode==="obsolete"},"vxe-table--valid-error"],theme:dt.theme,enterable:dt.enterable,enterDelay:dt.enterDelay,leaveDelay:dt.leaveDelay}):eo(u)]):eo(u)])},es=Ye(0);_t(()=>e.data?e.data.length:-1,()=>{es.value++}),_t(()=>e.data,()=>{es.value++}),_t(es,()=>{const{initStatus:r}=f,n=e.data||[];n&&n.length>=5e4&&Ze("vxe.error.errLargeData",["loadData(data), reloadData(data)"]),sl(n,!0).then(()=>{const{scrollXLoad:i,scrollYLoad:c,expandColumn:g}=h,x=er.value;return f.inited=!0,f.initStatus=!0,r||Ki(),(i||c)&&g&&x.mode!=="fixed"&&Ze("vxe.error.scrollErrProp",["column.type=expand"]),$.recalculate()})});const ts=Ye(0);_t(()=>h.staticColumns.length,()=>{ts.value++}),_t(()=>h.staticColumns,()=>{ts.value++}),_t(ts,()=>{ue(()=>bg(s.clone(h.staticColumns)))});const rs=Ye(0);_t(()=>h.tableColumn.length,()=>{rs.value++}),_t(()=>h.tableColumn,()=>{rs.value++}),_t(rs,()=>{k.analyColumnWidth()}),_t(()=>h.upDataFlag,()=>{ue(()=>{$.updateData()})}),_t(()=>h.reColumnFlag,()=>{ue(()=>{$.refreshColumn()})});const Wo=Ye(0);_t(D,()=>{Wo.value++}),_t(()=>e.showHeader,()=>{Wo.value++}),_t(()=>e.showFooter,()=>{Wo.value++}),_t(()=>h.overflowX,()=>{Wo.value++}),_t(()=>h.overflowY,()=>{Wo.value++}),_t(()=>e.height,()=>{Wo.value++}),_t(()=>e.maxHeight,()=>{Wo.value++}),_t(xt,()=>{Wo.value++}),_t(_e,()=>{Wo.value++}),_t(()=>ye.getLanguage(),()=>{Wo.value++}),_t(Wo,()=>{u.recalculate(!0)});const os=Ye(0);_t(()=>e.footerData?e.footerData.length:-1,()=>{os.value++}),_t(()=>e.footerData,()=>{os.value++}),_t(os,()=>{u.updateFooter()}),_t(()=>e.syncResize,r=>{r&&(Za(),ue(()=>{Za(),setTimeout(()=>Za())}))});const ns=Ye(0);_t(()=>e.mergeCells?e.mergeCells.length:-1,()=>{ns.value++}),_t(()=>e.mergeCells,()=>{ns.value++}),_t(ns,()=>{Ml(e.mergeCells||[])});const ls=Ye(0);_t(()=>e.mergeHeaderCells?e.mergeHeaderCells.length:-1,()=>{ls.value++}),_t(()=>e.mergeHeaderCells,()=>{ls.value++}),_t(ls,()=>{Al(e.mergeHeaderCells||[])});const xi=Ye(0);_t(()=>e.mergeFooterCells?e.mergeFooterCells.length:-1,()=>{xi.value++}),_t(()=>e.mergeFooterCells,()=>{xi.value++}),_t(()=>e.mergeFooterItems?e.mergeFooterItems.length:-1,()=>{xi.value++}),_t(()=>e.mergeFooterItems,()=>{xi.value++}),_t(xi,()=>{const r=e.mergeFooterCells||e.mergeFooterItems;Ho(r||[])}),_t(el,r=>{Xi(r)}),_t(Ve,()=>{const{inited:r,tableFullData:n}=f;r&&(tn(),h.tableData=[],ue(()=>{u.reloadData(n)}))}),v&&_t(()=>v?v.reactData.resizeFlag:null,()=>{Sg()}),tn(),QS.forEach(r=>{const{setupTable:n}=r;if(n){const i=n(u);i&&s.isObject(i)&&Object.assign(u,i)}}),k.preventEvent(null,"created",{$table:u});let Ci;return ty(()=>{$.recalculate().then(()=>$.refreshScroll()),k.preventEvent(null,"activated",{$table:u})}),ry(()=>{const{filterStore:r}=h;r.visible&&u.clearFilter(),u.closeTooltip(),f.isActivated=!1,k.preventEvent(null,"deactivated",{$table:u})}),El(()=>{const r=Tt.value,n=Ct.value,i=Jr.value,c=wt.value,g=vt.value,{groupFields:x}=c;if(m){const{refClassifyWrapperElem:w}=m.getRefMaps(),C=w.value;C&&(f.teleportToWrapperElem=C)}if(R){const{refPopupContainerElem:w}=R.getRefMaps(),C=w.value;C&&(f.popupToWrapperElem=C)}if((r.drag||n.drag||i.allowSort)&&PC(),Xi(x),ue(()=>{const{data:w,exportConfig:C,importConfig:S,treeConfig:O,showOverflow:T,highlightCurrentRow:A,highlightCurrentColumn:L}=e,{scrollXStore:V,scrollYStore:Y}=f,P=Cr.value,ee=yt.value,J=Dt.value,ne=it.value,z=er.value,G=Ct.value,Ce=Jr.value,he=fr.value,fe=oo.value,Pe=Gr.value,Me=Q.value,Se=$t.value,Ie=yr.value,ze=wt.value,st=re.value;if(e.rowId&&Ze("vxe.error.delProp",["row-id","row-config.keyField"]),e.rowKey&&Ze("vxe.error.delProp",["row-key","row-config.useKey"]),e.columnKey&&Ze("vxe.error.delProp",["column-id","column-config.useKey"]),!(e.rowId||G.keyField)&&(ne.reserve||ne.checkRowKeys||J.reserve||J.checkRowKey||z.expandRowKeys||ee.expandRowKeys)&&Ze("vxe.error.reqProp",["row-config.keyField"]),e.editConfig&&(P.showStatus||P.showUpdateStatus||P.showInsertStatus)&&!e.keepSource&&Ze("vxe.error.reqProp",["keep-source"]),O&&(ee.showLine||ee.line)&&!T&&Ze("vxe.error.reqProp",["show-overflow"]),O&&!ee.transform&&e.stripe&&Ze("vxe.error.noTree",["stripe"]),e.showFooter&&!(e.footerMethod||e.footerData)&&Ze("vxe.error.reqProp",["footer-data | footer-method"]),G.height&&Ze("vxe.error.delProp",["row-config.height","cell-config.height"]),e.highlightCurrentRow&&Ze("vxe.error.delProp",["highlight-current-row","row-config.isCurrent"]),e.highlightHoverRow&&Ze("vxe.error.delProp",["highlight-hover-row","row-config.isHover"]),e.highlightCurrentColumn&&Ze("vxe.error.delProp",["highlight-current-column","column-config.isCurrent"]),e.highlightHoverColumn&&Ze("vxe.error.delProp",["highlight-hover-column","column-config.isHover"]),e.resizable&&Ze("vxe.error.delProp",["resizable","column-config.resizable"]),e.virtualXConfig&&e.scrollX&&Ze("vxe.error.notSupportProp",["virtual-x-config","scroll-x","scroll-x=null"]),e.virtualYConfig&&e.scrollY&&Ze("vxe.error.notSupportProp",["virtual-y-config","scroll-y","scroll-y=null"]),e.aggregateConfig&&e.rowGroupConfig&&Ze("vxe.error.notSupportProp",["aggregate-config","row-group-config","row-group-config=null"]),S&&Pe.types&&!Pe.importMethod&&!s.includeArrays(s.keys(Pe._typeMaps),Pe.types)&&Ze("vxe.error.errProp",[`export-config.types=${Pe.types.join(",")}`,Pe.types.filter(Ue=>s.includes(s.keys(Pe._typeMaps),Ue)).join(",")||s.keys(Pe._typeMaps).join(",")]),C&&fe.types&&!fe.exportMethod&&!s.includeArrays(s.keys(fe._typeMaps),fe.types)&&Ze("vxe.error.errProp",[`export-config.types=${fe.types.join(",")}`,fe.types.filter(Ue=>s.includes(s.keys(fe._typeMaps),Ue)).join(",")||s.keys(fe._typeMaps).join(",")]),e.id||(e.customConfig?It(Ce):Ce.enabled)&&Ce.storage&&Ne("vxe.error.reqProp",["id"]),e.treeConfig&&ne.range&&Ne("vxe.error.noTree",["checkbox-config.range"]),G.height&&!e.showOverflow&&Ze("vxe.error.notProp",["table.show-overflow"]),!u.triggerCellAreaModnEvent&&(e.areaConfig&&Ze("vxe.error.notProp",["area-config"]),e.clipConfig&&Ze("vxe.error.notProp",["clip-config"]),e.fnrConfig&&Ze("vxe.error.notProp",["fnr-config"]),he.area)){Ne("vxe.error.notProp",["mouse-config.area"]);return}if(!u.handlePivotTableAggregateData){if(Ce.allowGroup){Ne("vxe.error.notProp",["custom-config.allowGroup"]);return}if(Ce.allowValues){Ne("vxe.error.notProp",["custom-config.allowValues"]);return}}if(O&&G.drag&&!ee.transform&&Ne("vxe.error.notSupportProp",["row-config.drag","tree-config.transform=false","tree-config.transform=true"]),O&&st.isCrossTableDrag&&!st.isCrossDrag&&Ne("vxe.error.reqSupportProp",["tree-config & row-drag-config.isCrossTableDrag","row-drag-config.isCrossDrag"]),e.dragConfig&&Ze("vxe.error.delProp",["drag-config","row-drag-config"]),e.rowGroupConfig&&Ze("vxe.error.delProp",["row-group-config","aggregate-config"]),ze.countFields&&Ze("vxe.error.delProp",["row-group-config.countFields","column.agg-func"]),ze.aggregateMethod&&Ze("vxe.error.delProp",["row-group-config.aggregateMethod","aggregate-config.calcValuesMethod"]),ze.countMethod&&Ze("vxe.error.delProp",["aggregate-config.countMethod","aggregate-config.calcValuesMethod"]),e.treeConfig&&ee.children&&Ze("vxe.error.delProp",["tree-config.children","tree-config.childrenField"]),e.treeConfig&&ee.line&&Ze("vxe.error.delProp",["tree-config.line","tree-config.showLine"]),he.area&&he.selected&&Ze("vxe.error.errConflicts",["mouse-config.area","mouse-config.selected"]),he.area&&e.treeConfig&&!ee.transform&&Ne("vxe.error.noTree",["mouse-config.area"]),e.editConfig&&P.activeMethod&&Ze("vxe.error.delProp",["edit-config.activeMethod","edit-config.beforeEditMethod"]),e.treeConfig&&ne.isShiftKey&&Ne("vxe.error.errConflicts",["tree-config","checkbox-config.isShiftKey"]),ne.halfField&&Ze("vxe.error.delProp",["checkbox-config.halfField","checkbox-config.indeterminateField"]),O&&s.arrayEach(["rowField","parentField","childrenField","hasChildField","mapChildrenField"],Ue=>{const et=ee[Ue];et&&et.indexOf(".")>-1&&Ne("vxe.error.errProp",[`${Ue}=${et}`,`${Ue}=${et.split(".")[0]}`])}),G.currentMethod&&Ze("vxe.error.delProp",["row-config.currentMethod","current-row-config.beforeSelectMethod"]),r.currentMethod&&Ze("vxe.error.delProp",["row-config.currentMethod","current-column-config.beforeSelectMethod"]),(G.isCurrent||A)&&e.keyboardConfig&&Ie.isArrow&&!s.isBoolean(Me.isFollowSelected)&&Ze("vxe.error.notConflictProp",["row-config.isCurrent","current-row-config.isFollowSelected"]),(r.isCurrent||L)&&e.keyboardConfig&&Ie.isArrow&&!s.isBoolean(Se.isFollowSelected)&&Ze("vxe.error.notConflictProp",["column-config.isCurrent","current-column-config.isFollowSelected"]),Object.assign(Y,{startIndex:0,endIndex:0,visibleSize:0}),Object.assign(V,{startIndex:0,endIndex:0,visibleSize:0}),sl(w||[],!0).then(()=>{w&&w.length&&(f.inited=!0,f.initStatus=!0,Ki()),yw(),Vr()}),e.autoResize){const Ue=_.value,et=k.getParentElem();Ci=JS.create(()=>{e.autoResize&&pg()}),Ue&&Ci.observe(Ue),et&&Ci.observe(et)}}),g.mode!=="scroll"){const w=j.value;w&&w.addEventListener("wheel",u.triggerBodyWheelEvent,{passive:!1})}dr.on(u,"paste",Nw),dr.on(u,"copy",Bw),dr.on(u,"cut",Gw),dr.on(u,"mousedown",Hw),dr.on(u,"blur",$w),dr.on(u,"mousewheel",Pw),dr.on(u,"keydown",qw),dr.on(u,"resize",Sg),dr.on(u,"contextmenu",u.handleGlobalContextmenuEvent),u.preventEvent(null,"mounted",{$table:u})}),oy(()=>{const r=j.value;r&&r.removeEventListener("wheel",u.triggerBodyWheelEvent),f.cvCacheMaps={},f.prevDragRow=null,f.prevDragCol=null,Ci&&Ci.disconnect(),$.closeFilter(),u.closeMenu&&u.closeMenu(),dr.off(u,"paste"),dr.off(u,"copy"),dr.off(u,"cut"),dr.off(u,"mousedown"),dr.off(u,"blur"),dr.off(u,"mousewheel"),dr.off(u,"keydown"),dr.off(u,"resize"),dr.off(u,"contextmenu"),k.preventEvent(null,"beforeUnmount",{$table:u})}),Mn(()=>{k.preventEvent(null,"unmounted",{$table:u}),s.assign(f,Qm())}),ue(()=>{e.loading&&!p&&!o.loading&&(Ne("vxe.error.errProp",["loading=true","loading=false | <template #loading>...</template>"]),Ne("vxe.error.reqComp",["vxe-loading"])),(e.showOverflow===!0||e.showOverflow==="tooltip"||e.showHeaderOverflow===!0||e.showHeaderOverflow==="tooltip"||e.showFooterOverflow===!0||e.showFooterOverflow==="tooltip"||e.tooltipConfig||e.editRules)&&(b||(e.showOverflow===!0&&Ne("vxe.error.errProp",["show-overflow=true","show-overflow=title"]),e.showOverflow==="tooltip"&&Ne("vxe.error.errProp",["show-overflow=tooltip","show-overflow=title"]),e.showHeaderOverflow===!0&&Ne("vxe.error.errProp",["show-header-overflow=true","show-header-overflow=title"]),e.showHeaderOverflow==="tooltip"&&Ne("vxe.error.errProp",["show-header-overflow=tooltip","show-header-overflow=title"]),e.showFooterOverflow===!0&&Ne("vxe.error.errProp",["show-footer-overflow=true","show-footer-overflow=title"]),e.showFooterOverflow==="tooltip"&&Ne("vxe.error.errProp",["show-footer-overflow=tooltip","show-footer-overflow=title"]),Ne("vxe.error.reqComp",["vxe-tooltip"])))}),_o("$xeColgroup",null),_o("$xeTable",u),u.renderVN=Zw,u},render(){return this.renderVN()}}),{getConfig:Uo,getIcon:zn,getI18n:Wl,renderer:Vb,commands:zb,createEvent:tO,useFns:rO}=ye;function Wb(){return{connectTable:null}}const yl=Ao({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],refreshOptions:Object,import:[Boolean,Object],importOptions:Object,export:[Boolean,Object],exportOptions:Object,print:[Boolean,Object],printOptions:Object,zoom:[Boolean,Object],zoomOptions:Object,custom:[Boolean,Object],customOptions:Object,buttons:{type:Array,default:()=>Uo().toolbar.buttons},tools:{type:Array,default:()=>Uo().toolbar.tools},perfect:{type:Boolean,default:()=>Uo().toolbar.perfect},size:{type:String,default:()=>Uo().toolbar.size||Uo().size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,t){const{slots:o,emit:l}=t,d=s.uniqueId(),a=ye.getComponent("VxeButton"),p=to("$xeGrid",null),b=to("$xeGantt",null),v=p||b,{computeSize:y}=rO.useSize(e),m=Fo({isRefresh:!1,connectFlag:0,columns:[]}),R=Wb(),D=Ye(),I={refElem:D},h={xID:d,props:e,context:t,reactData:m,internalData:R,getRefMaps:()=>I};let f={};const $=qe(()=>Object.assign({},s.clone(Uo().toolbar.refresh,!0),e.refreshOptions,e.refresh)),k=qe(()=>Object.assign({},s.clone(Uo().toolbar.import,!0),e.importOptions,e.import)),_=qe(()=>Object.assign({},s.clone(Uo().toolbar.export,!0),e.exportOptions,e.export)),U=qe(()=>Object.assign({},s.clone(Uo().toolbar.print,!0),e.printOptions,e.print)),W=qe(()=>Object.assign({},s.clone(Uo().toolbar.zoom,!0),e.zoomOptions,e.zoom)),te=qe(()=>Object.assign({},s.clone(Uo().toolbar.custom,!0),e.customOptions,e.custom)),X=qe(()=>{const{connectTable:we}=R,K=we;if((m.connectFlag||K)&&K){const{computeCustomOpts:xe}=K.getComputeMaps();return xe.value}return{trigger:""}}),F=qe(()=>X.value.trigger),M=()=>{const{connectTable:we}=R;if(we)return!0;Ne("vxe.error.barUnableLink")},H=({$event:we})=>{const{connectTable:K}=R,xe=K;xe&&xe.triggerCustomEvent&&xe.triggerCustomEvent(we)},j=({$event:we})=>{const{connectTable:K}=R,xe=K;xe&&xe.customOpenEvent(we)},N=({$event:we})=>{const{connectTable:K}=R,xe=K;if(xe){const{customStore:Re}=xe.reactData;Re.activeBtn=!1,setTimeout(()=>{!Re.activeBtn&&!Re.activeWrapper&&xe.customCloseEvent(we)},350)}},B=({$event:we})=>{const{isRefresh:K}=m,xe=$.value;if(!K){const Re=xe.queryMethod||xe.query;if(Re){m.isRefresh=!0;try{Promise.resolve(Re({})).catch(Ae=>Ae).then(()=>{m.isRefresh=!1})}catch{m.isRefresh=!1}}else v&&(m.isRefresh=!0,v.triggerToolbarCommitEvent({code:xe.code||"reload"},we).catch(()=>{}).then(()=>{m.isRefresh=!1}))}},Z=({$event:we})=>{v?v.triggerZoomEvent(we):Ze("vxe.error.notProp",["[toolbar] zoom"])},q=()=>{if(M()){const{connectTable:we}=R,K=we;K&&K.importData()}},se=()=>{if(M()){const{connectTable:we}=R,K=we;K&&K.openImport()}},pe=()=>{if(M()){const{connectTable:we}=R,K=we;K&&K.exportData()}},ge=()=>{if(M()){const{connectTable:we}=R,K=we;K&&K.openExport()}},ve=()=>{if(M()){const{connectTable:we}=R,K=we;K&&K.print()}},Oe=()=>{if(M()){const{connectTable:we}=R,K=we;K&&K.openPrint()}},ae=(we,K,xe)=>{switch(K.code){case"print":ve();break;case"open_print":Oe();break;case"custom":H(we);break;case"export":pe();break;case"open_export":ge();break;case"import":q();break;case"open_import":se();break;case"zoom":Z(we);break;case"refresh":B(we);break;default:xe();break}},oe=(we,K)=>{const{$event:xe}=we,{connectTable:Re}=R,Ae=Re,{code:He}=K;He&&ae(we,K,()=>{if(v)v.triggerToolbarBtnEvent(K,xe);else{const We=zb.get(He),Xe={code:He,button:K,$table:Ae,$grid:p,$gantt:b,$event:xe};if(We){const Je=We.tableCommandMethod||We.commandMethod;Je?Je(Xe):Ne("vxe.error.notCommands",[`[toolbar] ${He}`])}h.dispatchEvent("button-click",Xe,xe)}})},ie=(we,K)=>{const{$event:xe}=we,{connectTable:Re}=R,Ae=Re,{code:He}=K;He&&ae(we,K,()=>{if(v)v.triggerToolbarTolEvent(K,xe);else{const We=zb.get(He),Xe={code:He,button:null,tool:K,$table:Ae,$grid:p,$gantt:b,$event:xe};if(We){const Je=We.tableCommandMethod||We.commandMethod;Je?Je(Xe):Ne("vxe.error.notCommands",[`[toolbar] ${He}`])}h.dispatchEvent("tool-click",Xe,xe)}})};f={dispatchEvent:(we,K,xe)=>{l(we,tO(xe,{$toolbar:h},K))},syncUpdate(we){R.connectTable=we.$table,m.columns=we.collectColumn,m.connectFlag++}},Object.assign(h,f);const de=(we,K)=>{const{dropdowns:xe}=we,Re=[];return xe?xe.map((Ae,He)=>Ae.visible===!1?mt():a?E(a,Object.assign(Object.assign({key:He},Object.assign({},Ae,{content:Ae.name,options:void 0})),{onClick:We=>K?oe(We,Ae):ie(We,Ae)})):mt()):Re},me=()=>{const{buttons:we}=e,{connectTable:K}=R,xe=K,Re=o.buttonPrefix||o["button-prefix"],Ae=o.buttonSuffix||o["button-suffix"],He=[];return Re&&He.push(..._r(Re({buttons:we||[],$grid:p,$gantt:b,$table:xe}))),we&&we.forEach((We,Xe)=>{const{dropdowns:Je,buttonRender:lt}=We;if(We.visible!==!1){const Ge=lt?Vb.get(lt.name):null;if(lt&&Ge&&Ge.renderToolbarButton){const gt=Ge.toolbarButtonClassName,Ve={$grid:p,$gantt:b,$table:xe,button:We};He.push(E("span",{key:`br${We.code||Xe}`,class:["vxe-button--item",gt?s.isFunction(gt)?gt(Ve):gt:""]},_r(Ge.renderToolbarButton(lt,Ve))))}else a&&He.push(E(a,Object.assign(Object.assign({key:`bd${We.code||Xe}`},Object.assign({},We,{content:We.name,options:void 0})),{onClick:gt=>oe(gt,We)}),Je&&Je.length?{dropdowns:()=>de(We,!0)}:{}))}}),Ae&&He.push(..._r(Ae({buttons:we||[],$grid:p,$gantt:b,$table:xe}))),He},be=()=>{const{tools:we}=e,{connectTable:K}=R,xe=K,Re=o.toolPrefix||o["tool-prefix"],Ae=o.toolSuffix||o["tool-suffix"],He=[];return Re&&He.push(..._r(Re({tools:we||[],$grid:p,$gantt:b,$table:xe}))),we&&we.forEach((We,Xe)=>{const{dropdowns:Je,toolRender:lt}=We;if(We.visible!==!1){const Ge=lt?lt.name:null,gt=lt?Vb.get(Ge):null;if(lt&&gt&&gt.renderToolbarTool){const Ve=gt.toolbarToolClassName,je={$grid:p,$gantt:b,$table:xe,tool:We};He.push(E("span",{key:Ge,class:["vxe-tool--item",Ve?s.isFunction(Ve)?Ve(je):Ve:""]},_r(gt.renderToolbarTool(lt,je))))}else a&&He.push(E(a,Object.assign(Object.assign({key:Xe},Object.assign({},We,{content:We.name,options:void 0})),{onClick:Ve=>ie(Ve,We)}),Je&&Je.length?{dropdowns:()=>de(We,!1)}:{}))}}),Ae&&He.push(..._r(Ae({tools:we||[],$grid:p,$gantt:b,$table:xe}))),He},le=()=>{const we=k.value;return a?E(a,{key:"import",circle:!0,icon:we.icon||zn().TOOLBAR_TOOLS_IMPORT,title:Wl("vxe.toolbar.import"),onClick:se}):mt()},Te=()=>{const we=_.value;return a?E(a,{key:"export",circle:!0,icon:we.icon||zn().TOOLBAR_TOOLS_EXPORT,title:Wl("vxe.toolbar.export"),onClick:ge}):mt()},Le=()=>{const we=U.value;return a?E(a,{key:"print",circle:!0,icon:we.icon||zn().TOOLBAR_TOOLS_PRINT,title:Wl("vxe.toolbar.print"),onClick:Oe}):mt()},Fe=()=>{const we=$.value;return a?E(a,{key:"refresh",circle:!0,icon:m.isRefresh?we.iconLoading||zn().TOOLBAR_TOOLS_REFRESH_LOADING:we.icon||zn().TOOLBAR_TOOLS_REFRESH,title:Wl("vxe.toolbar.refresh"),onClick:B}):mt()},ot=()=>{const we=W.value;return v&&a?E(a,{key:"zoom",circle:!0,icon:v.isMaximized()?we.iconOut||zn().TOOLBAR_TOOLS_MINIMIZE:we.iconIn||zn().TOOLBAR_TOOLS_FULLSCREEN,title:Wl(`vxe.toolbar.zoom${v.isMaximized()?"Out":"In"}`),onClick:Z}):mt()},De=()=>{const we=te.value,K=F.value,xe={};return K==="manual"||(K==="hover"?(xe.onMouseenter=j,xe.onMouseleave=N):xe.onClick=H),a?E(a,Object.assign({key:"custom",circle:!0,icon:we.icon||zn().TOOLBAR_TOOLS_CUSTOM,title:Wl("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},xe)):mt()},Ke=()=>{const{perfect:we,loading:K,refresh:xe,zoom:Re,custom:Ae,className:He}=e,{connectTable:We}=R,Xe=y.value,Je=o.tools,lt=o.buttons,Ge=We;return E("div",{ref:D,class:["vxe-toolbar",He?s.isFunction(He)?He({$toolbar:h}):He:"",{[`size--${Xe}`]:Xe,"is--perfect":we,"is--loading":K}]},[E("div",{class:"vxe-buttons--wrapper"},lt?lt({$grid:p,$gantt:b,$table:Ge}):me()),E("div",{class:"vxe-tools--wrapper"},Je?Je({$grid:p,$gantt:b,$table:Ge}):be()),E("div",{class:"vxe-tools--operate"},[e.import?le():mt(),e.export?Te():mt(),e.print?Le():mt(),xe?Fe():mt(),Re&&v?ot():mt(),Ae?De():mt()])])};return h.renderVN=Ke,ue(()=>{const we=$.value,K=we.queryMethod||we.query;e.refresh&&!v&&!K&&Ze("vxe.error.notFunc",["[toolbar] queryMethod"]),s.isPlainObject(e.custom)&&Ze("vxe.error.delProp",["[toolbar] custom={...}","custom=boolean & custom-options={...}"]),s.isPlainObject(e.print)&&Ze("vxe.error.delProp",["[toolbar] print={...}","print=boolean & print-options={...}"]),s.isPlainObject(e.export)&&Ze("vxe.error.delProp",["[toolbar] export={...}","export=boolean & export-options={...}"]),s.isPlainObject(e.import)&&Ze("vxe.error.delProp",["[toolbar] import={...}","import=boolean & import-options={...}"]),s.isPlainObject(e.refresh)&&Ze("vxe.error.delProp",["[toolbar] refresh={...}","refresh=boolean & refresh-options={...}"]),s.isPlainObject(e.refresh)&&Ze("vxe.error.delProp",["[toolbar] zoom={...}","zoom=boolean & zoom-options={...}"]);const xe=te.value;xe.isFooter&&Ze("vxe.error.delProp",["[toolbar] toolbar.custom.isFooter","table.custom-config.showFooter"]),xe.showFooter&&Ze("vxe.error.delProp",["[toolbar] toolbar.custom.showFooter","table.custom-config.showFooter"]),xe.immediate&&Ze("vxe.error.delProp",["[toolbar] toolbar.custom.immediate","table.custom-config.immediate"]),xe.trigger&&Ze("vxe.error.delProp",["[toolbar] toolbar.custom.trigger","table.custom-config.trigger"]),(e.refresh||e.import||e.export||e.print||e.zoom)&&(a||Ne("vxe.error.reqComp",["vxe-button"]))}),Mn(()=>{s.assign(R,Wb())}),h},render(){return this.renderVN()}}),{getConfig:ml,getI18n:jl,commands:oO,hooks:nO,useFns:lO,createEvent:iO,globalEvents:Ff,GLOBAL_EVENT_KEYS:aO,renderEmptyElement:dn}=ye,sO=Object.keys(Ea),jb=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","setRow","createData","createRow","revertData","clearData","isRemoveByRow","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getFullColumns","getData","getCheckboxRecords","getParentRow","getTreeRowChildren","getTreeRowLevel","getTreeParentRow","getRowSeq","getRowById","getRowid","getTableData","getFullData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","recalcRowHeight","setRowHeightConf","getRowHeightConf","setRowHeight","getRowHeight","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","setCheckboxRowKey","isCheckedByCheckboxRow","isCheckedByCheckboxRowKey","isIndeterminateByCheckboxRow","isIndeterminateByCheckboxRowKey","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","isCheckedByRadioRowKey","setRadioRow","setRadioRowKey","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","hasPendingByRow","isPendingByRow","getPendingRecords","clearPendingRow","setFilterByEvent","sort","setSort","setSortByEvent","clearSort","clearSortByEvent","isSort","getSortColumns","closeFilter","isFilter","clearFilterByEvent","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","setMergeHeaderCells","removeMergeHeaderCells","getMergeHeaderCells","clearMergeHeaderCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","getCustomStoreData","setRowGroupExpand","setRowGroupExpandByField","setAllRowGroupExpand","clearRowGroupExpand","isRowGroupExpandByRow","isRowGroupRecord","isAggregateRecord","isAggregateExpandByRow","getAggregateContentByRow","getAggregateRowChildren","setRowGroups","clearRowGroups","openTooltip","moveColumnTo","moveRowTo","getCellLabel","getCellElement","focus","blur","connect","connectToolbar"];function Ub(){return{}}const ti=Ao({name:"VxeGrid",props:eS,emits:tS,setup(e,t){var o;const{slots:l,emit:d}=t,a=s.uniqueId(),p=ye.getComponent("VxeForm"),b=ye.getComponent("VxePager"),v=[["Form"],["Toolbar","Top","Table","Bottom","Pager"]],{computeSize:y}=lO.useSize(e),m=Fo({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:((o=ml().pager)===null||o===void 0?void 0:o.pageSize)||10,currentPage:1}}),R=Ub(),D=Ye(),I=Ye(),h=Ye(),f=Ye(),$=Ye(),k=Ye(),_=Ye(),U=Ye(),W=Ye(),te=Ye(),X=Ye(),F=Q=>{const re={};return Q.forEach(Ee=>{re[Ee]=(...ke)=>{const Be=I.value;if(Be&&Be[Ee])return Be[Ee](...ke)}}),re},M=F(jb);jb.forEach(Q=>{M[Q]=(...re)=>{const Ee=I.value;if(Ee&&Ee[Q])return Ee&&Ee[Q](...re)}});const H=qe(()=>s.merge({},s.clone(ml().grid.proxyConfig,!0),e.proxyConfig)),j=qe(()=>{const Q=H.value;return!!(s.isBoolean(Q.message)?Q.message:Q.showResponseMsg)}),N=qe(()=>{const Q=H.value;return s.isBoolean(Q.showActionMsg)?Q.showActionMsg:!!Q.showActiveMsg}),B=qe(()=>Object.assign({},ml().grid.pagerConfig,e.pagerConfig)),Z=qe(()=>Object.assign({},ml().grid.formConfig,e.formConfig)),q=qe(()=>Object.assign({},ml().grid.toolbarConfig,e.toolbarConfig)),se=qe(()=>Object.assign({},ml().grid.zoomConfig,e.zoomConfig)),pe=qe(()=>{const{height:Q,maxHeight:re}=e,{isZMax:Ee,tZindex:ke}=m,Be={};return Ee?Be.zIndex=ke:(Q&&(Be.height=Q==="auto"||Q==="100%"?"100%":Zn(Q)),re&&(Be.maxHeight=re==="auto"||re==="100%"?"100%":Zn(re))),Be}),ge=qe(()=>{const Q={};return sO.forEach(re=>{Q[re]=e[re]}),Q}),ve=qe(()=>{const{seqConfig:Q,pagerConfig:re,editConfig:Ee,proxyConfig:ke}=e,{isZMax:Be,tablePage:Et}=m,Dt=ge.value,it=H.value,Ft=B.value,Qe=de.value,kt=Object.assign({},Dt);return Be&&(Dt.maxHeight?kt.maxHeight="100%":kt.height="100%"),ke&&It(it)&&(kt.loading=Qe,re&&it.seq&&It(Ft)&&(kt.seqConfig=Object.assign({},Q,{startIndex:(Et.currentPage-1)*Et.pageSize}))),Ee&&(kt.editConfig=Object.assign({},Ee)),kt}),Oe=qe(()=>{const{layouts:Q}=e;let re=[];Q&&Q.length?re=Q:re=ml().grid.layouts||v;let Ee=[],ke=[],Be=[];return re.length&&(s.isArray(re[0])?(Ee=re[0],ke=re[1]||[],Be=re[2]||[]):ke=re),{headKeys:Ee,bodyKeys:ke,footKeys:Be}}),ae=qe(()=>B.value.currentPage),oe=qe(()=>B.value.pageSize),ie=qe(()=>B.value.total),ce=qe(()=>{const{tablePage:Q}=m;return Math.max(Math.ceil(Q.total/Q.pageSize),1)}),de=qe(()=>{const{loading:Q,proxyConfig:re}=e,{tableLoading:Ee}=m,ke=H.value,{showLoading:Be}=ke;return Q||Ee&&Be&&re&&It(ke)}),me={refElem:D,refTable:I,refForm:h,refToolbar:f,refPager:$,refPopupContainerElem:k},be={computeProxyOpts:H,computePagerOpts:B,computeFormOpts:Z,computeToolbarOpts:q,computeZoomOpts:se},le={xID:a,props:e,context:t,reactData:m,internalData:R,getRefMaps:()=>me,getComputeMaps:()=>be},Te=()=>{const Q=q.value;e.toolbarConfig&&It(Q)&&ue(()=>{const re=I.value,Ee=f.value;re&&Ee&&re.connectToolbar(Ee)})},Le=()=>{const{proxyConfig:Q}=e,{formData:re}=m,Ee=H.value,ke=Z.value;return Q&&It(Ee)&&Ee.form?re:ke.data},Fe=Q=>{const{tablePage:re}=m,{pagerConfig:Ee}=e,ke=B.value;if(Ee&&It(ke))if(Q)ke[Q]&&(re[Q]=s.toNumber(ke[Q]));else{const{currentPage:Be,pageSize:Et,total:Dt}=ke;Be&&(re.currentPage=Be),Et&&(re.pageSize=Et),Dt&&(re.total=Dt)}},ot=Q=>{const re=N.value,Ee=I.value,ke=Ee?Ee.getCheckboxRecords():[];ke.length?(Ee&&Ee.togglePendingRow(ke),le.clearCheckboxRow()):re&&ye.modal&&ye.modal.message({id:Q,content:jl("vxe.grid.selectOneRecord"),status:"warning"})},De=(Q,re)=>{const Ee=H.value,Be=(Ee.response||Ee.props||{}).message,Et=I.value;let Dt;return Q&&Be&&(Dt=s.isFunction(Be)?Be({data:Q,$table:Et,$grid:le,$gantt:null}):s.get(Q,Be)),Dt||jl(re)},Ke=(Q,re,Ee)=>{const ke=N.value,Be=le.getCheckboxRecords();if(ke)if(Be.length){if(ye.modal)return ye.modal.confirm({id:`cfm_${Q}`,content:jl(re),escClosable:!0}).then(Et=>{if(Et==="confirm")return Ee()})}else ye.modal&&ye.modal.message({id:`msg_${Q}`,content:jl("vxe.grid.selectOneRecord"),status:"warning"});else Be.length&&Ee();return Promise.resolve()},we=Q=>{const{proxyConfig:re}=e,{tablePage:Ee}=m,{$event:ke,currentPage:Be,pageSize:Et}=Q,Dt=H.value;Ee.currentPage=Be,Ee.pageSize=Et,le.dispatchEvent("page-change",Q,ke),re&&It(Dt)&&le.commitProxy("query").then(it=>{le.dispatchEvent("proxy-query",it,ke)})},K=Q=>{const re=I.value,{proxyConfig:Ee}=e;if(!re)return;const{computeSortOpts:ke}=re.getComputeMaps(),Be=H.value;ke.value.remote&&(m.sortData=Q.sortList,Ee&&It(Be)&&(m.tablePage.currentPage=1,le.commitProxy("query").then(Dt=>{le.dispatchEvent("proxy-query",Dt,Q.$event)})))},xe=Q=>{K(Q),le.dispatchEvent("sort-change",Q,Q.$event)},Re=Q=>{K(Q),le.dispatchEvent("clear-all-sort",Q,Q.$event)},Ae=Q=>{const re=I.value,{proxyConfig:Ee}=e;if(!re)return;const{computeFilterOpts:ke}=re.getComputeMaps(),Be=H.value;ke.value.remote&&(m.filterData=Q.filterList,Ee&&It(Be)&&(m.tablePage.currentPage=1,le.commitProxy("query").then(Dt=>{le.dispatchEvent("proxy-query",Dt,Q.$event)})))},He=Q=>{Ae(Q),le.dispatchEvent("filter-change",Q,Q.$event)},We=Q=>{Ae(Q),le.dispatchEvent("clear-all-filter",Q,Q.$event)},Xe=Q=>{const{proxyConfig:re}=e,Ee=H.value;m.tableLoading||(re&&It(Ee)&&le.commitProxy("reload").then(ke=>{le.dispatchEvent("proxy-query",Object.assign(Object.assign({},ke),{isReload:!0}),Q.$event)}),le.dispatchEvent("form-submit",Q,Q.$event))},Je=Q=>{const re=I.value,{proxyConfig:Ee}=e,{$event:ke}=Q,Be=H.value;Ee&&It(Be)&&(re&&re.clearScroll(),le.commitProxy("reload").then(Et=>{le.dispatchEvent("proxy-query",Object.assign(Object.assign({},Et),{isReload:!0}),ke)})),le.dispatchEvent("form-reset",Q,ke)},lt=Q=>{le.dispatchEvent("form-submit-invalid",Q,Q.$event)},Ge=Q=>{const{$event:re}=Q;le.dispatchEvent("form-toggle-collapse",Q,re),le.dispatchEvent("form-collapse",Q,re)},gt=Q=>{const{isZMax:re}=m;return(Q?!re:re)&&(m.isZMax=!re,m.tZindex<kC()&&(m.tZindex=AC())),ue().then(()=>le.recalculate(!0)).then(()=>(setTimeout(()=>le.recalculate(!0),15),m.isZMax))},Ve=(Q,re)=>{const Ee=Q[re];if(Ee)if(s.isString(Ee)){if(l[Ee])return l[Ee];Ne("vxe.error.notSlot",[`[grid] ${Ee}`])}else return Ee;return null},je=Q=>{const re={};return s.objectMap(Q,(Ee,ke)=>{Ee&&(s.isString(Ee)?l[Ee]?re[ke]=l[Ee]:Ne("vxe.error.notSlot",[`[grid] ${Ee}`]):re[ke]=Ee)}),re},nt=()=>{const{formConfig:Q,proxyConfig:re}=e,{formData:Ee}=m,ke=H.value,Be=Z.value;if(Q&&It(Be)||l.form){let Et=[];if(l.form)Et=l.form({$grid:le,$gantt:null});else if(Be.items){const Dt={};if(!Be.inited){Be.inited=!0;const it=ke.beforeItem;ke&&it&&Be.items.forEach(Ft=>{it({$grid:le,$gantt:null,item:Ft})})}Be.items.forEach(it=>{s.each(it.slots,Ft=>{s.isFunction(Ft)||l[Ft]&&(Dt[Ft]=l[Ft])})}),p&&Et.push(E(p,Object.assign(Object.assign({ref:h},Object.assign({},Be,{data:re&&It(ke)&&ke.form?Ee:Be.data})),{onSubmit:Xe,onReset:Je,onSubmitInvalid:lt,onCollapse:Ge}),Dt))}return E("div",{ref:_,key:"form",class:"vxe-grid--form-wrapper"},Et)}return dn(le)},at=()=>{const{toolbarConfig:Q}=e,re=q.value,Ee=l.toolbar;if(Q&&It(re)||Ee){let ke=[];if(Ee)ke=Ee({$grid:le,$gantt:null});else{const Be=re.slots,Et={};if(Be){const Dt=Ve(Be,"buttons"),it=Ve(Be,"buttonPrefix"),Ft=Ve(Be,"buttonSuffix"),Qe=Ve(Be,"tools"),kt=Ve(Be,"toolPrefix"),Xt=Ve(Be,"toolSuffix");Dt&&(Et.buttons=Dt),it&&(Et.buttonPrefix=it),Ft&&(Et.buttonSuffix=Ft),Qe&&(Et.tools=Qe),kt&&(Et.toolPrefix=kt),Xt&&(Et.toolSuffix=Xt)}ke.push(E(yl,Object.assign(Object.assign({ref:f},re),{slots:void 0}),Et))}return E("div",{ref:U,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},ke)}return dn(le)},Mt=()=>{const Q=l.top;return Q?E("div",{ref:W,key:"top",class:"vxe-grid--top-wrapper"},Q({$grid:le,$gantt:null})):dn(le)},ht=()=>{const Q=l.left;return Q?E("div",{class:"vxe-grid--left-wrapper"},Q({$grid:le,$gantt:null})):dn(le)},vt=()=>{const Q=l.right;return Q?E("div",{class:"vxe-grid--right-wrapper"},Q({$grid:le,$gantt:null})):dn(le)},ft=()=>{const{proxyConfig:Q}=e,re=ve.value,Ee=H.value,ke=Object.assign({},Ot),Be=l.empty,Et=l.loading,Dt=l.rowDragIcon||l["row-drag-icon"],it=l.columnDragIcon||l["column-drag-icon"],Ft=l.headerTooltip||l["header-tooltip"],Qe=l.tooltip,kt=l.footerTooltip||l["footer-tooltip"];Q&&It(Ee)&&(Ee.sort&&(ke.onSortChange=xe,ke.onClearAllSort=Re),Ee.filter&&(ke.onFilterChange=He,ke.onClearAllFilter=We));const Xt={};return Be&&(Xt.empty=Be),Et&&(Xt.loading=Et),Dt&&(Xt.rowDragIcon=Dt),it&&(Xt.columnDragIcon=it),Ft&&(Xt.headerTooltip=Ft),Qe&&(Xt.tooltip=Qe),kt&&(Xt.footerTooltip=kt),E("div",{class:"vxe-grid--table-wrapper"},[E(wl,Object.assign(Object.assign({ref:I},re),ke),Xt)])},xt=()=>l.bottom?E("div",{ref:te,key:"bottom",class:"vxe-grid--bottom-wrapper"},l.bottom({$grid:le,$gantt:null})):dn(le),_e=()=>{const{proxyConfig:Q,pagerConfig:re}=e,Ee=H.value,ke=B.value,Be=l.pager;return re&&It(ke)||l.pager?E("div",{ref:X,key:"pager",class:"vxe-grid--pager-wrapper"},Be?Be({$grid:le,$gantt:null}):[b?E(b,Object.assign(Object.assign(Object.assign({ref:$},ke),Q&&It(Ee)?m.tablePage:{}),{onPageChange:we}),je(ke.slots)):dn(le)]):dn(le)},St=Q=>{const re=[];return Q.forEach(Ee=>{switch(Ee){case"Form":re.push(nt());break;case"Toolbar":re.push(at());break;case"Top":re.push(Mt());break;case"Table":re.push(E("div",{key:"table",class:"vxe-grid--table-container"},[ht(),ft(),vt()]));break;case"Bottom":re.push(xt());break;case"Pager":re.push(_e());break;default:Ne("vxe.error.notProp",[`[grid] layouts -> ${Ee}`]);break}}),re},pt=()=>{const Q=Oe.value,{headKeys:re,bodyKeys:Ee,footKeys:ke}=Q,Be=l.asideLeft||l["aside-left"],Et=l.asideRight||l["aside-right"];return[E("div",{class:"vxe-grid--layout-header-wrapper"},St(re)),E("div",{class:"vxe-grid--layout-body-wrapper"},[Be?E("div",{class:"vxe-grid--layout-aside-left-wrapper"},Be({})):dn(le),E("div",{class:"vxe-grid--layout-body-content-wrapper"},St(Ee)),Et?E("div",{class:"vxe-grid--layout-aside-right-wrapper"},Et({})):dn(le)]),E("div",{class:"vxe-grid--layout-footer-wrapper"},St(ke)),E("div",{ref:k})]},Ot={};ag.forEach(Q=>{const re=s.camelCase(`on-${Q}`);Ot[re]=(...Ee)=>d(Q,...Ee)});const Tt=()=>{const Q=Z.value;if(Q.items){const re={};return Q.items.forEach(Ee=>{const{field:ke,itemRender:Be}=Ee;if(ke){let Et=null;if(Be){const{startField:Dt,endField:it,defaultValue:Ft}=Be;s.isFunction(Ft)?Et=Ft({item:Ee}):s.isUndefined(Ft)||(Et=Ft),Dt&&it&&(s.set(re,Dt,null),s.set(re,it,null))}re[ke]=Et}}),re}return{}},$t=()=>{const{proxyConfig:Q,formConfig:re}=e,{proxyInited:Ee}=m,ke=H.value,Be=Z.value;Q&&It(ke)&&(re&&It(Be)&&ke.form&&Be.items&&(m.formData=Tt()),Ee||(m.proxyInited=!0,ke.autoLoad!==!1&&ue().then(()=>le.commitProxy("initial")).then(Et=>{Ut("proxy-query",Object.assign(Object.assign({},Et),{isInited:!0}),new Event("initial"))})))},ut=Q=>{const re=se.value;Ff.hasKey(Q,aO.ESCAPE)&&m.isZMax&&re.escRestore!==!1&&le.triggerZoomEvent(Q)},Ut=(Q,re,Ee)=>{d(Q,iO(Ee,{$grid:le,$gantt:null},re))},Yt={dispatchEvent:Ut,getEl(){return D.value},commitProxy(Q,...re){const{proxyConfig:Ee,toolbarConfig:ke,pagerConfig:Be,editRules:Et,validConfig:Dt}=e,{tablePage:it}=m,Ft=N.value,Qe=j.value,kt=H.value,Xt=B.value,Ar=q.value,{beforeQuery:Cr,afterQuery:wr,beforeDelete:qr,afterDelete:fr,beforeSave:Kr,afterSave:yr,ajax:Vt={}}=kt,Fr=kt.response||kt.props||{},bt=I.value;if(!bt)return ue();let mr=Le(),gr=null,ir=null;if(s.isString(Q)){const{buttons:nr}=Ar,Nr=ke&&It(Ar)&&nr?s.findTree(nr,io=>io.code===Q,{children:"dropdowns"}):null;gr=Nr?Nr.item:null,ir=Q}else gr=Q,ir=gr.code;const ho=gr?gr.params:null;switch(ir){case"insert":return bt.insert({});case"insert_edit":return bt.insert({}).then(({row:nr})=>bt.setEditRow(nr,!0));case"insert_actived":return bt.insert({}).then(({row:nr})=>bt.setEditRow(nr,!0));case"mark_cancel":ot(ir);break;case"remove":return Ke(ir,"vxe.grid.removeSelectRecord",()=>bt.removeCheckboxRow());case"import":bt.importData(ho);break;case"open_import":bt.openImport(ho);break;case"export":bt.exportData(ho);break;case"open_export":bt.openExport(ho);break;case"reset_custom":return bt.resetCustom(!0);case"initial":case"reload":case"query":{const nr=Vt.query,Nr=Vt.querySuccess,io=Vt.queryError;if(nr){const Sr=ir==="initial",Zr=ir==="reload";if(!Sr&&m.tableLoading)return ue();let oo=[],Gr=[],$r={};if(Be&&((Sr||Zr)&&(it.currentPage=1),It(Xt)&&($r=Object.assign({},it))),Sr){if(Ee&&It(kt)&&kt.form&&(mr=Tt(),m.formData=mr),bt){const yt=bt.internalData,{tableFullColumn:Ur,fullColumnFieldData:kr}=yt,{computeSortOpts:Zo}=bt.getComputeMaps();let uo=Zo.value.defaultSort;Ur.forEach(Jo=>{Jo.order=null}),uo&&(s.isArray(uo)||(uo=[uo]),oo=uo.map(Jo=>{const{field:Qo,order:en}=Jo,Bo=kr[Qo];if(Bo){const yo=Bo.column;yo&&(yo.order=en)}return{field:Qo,property:Qo,order:en}})),Gr=bt.getCheckedFilters()}}else bt&&(Zr?bt.clearAll():(oo=bt.getSortColumns(),Gr=bt.getCheckedFilters()));const er={$table:bt,$grid:le,$gantt:null,code:ir,button:gr,isInited:Sr,isReload:Zr,page:$r,sort:oo.length?oo[0]:{},sorts:oo,filters:Gr,form:mr,options:nr};return m.sortData=oo,m.filterData=Gr,m.tableLoading=!0,Promise.resolve((Cr||nr)(er,...re)).then(yt=>{let Ur=[];if(m.tableLoading=!1,yt)if(Be&&It(Xt)){const kr=Fr.total,Zo=(s.isFunction(kr)?kr({data:yt,$table:bt,$grid:le,$gantt:null}):s.get(yt,kr||"page.total"))||0;it.total=s.toNumber(Zo);const Jr=Fr.result;Ur=(s.isFunction(Jr)?Jr({data:yt,$table:bt,$grid:le,$gantt:null}):s.get(yt,Jr||"result"))||[];const uo=Math.max(Math.ceil(Zo/it.pageSize),1);it.currentPage>uo&&(it.currentPage=uo)}else{const kr=Fr.list;Ur=(kr?s.isFunction(kr)?kr({data:yt,$table:bt,$grid:le,$gantt:null}):s.get(yt,kr):yt)||[]}return bt?bt.loadData(Ur):ue(()=>{bt&&bt.loadData(Ur)}),wr&&wr(er,...re),Nr&&Nr(Object.assign(Object.assign({},er),{response:yt})),{status:!0}}).catch(yt=>(m.tableLoading=!1,io&&io(Object.assign(Object.assign({},er),{response:yt})),{status:!1}))}else Ne("vxe.error.notFunc",["[grid] proxy-config.ajax.query"]);break}case"delete":{const nr=Vt.delete,Nr=Vt.deleteSuccess,io=Vt.deleteError;if(nr){const Sr=le.getCheckboxRecords(),Zr=Sr.filter($r=>!bt.isInsertByRow($r)),Gr={$table:bt,$grid:le,$gantt:null,code:ir,button:gr,body:{removeRecords:Zr},form:mr,options:nr};if(Sr.length)return Ke(ir,"vxe.grid.deleteSelectRecord",()=>Zr.length?(m.tableLoading=!0,Promise.resolve((qr||nr)(Gr,...re)).then($r=>(m.tableLoading=!1,bt.setPendingRow(Zr,!1),Qe&&ye.modal&&ye.modal.message({content:De($r,"vxe.grid.delSuccess"),status:"success"}),fr?fr(Gr,...re):le.commitProxy("query"),Nr&&Nr(Object.assign(Object.assign({},Gr),{response:$r})),{status:!0})).catch($r=>(m.tableLoading=!1,Qe&&ye.modal&&ye.modal.message({id:ir,content:De($r,"vxe.grid.operError"),status:"error"}),io&&io(Object.assign(Object.assign({},Gr),{response:$r})),{status:!1}))):bt.remove(Sr));Ft&&ye.modal&&ye.modal.message({id:ir,content:jl("vxe.grid.selectOneRecord"),status:"warning"})}else Ne("vxe.error.notFunc",["[grid] proxy-config.ajax.delete"]);break}case"save":{const nr=Vt.save,Nr=Vt.saveSuccess,io=Vt.saveError;if(nr){const Sr=bt.getRecordset(),{insertRecords:Zr,removeRecords:oo,updateRecords:Gr,pendingRecords:$r}=Sr,er={$table:bt,$grid:le,$gantt:null,code:ir,button:gr,body:Sr,form:mr,options:nr};Zr.length&&(Sr.pendingRecords=$r.filter(Ur=>bt.findRowIndexOf(Zr,Ur)===-1)),$r.length&&(Sr.insertRecords=Zr.filter(Ur=>bt.findRowIndexOf($r,Ur)===-1));let yt=Promise.resolve();return Et&&(yt=bt[Dt&&Dt.msgMode==="full"?"fullValidate":"validate"](Sr.insertRecords.concat(Gr))),yt.then(Ur=>{if(!Ur){if(Sr.insertRecords.length||oo.length||Gr.length||Sr.pendingRecords.length)return m.tableLoading=!0,Promise.resolve((Kr||nr)(er,...re)).then(kr=>(m.tableLoading=!1,bt.clearPendingRow(),Qe&&ye.modal&&ye.modal.message({content:De(kr,"vxe.grid.saveSuccess"),status:"success"}),yr?yr(er,...re):le.commitProxy("query"),Nr&&Nr(Object.assign(Object.assign({},er),{response:kr})),{status:!0})).catch(kr=>(m.tableLoading=!1,Qe&&ye.modal&&ye.modal.message({id:ir,content:De(kr,"vxe.grid.operError"),status:"error"}),io&&io(Object.assign(Object.assign({},er),{response:kr})),{status:!1}));Ft&&ye.modal&&ye.modal.message({id:ir,content:jl("vxe.grid.dataUnchanged"),status:"info"})}})}else Ne("vxe.error.notFunc",["[grid] proxy-config.ajax.save"]);break}default:{const nr=oO.get(ir);if(nr){const Nr=nr.tableCommandMethod||nr.commandMethod;Nr?Nr({code:ir,button:gr,$grid:le,$table:bt,$gantt:null},...re):Ne("vxe.error.notCommands",[`[grid] ${ir}`])}}}return ue()},getParams(){return e.params},zoom(){return m.isZMax?le.revert():le.maximize()},isMaximized(){return m.isZMax},maximize(){return gt(!0)},revert(){return gt()},getFormData:Le,getFormItems(Q){const re=Z.value,{formConfig:Ee}=e,{items:ke}=re,Be=[];return s.eachTree(Ee&&It(re)&&ke?ke:[],Et=>{Be.push(Et)},{children:"children"}),s.isUndefined(Q)?Be:Be[Q]},resetForm(){const Q=h.value;return Q?Q.reset():ue()},validateForm(){const Q=h.value;return Q?Q.validate():ue()},validateFormField(Q){const re=h.value;return re?re.validateField(Q):ue()},clearFormValidate(Q){const re=h.value;return re?re.clearValidate(Q):ue()},homePage(){const{tablePage:Q}=m;return Q.currentPage=1,ue()},homePageByEvent(Q){const re=$.value;re&&re.homePageByEvent(Q)},endPage(){const{tablePage:Q}=m,re=ce.value;return Q.currentPage=re,ue()},endPageByEvent(Q){const re=$.value;re&&re.endPageByEvent(Q)},setCurrentPage(Q){const{tablePage:re}=m,Ee=ce.value;return re.currentPage=Math.min(Ee,Math.max(1,s.toNumber(Q))),ue()},setCurrentPageByEvent(Q,re){const Ee=$.value;Ee&&Ee.setCurrentPageByEvent(Q,re)},setPageSize(Q){const{tablePage:re}=m;return re.pageSize=Math.max(1,s.toNumber(Q)),ue()},setPageSizeByEvent(Q,re){const Ee=$.value;Ee&&Ee.setPageSizeByEvent(Q,re)},getProxyInfo(){const Q=I.value;if(e.proxyConfig){const{sortData:re}=m;return{data:Q?Q.getFullData():[],filter:m.filterData,form:Le(),sort:re.length?re[0]:{},sorts:re,pager:m.tablePage,pendingRecords:Q?Q.getPendingRecords():[]}}return null}},Ct={extendTableMethods:F,callSlot(Q,re){return Q&&(s.isString(Q)&&(Q=l[Q]||null),s.isFunction(Q))?_r(Q(re)):[]},getExcludeHeight(){const{isZMax:Q}=m,re=D.value;if(re){const Ee=_.value,ke=U.value,Be=W.value,Et=te.value,Dt=X.value,it=re.parentElement;return(Q?0:it?$f(it):0)+$f(re)+Di(Ee)+Di(ke)+Di(Be)+Di(Et)+Di(Dt)}return 0},getParentHeight(){const Q=D.value;if(Q){const re=Q.parentElement;return(m.isZMax?qa().visibleHeight:re?s.toNumber(getComputedStyle(re).height):0)-Ct.getExcludeHeight()}return 0},triggerToolbarCommitEvent(Q,re){const{code:Ee}=Q;return le.commitProxy(Q,re).then(ke=>{Ee&&ke&&ke.status&&["query","reload","delete","save"].includes(Ee)&&le.dispatchEvent(Ee==="delete"||Ee==="save"?`proxy-${Ee}`:"proxy-query",Object.assign(Object.assign({},ke),{isReload:Ee==="reload"}),re)})},triggerToolbarBtnEvent(Q,re){le.triggerToolbarCommitEvent(Q,re),le.dispatchEvent("toolbar-button-click",{code:Q.code,button:Q},re)},triggerToolbarTolEvent(Q,re){le.triggerToolbarCommitEvent(Q,re),le.dispatchEvent("toolbar-tool-click",{code:Q.code,tool:Q},re)},triggerZoomEvent(Q){le.zoom(),le.dispatchEvent("zoom",{type:m.isZMax?"max":"revert"},Q)}};Object.assign(le,M,Yt,Ct,{loadColumn(Q){const re=I.value;return s.eachTree(Q,Ee=>{Ee.slots&&s.each(Ee.slots,ke=>{s.isFunction(ke)||l[ke]||Ne("vxe.error.notSlot",[`[grid] ${ke}`])})}),re?re.loadColumn(Q):ue()},reloadColumn(Q){return le.clearAll(),le.loadColumn(Q)}});const wt=()=>{const Q=y.value,re=pe.value,Ee=de.value;return E("div",{ref:D,class:["vxe-grid",{[`size--${Q}`]:Q,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":m.isZMax,"is--loading":Ee}],style:re},pt())},qt=Ye(0);return _t(()=>e.columns?e.columns.length:-1,()=>{qt.value++}),_t(()=>e.columns,()=>{qt.value++}),_t(qt,()=>{ue(()=>le.loadColumn(e.columns||[]))}),_t(()=>e.toolbarConfig,()=>{Te()}),_t(ae,()=>{Fe("currentPage")}),_t(oe,()=>{Fe("pageSize")}),_t(ie,()=>{Fe("total")}),_t(()=>e.proxyConfig,()=>{$t()}),nO.forEach(Q=>{const{setupGrid:re}=Q;if(re){const Ee=re(le);Ee&&s.isObject(Ee)&&Object.assign(le,Ee)}}),Fe(),El(()=>{ue(()=>{const{columns:Q}=e,re=H.value;e.formConfig&&(p||Ne("vxe.error.reqComp",["vxe-form"])),e.pagerConfig&&(b||Ne("vxe.error.reqComp",["vxe-pager"])),re.props&&Ze("vxe.error.delProp",["[grid] proxy-config.props","proxy-config.response"]),Q&&Q.length&&le.loadColumn(Q),Te(),$t()}),Ff.on(le,"keydown",ut)}),Mn(()=>{Ff.off(le,"keydown"),s.assign(R,Ub())}),le.renderVN=wt,_o("$xeGrid",le),_o("$xeGantt",null),le},render(){return this.renderVN()}});Object.assign({},ti,{install(e){e.component(ti.name,ti)}});ye.dynamicApp&&ye.dynamicApp.component(ti.name,ti);ye.component(ti);function cO(e){const t=qe(()=>{const{renderParams:a}=e;return a.column}),o=qe(()=>{const{renderParams:a}=e;return a.row}),l=qe(()=>{const{renderOpts:a}=e;return a.props||{}}),d=qe({get(){const{renderParams:a}=e,{row:p,column:b}=a;return s.get(p,b.field)},set(a){const{renderParams:p}=e,{row:b,column:v}=p;return s.set(b,v.field,a)}});return{currColumn:t,currRow:o,cellModel:d,cellOptions:l}}const hO=Object.assign({},wl,{install(e){e.component(wl.name,wl)}}),uO={useCellView:cO};ye.dynamicApp&&ye.dynamicApp.component(wl.name,wl);ye.component(wl);ye.tableHandle=uO;Object.assign({},yl,{install(e){e.component(yl.name,yl)}});ye.dynamicApp&&ye.dynamicApp.component(yl.name,yl);ye.component(yl);const dO={vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择",comma:"，",fullStop:"。"},loading:{text:"加载中..."},error:{downErr:"下载失败",errLargeData:"当绑定的数据量过大时，应该请使用 {0}，否则可能会出现卡顿",groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',modelConflicts:'绑定的字段值 "{0}" 与 "{1}" 存在冲突，将会出现错误',notSupportProp:'当启用参数 "{0}" 时不支持 "{1}"，应该为 "{2}"，否则将会出现错误',reqSupportProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会出现错误',notConflictProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会存在功能冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqComp:'缺少 "{0}" 组件，请检查是否正确安装。 https://vxeui.com/#/start/useGlobal',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',noGroup:'数据分组后不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',uniField:'字段名 "{0}" 重复定义，这可能会出现错误',repeatKey:'主键重复 {0}="{1}"，这可能会出现错误',repeatProp:'参数重复 {0}="{1}"，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入",treeCrossDrag:"只能拖拽第一层级",treeDragChild:"父级不能拖拽到自己的子级中",reqPlugin:'扩展插件未安装 "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:"超过支持的最大数据量 {0} 行，这可能会导致出现错误",useNew:"不建议使用 {0}，请使用 {1}",errorVersion:"版本不匹配，当前版本 {0}，最低支持版本为 {1}"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"序号",actionTitle:"操作",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expError:"导出失败",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customClose:"关闭",customCancel:"取消",customRestore:"恢复默认",maxFixedCol:"最大冻结列的数量不能超过 {0} 个",maxGroupCol:"最大分组字段的数量不能超过 {0} 个",dragTip:"移动：{0}",resizeColTip:"宽：{0} 像素",resizeRowTip:"高：{0} 像素",rowGroupContentTotal:"{0}（{1}）"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{clear:"清除",allChecked:"全选",total:"{0} / {1}",search:"搜索",loadingText:"加载中",emptyText:"暂无数据",maxSize:"最大可选择的数量不能超过 {0} 个",overSizeErr:"已超出最大可选数量 {0} 个，超出部分将被忽略！",searchEmpty:"未匹配到数据！"},tree:{searchEmpty:"未匹配到数据！"},treeSelect:{clearChecked:"清除",allChecked:"全选",allExpand:"全部展开",clearExpand:"全部收起",total:"已选 {0}",search:"搜索",emptyText:"暂无数据"},pager:{goto:"前往",gotoTitle:"页数",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消",clear:"清除"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整顺序",colTitle:"列标题",colResizable:"列宽（像素）",colVisible:"是否显示",colFixed:"冻结列",colFixedMax:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖方式（直接覆盖表格数据）",insert:"底部追加（在表格的底部追加新数据）",insertTop:"顶部追加（在表格的顶部追加新数据）",insertBottom:"底部追加（在表格的底部追加新数据）"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impMode:"导入模式",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"空数据",current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expOptTitle:"列标题",expTitleTitle:"是否为列标题，否则显示为列的字段名",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开树",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{errTitle:"错误提示",zoomMin:"最小化",zoomIn:"最大化",zoomOut:"还原",close:"关闭",miniMaxSize:"最小化窗口的数量不能超过 {0} 个",footPropErr:"show-footer 仅用于启用表尾，需配合 show-confirm-button | show-cancel-button | 插槽使用"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},datePicker:{yearTitle:"{0} 年"},dateRangePicker:{pleaseRange:"请选择开始日期与结束日期"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},numberInput:{currencySymbol:"¥"},imagePreview:{popupTitle:"预览",operBtn:{zoomOut:"缩小",zoomIn:"放大",pctFull:"等比例缩放",pct11:"显示原始尺寸",rotateLeft:"向左旋转",rotateRight:"向右旋转",print:"点击打印图片",download:"点击下载图片"}},upload:{fileBtnText:"点击或拖拽上传",imgBtnText:"点击或拖拽上传",dragPlaceholder:"请把文件拖放到这个区域即可上传",imgSizeHint:"单张{0}",imgCountHint:"最多{0}张",fileTypeHint:"支持 {0} 文件类型",fileSizeHint:"单个文件大小不超过{0}",fileCountHint:"最多可上传{0}个文件",uploadTypeErr:"文件类型不匹配！",overCountErr:"最多只能选择{0}个文件！",overCountExtraErr:"已超出最大数量{0}个，超出的{1}个文件将被忽略！",overSizeErr:"文件大小最大不能超过{0}！",manualUpload:"点击上传",reUpload:"重新上传",uploadProgress:"上传中 {0}%",uploadErr:"上传失败",uploadSuccess:"上传成功",moreBtnText:"更多（{0}）",viewItemTitle:"点击查看",morePopup:{readTitle:"查看列表",imageTitle:"上传图片",fileTitle:"上传文件"}},empty:{defText:"暂无数据"},colorPicker:{clear:"清除",confirm:"确认",copySuccess:"已复制到剪贴板：{0}",hex:"十六进制"},formDesign:{formName:"表单名称",defFormTitle:"未命名的表单",widgetPropTab:"控件属性",widgetFormTab:"表单属性",error:{wdFormUni:"该类型的控件在表单中只允许添加一个",wdSubUni:"该类型的控件在子表中只允许添加一个"},styleSetting:{btn:"样式设置",title:"表单的样式设置",layoutTitle:"控件布局",verticalLayout:"上下布局",horizontalLayout:"横向布局",styleTitle:"标题样式",boldTitle:"标题加粗",fontBold:"加粗",fontNormal:"常规",colonTitle:"显示冒号",colonVisible:"显示",colonHidden:"隐藏",alignTitle:"对齐方式",widthTitle:"标题宽度",alignLeft:"居左",alignRight:"居右",unitPx:"像素",unitPct:"百分比"},widget:{group:{base:"基础控件",layout:"布局控件",system:"系统控件",module:"模块控件",chart:"图表控件",advanced:"高级控件"},copyTitle:"副本_{0}",component:{input:"输入框",textarea:"文本域",select:"下拉选择",row:"一行多列",title:"标题",text:"文本",subtable:"子表",VxeSwitch:"是/否",VxeInput:"输入框",VxeNumberInput:"数字",VxeDatePicker:"日期",VxeTextarea:"文本域",VxeSelect:"下拉选择",VxeTreeSelect:"树形选择",VxeRadioGroup:"单选框",VxeCheckboxGroup:"复选框",VxeUploadFile:"文件",VxeUploadImage:"图片",VxeRate:"评分",VxeSlider:"滑块"}},widgetProp:{name:"控件名称",placeholder:"提示语",required:"必填校验",multiple:"允许多选",displaySetting:{name:"显示设置",pc:"电脑端",mobile:"手机端",visible:"显示",hidden:"隐藏"},dataSource:{name:"数据源",defValue:"选项{0}",addOption:"添加选项",batchEditOption:"批量编辑",batchEditTip:"每行对应一个选项，支持从表格、Excel、WPS 中直接复制粘贴。",batchEditSubTip:"每行对应一个选项，如果是分组，子项可以是空格或制表键开头，支持从表格、Excel、WPS 中直接复制粘贴。",buildOption:"生成选项"},rowProp:{colSize:"列数",col2:"两列",col3:"三列",col4:"四列",col6:"六列",layout:"布局"},textProp:{name:"内容",alignTitle:"对齐方式",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",colorTitle:"字体颜色",sizeTitle:"字体大小",boldTitle:"字体加粗",fontNormal:"常规",fontBold:"加粗"},subtableProp:{seqTitle:"序号",showSeq:"显示序号",showCheckbox:"允许多选",errSubDrag:"子表不支持该控件，请使用其他控件",colPlace:"将控件拖拽进来"},uploadProp:{limitFileCount:"文件数量限制",limitFileSize:"文件大小限制",multiFile:"允许上传多个文件",limitImgCount:"图片数量限制",limitImgSize:"图片大小限制",multiImg:"允许上传多张图片"}}},listDesign:{fieldSettingTab:"字段设置",listSettingTab:"参数设置",searchTitle:"查询条件",listTitle:"列表字段",searchField:"查询字段",listField:"列表字段",activeBtn:{ActionButtonUpdate:"编辑",ActionButtonDelete:"删除"},search:{addBtn:"编辑",emptyText:"未配置查询条件",editPopupTitle:"编辑查询字段"},searchPopup:{colTitle:"标题",saveBtn:"保存"}},text:{copySuccess:"已复制到剪贴板",copyError:"当前环境不支持该操作"},countdown:{formats:{yyyy:"年",MM:"月",dd:"天",HH:"时",mm:"分",ss:"秒"}},gantt:{tFullFormat:{year:"{yy}年",quarter:"{yy}年第{q}季度",month:"{yy}年{M}月",week:"{yy}年第{W}周",day:"{yy}年{M}月{E}日",date:"{yy}年{M}月{d}日",hour:"{yy}年 {M}月{d}日{H}时",minute:"{yy}年{M}月{d}日{H}时{m}分"},tSimpleFormat:{year:"{yy}年",quarter:"{q}季度",month:"{M}月",week:"{W}周",day:"{d}",date:"{d}",hour:"{H}时",minute:"{m}分"},dayss:{w0:"日",w1:"一",w2:"二",w3:"三",w4:"四",w5:"五",w6:"六"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",selectErr:"无法操作指定区域的单元格",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},body:{row:"行：{0}",col:"列：{0}"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},extendPivotTable:{aggregation:{grouping:"分组",values:"值",groupPlaceholder:"拖至此处进行分组",valuesPlaceholder:"拖至此处进行聚合",dragExistCol:"该列已存在",sortHelpTip:"点击并拖动图标可以调整顺序"},aggFuncs:{sum:"求和",count:"计数",avg:"平均值",min:"最小值",max:"最大值",first:"首个值",last:"末尾值"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结到左侧",fixedRight:"冻结到右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}};if(!ye.hasLanguage("zh-CN")){const e="zh-CN";ye.setI18n(e,dO),ye.setLanguage(e)}ye.setTheme("light");export{QE as A,va as B,RR as C,eg as D,uR as E,bR as F,bl as G,ha as H,TC as I,yC as J,tR as K,cR as L,sR as M,tg as N,yR as O,wR as P,hO as Q,pO as R,ye as V,s as X,eR as a,wC as b,rR as c,CR as d,oR as e,Ul as f,JE as g,SC as h,MC as i,FC as j,ER as k,vn as l,aR as m,Rl as n,DR as o,mR as p,vR as q,OR as r,ZE as s,SR as t,xR as u,DC as v,ny as w,dR as x,CC as y,KE as z};
