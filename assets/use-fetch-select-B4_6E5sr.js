import{r as c,o as i,d as p,Y as d,c as f,u as r,H as v,Z as _}from"./vue-B71fNrMB.js";import{a as m,W as E}from"./antd-DuJ4DLpV.js";function S(t){const{api:a}=t,e=c(!1),o=c([]),n=c(void 0),s=()=>{e.value=!0,o.value=[],a().then(l=>{o.value=l.data}).finally(()=>{e.value=!1})};return i(()=>{s()}),{loading:e,options:o,value:n}}const h={code:0,data:[{label:"苹果",value:1},{label:"香蕉",value:2},{label:"橘子",value:3,disabled:!0}],message:"获取 Select 数据成功"},u="接口发生错误";function R(){return new Promise((t,a)=>{setTimeout(()=>{Math.random()<.8?t(h):(a(new Error(u)),m.error(u))},2e3)})}const b={class:"app-container"},w=p({__name:"use-fetch-select",setup(t){const{options:a,value:e}=S({api:R});return(o,n)=>{const s=E;return _(),d("div",b,[f(s,{value:r(e),"onUpdate:value":n[0]||(n[0]=l=>v(e)?e.value=l:null),options:r(a),placeholder:"请输入手机号",style:{width:"200px"}},null,8,["value","options"])])}}});export{w as default};
